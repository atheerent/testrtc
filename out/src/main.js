function runAllSequentially(e,t){var n=-1,i=setTimeout.bind(null,function(){if(++n===e.length)return void t();e[n].run(i)});i()}!function(e,t,n,i,r,o,s){e.GoogleAnalyticsObject=r,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,o=t.createElement(n),s=t.getElementsByTagName(n)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-48530561-3","auto"),ga("send","pageview"),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).adapter=e()}}(function(){return function o(s,a,c){function l(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[t]={exports:{}};s[t][0].call(r.exports,function(e){return l(s[t][1][e]||e)},r,r.exports,o,s,a,c)}return a[t].exports}for(var d="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){"use strict";var L=e("sdp");function c(e,t,n,i,r){var o=L.writeRtpDescription(e.kind,t);if(o+=L.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=L.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":r||"active"),o+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var a="msid:"+(i?i.id:"-")+" "+s+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+L.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+L.localCName+"\r\n"),o}function B(l,d){var h={codecs:[],headerExtensions:[],fecMechanisms:[]},u=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]};return l.codecs.forEach(function(n){for(var e=0;e<d.codecs.length;e++){var t=d.codecs[e];if(n.name.toLowerCase()===t.name.toLowerCase()&&n.clockRate===t.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&t.parameters.apt&&(i=n,r=t,o=l.codecs,s=d.codecs,c=a=void 0,a=u(i.parameters.apt,o),c=u(r.parameters.apt,s),!a||!c||a.name.toLowerCase()!==c.name.toLowerCase()))continue;(t=JSON.parse(JSON.stringify(t))).numChannels=Math.min(n.numChannels,t.numChannels),h.codecs.push(t),t.rtcpFeedback=t.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}var i,r,o,s,a,c}),l.headerExtensions.forEach(function(e){for(var t=0;t<d.headerExtensions.length;t++){var n=d.headerExtensions[t];if(e.uri===n.uri){h.headerExtensions.push(n);break}}}),h}function o(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function F(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function f(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}t.exports=function(O,D){function M(e,t){t.addTrack(e),t.dispatchEvent(new O.MediaStreamTrackEvent("addtrack",{track:e}))}function r(e,t,n,i){var r=new Event("track");r.track=t,r.receiver=n,r.transceiver={receiver:n},r.streams=i,O.setTimeout(function(){e._dispatchEvent("track",r)})}var i=function(e){var t,i,r,n=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){n[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",e=JSON.parse(JSON.stringify(e||{})),this.usingBundle="max-bundle"===e.bundlePolicy,"negotiate"===e.rtcpMuxPolicy)throw f("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(e.rtcpMuxPolicy||(e.rtcpMuxPolicy="require"),e.iceTransportPolicy){case"all":case"relay":break;default:e.iceTransportPolicy="all"}switch(e.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:e.bundlePolicy="balanced"}if(e.iceServers=(t=e.iceServers||[],i=D,r=!1,(t=JSON.parse(JSON.stringify(t))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var n="string"==typeof t;return n&&(t=[t]),t=t.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&14393<=i&&-1===e.indexOf("?transport=udp"):r=!0}),delete e.url,e.urls=n?t[0]:t,!!t.length}})),this._iceGatherers=[],e.iceCandidatePoolSize)for(var s=e.iceCandidatePoolSize;0<s;s--)this._iceGatherers.push(new O.RTCIceGatherer({iceServers:e.iceServers,gatherPolicy:e.iceTransportPolicy}));else e.iceCandidatePoolSize=0;this._config=e,this.transceivers=[],this._sdpSessionId=L.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(i.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(i.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),i.prototype.onicecandidate=null,i.prototype.onaddstream=null,i.prototype.ontrack=null,i.prototype.onremovestream=null,i.prototype.onsignalingstatechange=null,i.prototype.oniceconnectionstatechange=null,i.prototype.onconnectionstatechange=null,i.prototype.onicegatheringstatechange=null,i.prototype.onnegotiationneeded=null,i.prototype.ondatachannel=null,i.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},i.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},i.prototype.getConfiguration=function(){return this._config},i.prototype.getLocalStreams=function(){return this.localStreams},i.prototype.getRemoteStreams=function(){return this.remoteStreams},i.prototype._createTransceiver=function(e,t){var n=0<this.transceivers.length,i={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)i.iceTransport=this.transceivers[0].iceTransport,i.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();i.iceTransport=r.iceTransport,i.dtlsTransport=r.dtlsTransport}return t||this.transceivers.push(i),i},i.prototype.addTrack=function(t,e){if(this._isClosed)throw f("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find(function(e){return e.track===t}))throw f("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(n=this.transceivers[i]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(e)&&this.localStreams.push(e),n.track=t,n.stream=e,n.rtpSender=new O.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},i.prototype.addStream=function(t){var n=this;if(15025<=D)t.getTracks().forEach(function(e){n.addTrack(e,t)});else{var i=t.clone();t.getTracks().forEach(function(e,t){var n=i.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),i.getTracks().forEach(function(e){n.addTrack(e,i)})}},i.prototype.removeTrack=function(t){if(this._isClosed)throw f("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof O.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var e=this.transceivers.find(function(e){return e.rtpSender===t});if(!e)throw f("InvalidAccessError","Sender was not created by this connection.");var n=e.stream;e.rtpSender.stop(),e.rtpSender=null,e.track=null,e.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(n)&&-1<this.localStreams.indexOf(n)&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},i.prototype.removeStream=function(e){var n=this;e.getTracks().forEach(function(t){var e=n.getSenders().find(function(e){return e.track===t});e&&n.removeTrack(e)})},i.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},i.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},i.prototype._createIceGatherer=function(n,e){var i=this;if(e&&0<n)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new O.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[n].bufferedCandidateEvents=[],this.transceivers[n].bufferCandidates=function(e){var t=!e.candidate||0===Object.keys(e.candidate).length;r.state=t?"completed":"gathering",null!==i.transceivers[n].bufferedCandidateEvents&&i.transceivers[n].bufferedCandidateEvents.push(e)},r.addEventListener("localcandidate",this.transceivers[n].bufferCandidates),r},i.prototype._gather=function(a,c){var l=this,d=this.transceivers[c].iceGatherer;if(!d.onlocalcandidate){var e=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,d.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),d.onlocalcandidate=function(e){if(!(l.usingBundle&&0<c)){var t=new Event("icecandidate");t.candidate={sdpMid:a,sdpMLineIndex:c};var n=e.candidate,i=!n||0===Object.keys(n).length;if(i)"new"!==d.state&&"gathering"!==d.state||(d.state="completed");else{"new"===d.state&&(d.state="gathering"),n.component=1,n.ufrag=d.getLocalParameters().usernameFragment;var r=L.writeCandidate(n);t.candidate=Object.assign(t.candidate,L.parseCandidate(r)),t.candidate.candidate=r,t.candidate.toJSON=function(){return{candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex,usernameFragment:t.candidate.usernameFragment}}}var o=L.getMediaSections(l._localDescription.sdp);o[t.candidate.sdpMLineIndex]+=i?"a=end-of-candidates\r\n":"a="+t.candidate.candidate+"\r\n",l._localDescription.sdp=L.getDescription(l._localDescription.sdp)+o.join("");var s=l.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==l.iceGatheringState&&(l.iceGatheringState="gathering",l._emitGatheringStateChange()),i||l._dispatchEvent("icecandidate",t),s&&(l._dispatchEvent("icecandidate",new Event("icecandidate")),l.iceGatheringState="complete",l._emitGatheringStateChange())}},O.setTimeout(function(){e.forEach(function(e){d.onlocalcandidate(e)})},0)}},i.prototype._createIceAndDtlsTransports=function(){var e=this,t=new O.RTCIceTransport(null);t.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var n=new O.RTCDtlsTransport(t);return n.ondtlsstatechange=function(){e._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:t,dtlsTransport:n}},i.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},i.prototype._transceive=function(e,t,n){var i=B(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:L.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&0<i.codecs.length&&("video"===e.kind&&e.recvEncodingParameters&&D<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?i.encodings=e.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(i.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},i.prototype.setLocalDescription=function(e){var t,h,u=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(f("TypeError",'Unsupported type "'+e.type+'"'));if(!o("setLocalDescription",e.type,u.signalingState)||u._isClosed)return Promise.reject(f("InvalidStateError","Can not set local "+e.type+" in state "+u.signalingState));if("offer"===e.type)t=L.splitSections(e.sdp),h=t.shift(),t.forEach(function(e,t){var n=L.parseRtpParameters(e);u.transceivers[t].localCapabilities=n}),u.transceivers.forEach(function(e,t){u._gather(e.mid,t)});else if("answer"===e.type){t=L.splitSections(u._remoteDescription.sdp),h=t.shift();var p=0<L.matchPrefix(h,"a=ice-lite").length;t.forEach(function(e,t){var n=u.transceivers[t],i=n.iceGatherer,r=n.iceTransport,o=n.dtlsTransport,s=n.localCapabilities,a=n.remoteCapabilities;if(!(L.isRejected(e)&&0===L.matchPrefix(e,"a=bundle-only").length)&&!n.rejected){var c=L.getIceParameters(e,h),l=L.getDtlsParameters(e,h);p&&(l.role="server"),u.usingBundle&&0!==t||(u._gather(n.mid,t),"new"===r.state&&r.start(i,c,p?"controlling":"controlled"),"new"===o.state&&o.start(l));var d=B(s,a);u._transceive(n,0<d.codecs.length,!1)}})}return u._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?u._updateSignalingState("have-local-offer"):u._updateSignalingState("stable"),Promise.resolve()},i.prototype.setRemoteDescription=function(w){var R=this;if(-1===["offer","answer"].indexOf(w.type))return Promise.reject(f("TypeError",'Unsupported type "'+w.type+'"'));if(!o("setRemoteDescription",w.type,R.signalingState)||R._isClosed)return Promise.reject(f("InvalidStateError","Can not set remote "+w.type+" in state "+R.signalingState));var x={};R.remoteStreams.forEach(function(e){x[e.id]=e});var I=[],e=L.splitSections(w.sdp),A=e.shift(),N=0<L.matchPrefix(A,"a=ice-lite").length,k=0<L.matchPrefix(A,"a=group:BUNDLE ").length;R.usingBundle=k;var t=L.matchPrefix(A,"a=ice-options:")[0];return R.canTrickleIceCandidates=!!t&&0<=t.substr(14).split(" ").indexOf("trickle"),e.forEach(function(e,t){var n=L.splitLines(e),i=L.getKind(e),r=L.isRejected(e)&&0===L.matchPrefix(e,"a=bundle-only").length,o=n[0].substr(2).split(" ")[2],s=L.getDirection(e,A),a=L.parseMsid(e),c=L.getMid(e)||L.generateIdentifier();if(r||"application"===i&&("DTLS/SCTP"===o||"UDP/DTLS/SCTP"===o))R.transceivers[t]={mid:c,kind:i,protocol:o,rejected:!0};else{var l,d,h,u,p,f,m,v,_;!r&&R.transceivers[t]&&R.transceivers[t].rejected&&(R.transceivers[t]=R._createTransceiver(i,!0));var y,g,b=L.parseRtpParameters(e);r||(y=L.getIceParameters(e,A),(g=L.getDtlsParameters(e,A)).role="client"),m=L.parseRtpEncodingParameters(e);var C=L.parseRtcpParameters(e),S=0<L.matchPrefix(e,"a=end-of-candidates",A).length,P=L.matchPrefix(e,"a=candidate:").map(function(e){return L.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===w.type||"answer"===w.type)&&!r&&k&&0<t&&R.transceivers[t]&&(R._disposeIceAndDtlsTransports(t),R.transceivers[t].iceGatherer=R.transceivers[0].iceGatherer,R.transceivers[t].iceTransport=R.transceivers[0].iceTransport,R.transceivers[t].dtlsTransport=R.transceivers[0].dtlsTransport,R.transceivers[t].rtpSender&&R.transceivers[t].rtpSender.setTransport(R.transceivers[0].dtlsTransport),R.transceivers[t].rtpReceiver&&R.transceivers[t].rtpReceiver.setTransport(R.transceivers[0].dtlsTransport)),"offer"!==w.type||r){if("answer"===w.type&&!r){d=(l=R.transceivers[t]).iceGatherer,h=l.iceTransport,u=l.dtlsTransport,p=l.rtpReceiver,f=l.sendEncodingParameters,v=l.localCapabilities,R.transceivers[t].recvEncodingParameters=m,R.transceivers[t].remoteCapabilities=b,R.transceivers[t].rtcpParameters=C,P.length&&"new"===h.state&&(!N&&!S||k&&0!==t?P.forEach(function(e){F(l.iceTransport,e)}):h.setRemoteCandidates(P)),k&&0!==t||("new"===h.state&&h.start(d,y,"controlling"),"new"===u.state&&u.start(g)),!B(l.localCapabilities,l.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&l.sendEncodingParameters[0].rtx&&delete l.sendEncodingParameters[0].rtx,R._transceive(l,"sendrecv"===s||"recvonly"===s,"sendrecv"===s||"sendonly"===s),!p||"sendrecv"!==s&&"sendonly"!==s?delete l.rtpReceiver:(_=p.track,a?(x[a.stream]||(x[a.stream]=new O.MediaStream),M(_,x[a.stream]),I.push([_,p,x[a.stream]])):(x.default||(x.default=new O.MediaStream),M(_,x.default),I.push([_,p,x.default])))}}else{(l=R.transceivers[t]||R._createTransceiver(i)).mid=c,l.iceGatherer||(l.iceGatherer=R._createIceGatherer(t,k)),P.length&&"new"===l.iceTransport.state&&(!S||k&&0!==t?P.forEach(function(e){F(l.iceTransport,e)}):l.iceTransport.setRemoteCandidates(P)),v=O.RTCRtpReceiver.getCapabilities(i),D<15019&&(v.codecs=v.codecs.filter(function(e){return"rtx"!==e.name})),f=l.sendEncodingParameters||[{ssrc:1001*(2*t+2)}];var E,T=!1;if("sendrecv"===s||"sendonly"===s){if(T=!l.rtpReceiver,p=l.rtpReceiver||new O.RTCRtpReceiver(l.dtlsTransport,i),T)_=p.track,a&&"-"===a.stream||(E=a?(x[a.stream]||(x[a.stream]=new O.MediaStream,Object.defineProperty(x[a.stream],"id",{get:function(){return a.stream}})),Object.defineProperty(_,"id",{get:function(){return a.track}}),x[a.stream]):(x.default||(x.default=new O.MediaStream),x.default)),E&&(M(_,E),l.associatedRemoteMediaStreams.push(E)),I.push([_,p,E])}else l.rtpReceiver&&l.rtpReceiver.track&&(l.associatedRemoteMediaStreams.forEach(function(e){var t,n,i=e.getTracks().find(function(e){return e.id===l.rtpReceiver.track.id});i&&(t=i,(n=e).removeTrack(t),n.dispatchEvent(new O.MediaStreamTrackEvent("removetrack",{track:t})))}),l.associatedRemoteMediaStreams=[]);l.localCapabilities=v,l.remoteCapabilities=b,l.rtpReceiver=p,l.rtcpParameters=C,l.sendEncodingParameters=f,l.recvEncodingParameters=m,R._transceive(R.transceivers[t],!1,T)}}}),void 0===R._dtlsRole&&(R._dtlsRole="offer"===w.type?"active":"passive"),R._remoteDescription={type:w.type,sdp:w.sdp},"offer"===w.type?R._updateSignalingState("have-remote-offer"):R._updateSignalingState("stable"),Object.keys(x).forEach(function(e){var i=x[e];if(i.getTracks().length){if(-1===R.remoteStreams.indexOf(i)){R.remoteStreams.push(i);var t=new Event("addstream");t.stream=i,O.setTimeout(function(){R._dispatchEvent("addstream",t)})}I.forEach(function(e){var t=e[0],n=e[1];i.id===e[2].id&&r(R,t,n,[i])})}}),I.forEach(function(e){e[2]||r(R,e[0],e[1],[])}),O.setTimeout(function(){R&&R.transceivers&&R.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&0<e.iceTransport.getRemoteCandidates().length&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},i.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},i.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},i.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,O.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},i.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++}),e="new",0<t.failed?e="failed":0<t.checking?e="checking":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected?e="connected":0<t.completed&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},i.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",0<t.failed?e="failed":0<t.connecting?e="connecting":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},i.prototype.createOffer=function(){var a=this;if(a._isClosed)return Promise.reject(f("InvalidStateError","Can not call createOffer after close"));var t=a.transceivers.filter(function(e){return"audio"===e.kind}).length,n=a.transceivers.filter(function(e){return"video"===e.kind}).length,e=arguments[0];if(e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(t=!0===e.offerToReceiveAudio?1:!1===e.offerToReceiveAudio?0:e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(n=!0===e.offerToReceiveVideo?1:!1===e.offerToReceiveVideo?0:e.offerToReceiveVideo)}for(a.transceivers.forEach(function(e){"audio"===e.kind?--t<0&&(e.wantReceive=!1):"video"===e.kind&&--n<0&&(e.wantReceive=!1)});0<t||0<n;)0<t&&(a._createTransceiver("audio"),t--),0<n&&(a._createTransceiver("video"),n--);var i=L.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.transceivers.forEach(function(e,t){var n=e.track,i=e.kind,r=e.mid||L.generateIdentifier();e.mid=r,e.iceGatherer||(e.iceGatherer=a._createIceGatherer(t,a.usingBundle));var o=O.RTCRtpSender.getCapabilities(i);D<15019&&(o.codecs=o.codecs.filter(function(e){return"rtx"!==e.name})),o.codecs.forEach(function(t){"H264"===t.name&&void 0===t.parameters["level-asymmetry-allowed"]&&(t.parameters["level-asymmetry-allowed"]="1"),e.remoteCapabilities&&e.remoteCapabilities.codecs&&e.remoteCapabilities.codecs.forEach(function(e){t.name.toLowerCase()===e.name.toLowerCase()&&t.clockRate===e.clockRate&&(t.preferredPayloadType=e.payloadType)})}),o.headerExtensions.forEach(function(t){(e.remoteCapabilities&&e.remoteCapabilities.headerExtensions||[]).forEach(function(e){t.uri===e.uri&&(t.id=e.id)})});var s=e.sendEncodingParameters||[{ssrc:1001*(2*t+1)}];n&&15019<=D&&"video"===i&&!s[0].rtx&&(s[0].rtx={ssrc:s[0].ssrc+1}),e.wantReceive&&(e.rtpReceiver=new O.RTCRtpReceiver(e.dtlsTransport,i)),e.localCapabilities=o,e.sendEncodingParameters=s}),"max-compat"!==a._config.bundlePolicy&&(i+="a=group:BUNDLE "+a.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),i+="a=ice-options:trickle\r\n",a.transceivers.forEach(function(e,t){i+=c(e,e.localCapabilities,"offer",e.stream,a._dtlsRole),i+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===a.iceGatheringState||0!==t&&a.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,i+="a="+L.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(i+="a=end-of-candidates\r\n"))});var r=new O.RTCSessionDescription({type:"offer",sdp:i});return Promise.resolve(r)},i.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(f("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(f("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var o=L.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(o+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),o+="a=ice-options:trickle\r\n";var s=L.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach(function(e,t){if(!(s<t+1)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?o+="m=application 0 DTLS/SCTP 5000\r\n":o+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?o+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(o+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(o+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var n;if(e.stream)"audio"===e.kind?n=e.stream.getAudioTracks()[0]:"video"===e.kind&&(n=e.stream.getVideoTracks()[0]),n&&15019<=D&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var i=B(e.localCapabilities,e.remoteCapabilities);!i.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,o+=c(e,i,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(o+="a=rtcp-rsize\r\n")}});var e=new O.RTCSessionDescription({type:"answer",sdp:o});return Promise.resolve(e)},i.prototype.addIceCandidate=function(c){var l,d=this;return c&&void 0===c.sdpMLineIndex&&!c.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(e,t){if(!d._remoteDescription)return t(f("InvalidStateError","Can not add ICE candidate without a remote description"));if(c&&""!==c.candidate){var n=c.sdpMLineIndex;if(c.sdpMid)for(var i=0;i<d.transceivers.length;i++)if(d.transceivers[i].mid===c.sdpMid){n=i;break}var r=d.transceivers[n];if(!r)return t(f("OperationError","Can not add ICE candidate"));if(r.rejected)return e();var o=0<Object.keys(c.candidate).length?L.parseCandidate(c.candidate):{};if("tcp"===o.protocol&&(0===o.port||9===o.port))return e();if(o.component&&1!==o.component)return e();if((0===n||0<n&&r.iceTransport!==d.transceivers[0].iceTransport)&&!F(r.iceTransport,o))return t(f("OperationError","Can not add ICE candidate"));var s=c.candidate.trim();0===s.indexOf("a=")&&(s=s.substr(2)),(l=L.getMediaSections(d._remoteDescription.sdp))[n]+="a="+(o.type?s:"end-of-candidates")+"\r\n",d._remoteDescription.sdp=L.getDescription(d._remoteDescription.sdp)+l.join("")}else for(var a=0;a<d.transceivers.length&&(d.transceivers[a].rejected||(d.transceivers[a].iceTransport.addRemoteCandidate({}),(l=L.getMediaSections(d._remoteDescription.sdp))[a]+="a=end-of-candidates\r\n",d._remoteDescription.sdp=L.getDescription(d._remoteDescription.sdp)+l.join(""),!d.usingBundle));a++);e()})},i.prototype.getStats=function(t){if(t&&t instanceof O.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)}),!n)throw f("InvalidAccessError","Invalid selector.");return n.getStats()}var i=[];return this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(e){t[e]&&i.push(t[e].getStats())})}),Promise.all(i).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(e){var t=O[e];if(t&&t.prototype&&t.prototype.getStats){var n=t.prototype.getStats;t.prototype.getStats=function(){return n.apply(this).then(function(n){var i=new Map;return Object.keys(n).forEach(function(e){var t;n[e].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(t=n[e]).type]||t.type,i.set(e,n[e])}),i})}}});var e=["createOffer","createAnswer"];return e.forEach(function(e){var n=i.prototype[e];i.prototype[e]=function(){var t=arguments;return"function"==typeof t[0]||"function"==typeof t[1]?n.apply(this,[arguments[2]]).then(function(e){"function"==typeof t[0]&&t[0].apply(null,[e])},function(e){"function"==typeof t[1]&&t[1].apply(null,[e])}):n.apply(this,arguments)}}),(e=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var n=i.prototype[e];i.prototype[e]=function(){var t=arguments;return"function"==typeof t[1]||"function"==typeof t[2]?n.apply(this,arguments).then(function(){"function"==typeof t[1]&&t[1].apply(null)},function(e){"function"==typeof t[2]&&t[2].apply(null,[e])}):n.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),i}},{sdp:2}],2:[function(e,t,n){"use strict";var d={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};d.localCName=d.generateIdentifier(),d.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},d.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(0<t?"m="+e:e).trim()+"\r\n"})},d.getDescription=function(e){var t=d.splitSections(e);return t&&t[0]},d.getMediaSections=function(e){var t=d.splitSections(e);return t.shift(),t},d.matchPrefix=function(e,t){return d.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},d.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:n[t[i]]=t[i+1]}return n},d.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},d.parseIceOptions=function(e){return e.substr(14).split(" ")},d.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},d.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},d.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:0<t[0].indexOf("/")?t[0].split("/")[1]:"sendrecv",uri:t[1]}},d.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},d.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)n[(t=i[r].trim().split("="))[0].trim()]=t[1];return n},d.writeFmtp=function(t){var e="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var i=[];Object.keys(t.parameters).forEach(function(e){t.parameters[e]?i.push(e+"="+t.parameters[e]):i.push(e)}),e+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return e},d.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},d.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},d.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return-1<i?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},d.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},d.getMid=function(e){var t=d.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},d.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},d.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:d.matchPrefix(e+t,"a=fingerprint:").map(d.parseFingerprint)}},d.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},d.getIceParameters=function(e,t){var n=d.splitLines(e);return{usernameFragment:(n=n.concat(d.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},d.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},d.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=d.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var r=n[i],o=d.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(o){var s=d.parseRtpMap(o),a=d.matchPrefix(e,"a=fmtp:"+r+" ");switch(s.parameters=a.length?d.parseFmtp(a[0]):{},s.rtcpFeedback=d.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(d.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return d.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(d.parseExtmap(e))}),t},d.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=0<t.codecs.length?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=d.writeRtpMap(e),n+=d.writeFmtp(e),n+=d.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),0<i&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=d.writeExtmap(e)}),n},d.parseRtpEncodingParameters=function(e){var n,i=[],t=d.parseRtpParameters(e),r=-1!==t.fecMechanisms.indexOf("RED"),o=-1!==t.fecMechanisms.indexOf("ULPFEC"),s=d.matchPrefix(e,"a=ssrc:").map(function(e){return d.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),a=0<s.length&&s[0].ssrc,c=d.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});0<c.length&&1<c[0].length&&c[0][0]===a&&(n=c[0][1]),t.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&n&&(t.rtx={ssrc:n}),i.push(t),r&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:a,mechanism:o?"red+ulpfec":"red"},i.push(t))}}),0===i.length&&a&&i.push({ssrc:a});var l=d.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,i.forEach(function(e){e.maxBitrate=l})),i},d.parseRtcpParameters=function(e){var t={},n=d.matchPrefix(e,"a=ssrc:").map(function(e){return d.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=d.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=0<i.length,t.compound=0===i.length;var r=d.matchPrefix(e,"a=rtcp-mux");return t.mux=0<r.length,t},d.parseMsid=function(e){var t,n=d.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=d.matchPrefix(e,"a=ssrc:").map(function(e){return d.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return 0<i.length?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},d.generateSessionId=function(){return Math.random().toString().substr(2,21)},d.writeSessionBoilerplate=function(e,t,n){var i=void 0!==t?t:2;return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||d.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},d.writeMediaSection=function(e,t,n,i){var r=d.writeRtpDescription(e.kind,t);if(r+=d.writeIceParameters(e.iceGatherer.getLocalParameters()),r+=d.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),r+="a=mid:"+e.mid+"\r\n",e.direction?r+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?r+="a=sendrecv\r\n":e.rtpSender?r+="a=sendonly\r\n":e.rtpReceiver?r+="a=recvonly\r\n":r+="a=inactive\r\n",e.rtpSender){var o="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";r+="a="+o,r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+o,e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+o,r+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+d.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+d.localCName+"\r\n"),r},d.getDirection=function(e,t){for(var n=d.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?d.getDirection(t):"sendrecv"},d.getKind=function(e){return d.splitLines(e)[0].split(" ")[0].substr(2)},d.isRejected=function(e){return"0"===e.split(" ",2)[1]},d.parseMLine=function(e){var t=d.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},d.parseOLine=function(e){var t=d.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},d.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=d.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"==typeof t&&(t.exports=d)},{}],3:[function(n,i,e){(function(e){"use strict";var t=n("./adapter_factory.js");i.exports=t({window:e.window})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter_factory.js":4}],4:[function(p,e,t){"use strict";var f=p("./utils");e.exports=function(e,t){var n=e&&e.window,i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var r in t)hasOwnProperty.call(t,r)&&(i[r]=t[r]);var o=f.log,s=f.detectBrowser(n),a=p("./chrome/chrome_shim")||null,c=p("./edge/edge_shim")||null,l=p("./firefox/firefox_shim")||null,d=p("./safari/safari_shim")||null,h=p("./common_shim")||null,u={browserDetails:s,commonShim:h,extractVersion:f.extractVersion,disableLog:f.disableLog,disableWarnings:f.disableWarnings};switch(s.browser){case"chrome":if(!a||!a.shimPeerConnection||!i.shimChrome)return o("Chrome shim is not included in this adapter release."),u;o("adapter.js shimming chrome."),u.browserShim=a,h.shimCreateObjectURL(n),a.shimGetUserMedia(n),a.shimMediaStream(n),a.shimSourceObject(n),a.shimPeerConnection(n),a.shimOnTrack(n),a.shimAddTrackRemoveTrack(n),a.shimGetSendersWithDtmf(n),a.shimSenderReceiverGetStats(n),a.fixNegotiationNeeded(n),h.shimRTCIceCandidate(n),h.shimMaxMessageSize(n),h.shimSendThrowTypeError(n);break;case"firefox":if(!l||!l.shimPeerConnection||!i.shimFirefox)return o("Firefox shim is not included in this adapter release."),u;o("adapter.js shimming firefox."),u.browserShim=l,h.shimCreateObjectURL(n),l.shimGetUserMedia(n),l.shimSourceObject(n),l.shimPeerConnection(n),l.shimOnTrack(n),l.shimRemoveStream(n),l.shimSenderGetStats(n),l.shimReceiverGetStats(n),l.shimRTCDataChannel(n),h.shimRTCIceCandidate(n),h.shimMaxMessageSize(n),h.shimSendThrowTypeError(n);break;case"edge":if(!c||!c.shimPeerConnection||!i.shimEdge)return o("MS edge shim is not included in this adapter release."),u;o("adapter.js shimming edge."),u.browserShim=c,h.shimCreateObjectURL(n),c.shimGetUserMedia(n),c.shimPeerConnection(n),c.shimReplaceTrack(n),c.shimGetDisplayMedia(n),h.shimMaxMessageSize(n),h.shimSendThrowTypeError(n);break;case"safari":if(!d||!i.shimSafari)return o("Safari shim is not included in this adapter release."),u;o("adapter.js shimming safari."),u.browserShim=d,h.shimCreateObjectURL(n),d.shimRTCIceServerUrls(n),d.shimCreateOfferLegacy(n),d.shimCallbacksAPI(n),d.shimLocalStreamsAPI(n),d.shimRemoteStreamsAPI(n),d.shimTrackEventTransceiver(n),d.shimGetUserMedia(n),h.shimRTCIceCandidate(n),h.shimMaxMessageSize(n),h.shimSendThrowTypeError(n);break;default:o("Unsupported browser!")}return u}},{"./chrome/chrome_shim":5,"./common_shim":7,"./edge/edge_shim":8,"./firefox/firefox_shim":11,"./safari/safari_shim":13,"./utils":14}],5:[function(e,t,n){"use strict";var c=e("../utils.js"),i=c.log;function r(n,t,e){var i=e?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var o=[];return n.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){n.forEach(function(e){e.type===i&&e.trackId===t.id&&function t(n,i,r){i&&!r.has(i.id)&&(r.set(i.id,i),Object.keys(i).forEach(function(e){e.endsWith("Id")?t(n,n.get(i[e]),r):e.endsWith("Ids")&&i[e].forEach(function(e){t(n,n.get(e),r)})}))}(n,e,r)})}),r}t.exports={shimGetUserMedia:e("./getusermedia"),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(o){if("object"!=typeof o||!o.RTCPeerConnection||"ontrack"in o.RTCPeerConnection.prototype)c.wrapPeerConnectionEvent(o,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(o.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var e=o.RTCPeerConnection.prototype.setRemoteDescription;o.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return r._ontrackpoly||(r._ontrackpoly=function(i){i.stream.addEventListener("addtrack",function(t){var e;e=o.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===t.track.id}):{track:t.track};var n=new Event("track");n.track=t.track,n.receiver=e,n.transceiver={receiver:e},n.streams=[i.stream],r.dispatchEvent(n)}),i.stream.getTracks().forEach(function(t){var e;e=o.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===t.id}):{track:t};var n=new Event("track");n.track=t,n.receiver=e,n.transceiver={receiver:e},n.streams=[i.stream],r.dispatchEvent(n)})},r.addEventListener("addstream",r._ontrackpoly)),e.apply(r,arguments)}}},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var i=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,t){var n=r.apply(this,arguments);return n||(n=i(this,e),this._senders.push(n)),n};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach(function(e){t._senders.push(i(t,e))})};var t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var n=this;n._senders=n._senders||[],t.apply(n,[e]),e.getTracks().forEach(function(t){var e=n._senders.find(function(e){return e.track===t});e&&n._senders.splice(n._senders.indexOf(e),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var s=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=s.apply(t,[]);return e.forEach(function(e){e._pc=t}),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=n.apply(t,[]);return e.forEach(function(e){e._pc=t}),e});var t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=t.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return r(e,t.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=i.apply(t,[]);return e.forEach(function(e){e._pc=t}),e}),c.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return r(e,t.track,!1)})}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(0<arguments.length&&arguments[0]instanceof e.MediaStreamTrack){var t,n,i,r=arguments[0];return this.getSenders().forEach(function(e){e.track===r&&(t?i=!0:t=e)}),this.getReceivers().forEach(function(e){return e.track===r&&(n?i=!0:n=e),e.track===r}),i||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}},shimSourceObject:function(e){var n=e&&e.URL;"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;this._srcObject=e,this.src&&n.revokeObjectURL(this.src),e?(this.src=n.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&n.revokeObjectURL(t.src),t.src=n.createObjectURL(e)}),e.addEventListener("removetrack",function(){t.src&&n.revokeObjectURL(t.src),t.src=n.createObjectURL(e)})):this.src=""}}))},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(e){return t._shimmedLocalStreams[e][0]})};var i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,t){if(!t)return i.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=i.apply(this,arguments);return this._shimmedLocalStreams[t.id]?-1===this._shimmedLocalStreams[t.id].indexOf(n)&&this._shimmedLocalStreams[t.id].push(n):this._shimmedLocalStreams[t.id]=[t,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(t){if(n.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError")});var t=n.getSenders();r.apply(this,arguments);var i=n.getSenders().filter(function(e){return-1===t.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var t=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],t.apply(this,arguments)};var o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(n){var i=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},n&&Object.keys(this._shimmedLocalStreams).forEach(function(e){var t=i._shimmedLocalStreams[e].indexOf(n);-1!==t&&i._shimmedLocalStreams[e].splice(t,1),1===i._shimmedLocalStreams[e].length&&delete i._shimmedLocalStreams[e]}),o.apply(this,arguments)}},shimAddTrackRemoveTrack:function(s){if(s.RTCPeerConnection){var e=c.detectBrowser(s);if(s.RTCPeerConnection.prototype.addTrack&&65<=e.version)return this.shimAddTrackRemoveTrackWithNative(s);var n=s.RTCPeerConnection.prototype.getLocalStreams;s.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,e=n.apply(this);return t._reverseStreams=t._reverseStreams||{},e.map(function(e){return t._reverseStreams[e.id]})};var i=s.RTCPeerConnection.prototype.addStream;s.RTCPeerConnection.prototype.addStream=function(e){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},e.getTracks().forEach(function(t){if(n.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError")}),!n._reverseStreams[e.id]){var t=new s.MediaStream(e.getTracks());n._streams[e.id]=t,n._reverseStreams[t.id]=e,e=t}i.apply(n,[e])};var r=s.RTCPeerConnection.prototype.removeStream;s.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},r.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},s.RTCPeerConnection.prototype.addTrack=function(t,e){var n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(n.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{};var r=n._streams[e.id];if(r)r.addTrack(t),Promise.resolve().then(function(){n.dispatchEvent(new Event("negotiationneeded"))});else{var o=new s.MediaStream([t]);n._streams[e.id]=o,n._reverseStreams[o.id]=e,n.addStream(o)}return n.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(e){var t=s.RTCPeerConnection.prototype[e];s.RTCPeerConnection.prototype[e]=function(){var n=this,i=arguments;return arguments.length&&"function"==typeof arguments[0]?t.apply(n,[function(e){var t=a(n,e);i[0].apply(null,[t])},function(e){i[1]&&i[1].apply(null,e)},arguments[2]]):t.apply(n,arguments).then(function(e){return a(n,e)})}});var t=s.RTCPeerConnection.prototype.setLocalDescription;s.RTCPeerConnection.prototype.setLocalDescription=function(){var i,e,r;return arguments.length&&arguments[0].type&&(arguments[0]=(i=this,e=arguments[0],r=e.sdp,Object.keys(i._reverseStreams||[]).forEach(function(e){var t=i._reverseStreams[e],n=i._streams[t.id];r=r.replace(new RegExp(t.id,"g"),n.id)}),new RTCSessionDescription({type:e.type,sdp:r}))),t.apply(this,arguments)};var o=Object.getOwnPropertyDescriptor(s.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(s.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=o.get.apply(this);return""===e.type?e:a(this,e)}}),s.RTCPeerConnection.prototype.removeTrack=function(t){var n,i=this;if("closed"===i.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(t._pc===i))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");i._streams=i._streams||{},Object.keys(i._streams).forEach(function(e){i._streams[e].getTracks().find(function(e){return t.track===e})&&(n=i._streams[e])}),n&&(1===n.getTracks().length?i.removeStream(i._reverseStreams[n.id]):n.removeTrack(t.track),i.dispatchEvent(new Event("negotiationneeded")))}}function a(i,e){var r=e.sdp;return Object.keys(i._reverseStreams||[]).forEach(function(e){var t=i._reverseStreams[e],n=i._streams[t.id];r=r.replace(new RegExp(n.id,"g"),t.id)}),new RTCSessionDescription({type:e.type,sdp:r})}},shimPeerConnection:function(n){var e=c.detectBrowser(n);if(!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=function(e,t){return i("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy),new n.webkitRTCPeerConnection(e,t)},n.RTCPeerConnection.prototype=n.webkitRTCPeerConnection.prototype,n.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get:function(){return n.webkitRTCPeerConnection.generateCertificate}})),n.RTCPeerConnection){var a=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(e,t,n){var i=this,r=arguments;if(0<arguments.length&&"function"==typeof e)return a.apply(this,arguments);if(0===a.length&&(0===arguments.length||"function"!=typeof e))return a.apply(this,[]);var o=function(e){var i={};return e.result().forEach(function(t){var n={id:t.id,timestamp:t.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type};t.names().forEach(function(e){n[e]=t.stat(e)}),i[n.id]=n}),i},s=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};if(2<=arguments.length){return a.apply(this,[function(e){r[1](s(o(e)))},e])}return new Promise(function(t,e){a.apply(i,[function(e){t(s(o(e)))},e])}).then(t,n)},e.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var r=n.RTCPeerConnection.prototype[e];n.RTCPeerConnection.prototype[e]=function(){var n=arguments,i=this,e=new Promise(function(e,t){r.apply(i,[n[0],e,t])});return n.length<2?e:e.then(function(){n[1].apply(null,[])},function(e){3<=n.length&&n[2].apply(null,[e])})}}),e.version<52&&["createOffer","createAnswer"].forEach(function(e){var r=n.RTCPeerConnection.prototype[e];n.RTCPeerConnection.prototype[e]=function(){var n=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var i=1===arguments.length?arguments[0]:void 0;return new Promise(function(e,t){r.apply(n,[e,t,i])})}return r.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=n.RTCPeerConnection.prototype[e];n.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var t=n.RTCPeerConnection.prototype.addIceCandidate;n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},fixNegotiationNeeded:function(e){c.wrapPeerConnectionEvent(e,"negotiationneeded",function(e){if("stable"===e.target.signalingState)return e})},shimGetDisplayMedia:function(o,e){!o.navigator||!o.navigator.mediaDevices||"getDisplayMedia"in o.navigator.mediaDevices||("function"==typeof e?(o.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(function(e){var t=r.video&&r.video.width,n=r.video&&r.video.height,i=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:i||3}},t&&(r.video.mandatory.maxWidth=t),n&&(r.video.mandatory.maxHeight=n),o.navigator.mediaDevices.getUserMedia(r)})},o.navigator.getDisplayMedia=function(e){return c.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),o.navigator.mediaDevices.getDisplayMedia(e)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},{"../utils.js":14,"./getusermedia":6}],6:[function(e,t,n){"use strict";var o=e("../utils.js"),l=o.log;t.exports=function(e){var s=o.detectBrowser(e),a=e&&e.navigator,c=function(r){if("object"!=typeof r||r.mandatory||r.optional)return r;var o={};return Object.keys(r).forEach(function(t){if("require"!==t&&"advanced"!==t&&"mediaSource"!==t){var n="object"==typeof r[t]?r[t]:{ideal:r[t]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){o.optional=o.optional||[];var e={};"number"==typeof n.ideal?(e[i("min",t)]=n.ideal,o.optional.push(e),(e={})[i("max",t)]=n.ideal):e[i("",t)]=n.ideal,o.optional.push(e)}void 0!==n.exact&&"number"!=typeof n.exact?(o.mandatory=o.mandatory||{},o.mandatory[i("",t)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(o.mandatory=o.mandatory||{},o.mandatory[i(e,t)]=n[e])})}}),r.advanced&&(o.optional=(o.optional||[]).concat(r.advanced)),o},i=function(n,i){if(61<=s.version)return i(n);if((n=JSON.parse(JSON.stringify(n)))&&"object"==typeof n.audio){var e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};e((n=JSON.parse(JSON.stringify(n))).audio,"autoGainControl","googAutoGainControl"),e(n.audio,"noiseSuppression","googNoiseSuppression"),n.audio=c(n.audio)}if(n&&"object"==typeof n.video){var r=n.video.facingMode;r=r&&("object"==typeof r?r:{ideal:r});var o,t=s.version<66;if(r&&("user"===r.exact||"environment"===r.exact||"user"===r.ideal||"environment"===r.ideal)&&(!a.mediaDevices.getSupportedConstraints||!a.mediaDevices.getSupportedConstraints().facingMode||t))if(delete n.video.facingMode,"environment"===r.exact||"environment"===r.ideal?o=["back","rear"]:"user"!==r.exact&&"user"!==r.ideal||(o=["front"]),o)return a.mediaDevices.enumerateDevices().then(function(e){var t=(e=e.filter(function(e){return"videoinput"===e.kind})).find(function(t){return o.some(function(e){return-1!==t.label.toLowerCase().indexOf(e)})});return!t&&e.length&&-1!==o.indexOf("back")&&(t=e[e.length-1]),t&&(n.video.deviceId=r.exact?{exact:t.deviceId}:{ideal:t.deviceId}),n.video=c(n.video),l("chrome: "+JSON.stringify(n)),i(n)});n.video=c(n.video)}return l("chrome: "+JSON.stringify(n)),i(n)},r=function(e){return 64<=s.version?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};a.getUserMedia=function(e,t,n){i(e,function(e){a.webkitGetUserMedia(e,t,function(e){n&&n(r(e))})})};var t=function(n){return new Promise(function(e,t){a.getUserMedia(n,e,t)})};if(a.mediaDevices||(a.mediaDevices={getUserMedia:t,enumerateDevices:function(){return new Promise(function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),a.mediaDevices.getUserMedia){var n=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(e){return i(e,function(t){return n(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return e},function(e){return Promise.reject(r(e))})})}}else a.mediaDevices.getUserMedia=function(e){return t(e)};void 0===a.mediaDevices.addEventListener&&(a.mediaDevices.addEventListener=function(){l("Dummy mediaDevices.addEventListener called.")}),void 0===a.mediaDevices.removeEventListener&&(a.mediaDevices.removeEventListener=function(){l("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":14}],7:[function(e,t,n){"use strict";var h=e("sdp"),c=e("./utils");t.exports={shimRTCIceCandidate:function(t){if(t.RTCIceCandidate&&!(t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)){var r=t.RTCIceCandidate;t.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var t=new r(e),n=h.parseCandidate(e.candidate),i=Object.assign(t,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new r(e)},t.RTCIceCandidate.prototype=r.prototype,c.wrapPeerConnectionEvent(t,"icecandidate",function(e){return e.candidate&&Object.defineProperty(e,"candidate",{value:new t.RTCIceCandidate(e.candidate),writable:"false"}),e})}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var n=t.createObjectURL.bind(t),i=t.revokeObjectURL.bind(t),r=new Map,o=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++o;return r.set(t,e),c.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return n(e)},t.revokeObjectURL=function(e){i(e),r.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=r.get(e)||null,s.set.apply(this,[e])}});var a=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=r.get(arguments[1])||null),a.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var l=c.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var d=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e,t,n,i;if(this._sctp=null,n=arguments[0],(i=h.splitSections(n.sdp)).shift(),i.some(function(e){var t=h.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})){var r,o=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n}(arguments[0]),s=(e=o,t=65536,"firefox"===l.browser&&(t=l.version<57?-1===e?16384:2147483637:l.version<60?57===l.version?65535:65536:2147483637),t),a=function(e,t){var n=65536;"firefox"===l.browser&&57===l.version&&(n=65535);var i=h.matchPrefix(e.sdp,"a=max-message-size:");return 0<i.length?n=parseInt(i[0].substr(19),10):"firefox"===l.browser&&-1!==t&&(n=2147483637),n}(arguments[0],o);r=0===s&&0===a?Number.POSITIVE_INFINITY:0===s||0===a?Math.max(s,a):Math.min(s,a);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return r}}),this._sctp=c}return d.apply(this,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},c.wrapPeerConnectionEvent(e,"datachannel",function(e){return n(e.channel,e.target),e})}function n(n,i){var r=n.send;n.send=function(){var e=arguments[0],t=e.length||e.size||e.byteLength;if("open"===n.readyState&&i.sctp&&t>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return r.apply(n,arguments)}}}}},{"./utils":14,sdp:2}],8:[function(e,t,n){"use strict";var r=e("../utils"),o=e("./filtericeservers"),s=e("rtcpeerconnection-shim");t.exports={shimGetUserMedia:e("./getusermedia"),shimPeerConnection:function(e){var t=r.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var i=s(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=o(e.iceServers)),new i(e)},e.RTCPeerConnection.prototype=i.prototype},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(t,e){if("getDisplayMedia"in t.navigator&&t.navigator.mediaDevices&&!("getDisplayMedia"in t.navigator.mediaDevices)){var n=t.navigator.getDisplayMedia;t.navigator.mediaDevices.getDisplayMedia=function(e){return n.call(t.navigator,e)},t.navigator.getDisplayMedia=function(e){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),n.call(t.navigator,e)}}}}},{"../utils":14,"./filtericeservers":9,"./getusermedia":10,"rtcpeerconnection-shim":1}],9:[function(e,t,n){"use strict";var o=e("../utils");t.exports=function(e,i){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&o.deprecated("RTCIceServer.url","RTCIceServer.urls");var n="string"==typeof t;return n&&(t=[t]),t=t.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")&&!r?r=!0:0===e.indexOf("stun:")&&14393<=i&&-1===e.indexOf("?transport=udp")}),delete e.url,e.urls=n?t[0]:t,!!t.length}})}},{"../utils":14}],10:[function(e,t,n){"use strict";t.exports=function(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(function(e){return Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[(t=e).name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}});var t})}}},{}],11:[function(e,t,n){"use strict";var r=e("../utils");t.exports={shimGetUserMedia:e("./getusermedia"),shimOnTrack:function(e){"object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(n){n.stream.getTracks().forEach(function(e){var t=new Event("track");t.track=e,t.receiver={track:e},t.transceiver={receiver:t.receiver},t.streams=[n.stream],this.dispatchEvent(t)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(a){var c=r.detectBrowser(a);if("object"==typeof a&&(a.RTCPeerConnection||a.mozRTCPeerConnection)){a.RTCPeerConnection||(a.RTCPeerConnection=function(e,t){if(c.version<38&&e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var r=e.iceServers[i];if(r.hasOwnProperty("urls"))for(var o=0;o<r.urls.length;o++){var s={url:r.urls[o]};0===r.urls[o].indexOf("turn")&&(s.username=r.username,s.credential=r.credential),n.push(s)}else n.push(e.iceServers[i])}e.iceServers=n}return new a.mozRTCPeerConnection(e,t)},a.RTCPeerConnection.prototype=a.mozRTCPeerConnection.prototype,a.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(a.RTCPeerConnection,"generateCertificate",{get:function(){return a.mozRTCPeerConnection.generateCertificate}}),a.RTCSessionDescription=a.mozRTCSessionDescription,a.RTCIceCandidate=a.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=a.RTCPeerConnection.prototype[e];a.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?a.RTCIceCandidate:a.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=a.RTCPeerConnection.prototype.addIceCandidate;a.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=a.RTCPeerConnection.prototype.getStats;a.RTCPeerConnection.prototype.getStats=function(e,r,t){return n.apply(this,[e||null]).then(function(n){var t,i;if(c.version<48&&(t=n,i=new Map,Object.keys(t).forEach(function(e){i.set(e,t[e]),i[e]=t[e]}),n=i),c.version<53&&!r)try{n.forEach(function(e){e.type=o[e.type]||e.type})}catch(e){if("TypeError"!==e.name)throw e;n.forEach(function(e,t){n.set(t,Object.assign({},e,{type:o[e.type]||e.type}))})}return n}).then(r,t)}}},shimSenderGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=n.apply(t,[]);return e.forEach(function(e){e._pc=t}),e});var t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=t.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=n.apply(t,[]);return e.forEach(function(e){e._pc=t}),e}),r.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(t){var n=this;r.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(e){e.track&&-1!==t.getTracks().indexOf(e.track)&&n.removeTrack(e)})})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(n,i){!n.navigator||!n.navigator.mediaDevices||"getDisplayMedia"in n.navigator.mediaDevices||(n.navigator.mediaDevices.getDisplayMedia=function(e){if(e&&e.video)return!0===e.video?e.video={mediaSource:i}:e.video.mediaSource=i,n.navigator.mediaDevices.getUserMedia(e);var t=new DOMException("getDisplayMedia without video constraints is undefined");return t.name="NotFoundError",t.code=8,Promise.reject(t)},n.navigator.getDisplayMedia=function(e){return r.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),n.navigator.mediaDevices.getDisplayMedia(e)})}}},{"../utils":14,"./getusermedia":12}],12:[function(e,t,n){"use strict";var u=e("../utils"),p=u.log;t.exports=function(e){var r=u.detectBrowser(e),o=e&&e.navigator,t=e&&e.MediaStreamTrack,s=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(e,t,n){var i=function(i){if("object"!=typeof i||i.require)return i;var r=[];return Object.keys(i).forEach(function(e){if("require"!==e&&"advanced"!==e&&"mediaSource"!==e){var t=i[e]="object"==typeof i[e]?i[e]:{ideal:i[e]};if(void 0===t.min&&void 0===t.max&&void 0===t.exact||r.push(e),void 0!==t.exact&&("number"==typeof t.exact?t.min=t.max=t.exact:i[e]=t.exact,delete t.exact),void 0!==t.ideal){i.advanced=i.advanced||[];var n={};"number"==typeof t.ideal?n[e]={min:t.ideal,max:t.ideal}:n[e]=t.ideal,i.advanced.push(n),delete t.ideal,Object.keys(t).length||delete i[e]}}}),r.length&&(i.require=r),i};return e=JSON.parse(JSON.stringify(e)),r.version<38&&(p("spec: "+JSON.stringify(e)),e.audio&&(e.audio=i(e.audio)),e.video&&(e.video=i(e.video)),p("ff37: "+JSON.stringify(e))),o.mozGetUserMedia(e,t,function(e){n(s(e))})};if(o.mediaDevices||(o.mediaDevices={getUserMedia:function(n){return new Promise(function(e,t){i(n,e,t)})},addEventListener:function(){},removeEventListener:function(){}}),o.mediaDevices.enumerateDevices=o.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},r.version<41){var n=o.mediaDevices.enumerateDevices.bind(o.mediaDevices);o.mediaDevices.enumerateDevices=function(){return n().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(r.version<49){var a=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(t){return a(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(e){return Promise.reject(s(e))})}}if(!(55<r.version&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var c=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},l=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),c(e.audio,"autoGainControl","mozAutoGainControl"),c(e.audio,"noiseSuppression","mozNoiseSuppression")),l(e)},t&&t.prototype.getSettings){var d=t.prototype.getSettings;t.prototype.getSettings=function(){var e=d.apply(this,arguments);return c(e,"mozAutoGainControl","autoGainControl"),c(e,"mozNoiseSuppression","noiseSuppression"),e}}if(t&&t.prototype.applyConstraints){var h=t.prototype.applyConstraints;t.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),c(e,"autoGainControl","mozAutoGainControl"),c(e,"noiseSuppression","mozNoiseSuppression")),h.apply(this,[e])}}}o.getUserMedia=function(e,t,n){if(r.version<44)return i(e,t,n);u.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(e).then(t,n)}}},{"../utils":14}],13:[function(e,t,n){"use strict";var s=e("../utils");t.exports={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(t){var n=null;return this._localStreams&&this._localStreams.forEach(function(e){e.id===t&&(n=e)}),this._remoteStreams&&this._remoteStreams.forEach(function(e){e.id===t&&(n=e)}),n}),!("addStream"in e.RTCPeerConnection.prototype)){var i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(t)&&this._localStreams.push(t);var n=this;t.getTracks().forEach(function(e){i.call(n,e,t)})},e.RTCPeerConnection.prototype.addTrack=function(e,t){return t&&(this._localStreams?-1===this._localStreams.indexOf(t)&&this._localStreams.push(t):this._localStreams=[t]),i.call(this,e,t)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var n=this,i=e.getTracks();this.getSenders().forEach(function(e){-1!==i.indexOf(e.track)&&n.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(n._remoteStreams||(n._remoteStreams=[]),!(0<=n._remoteStreams.indexOf(e))){n._remoteStreams.push(e);var t=new Event("addstream");t.stream=e,n.dispatchEvent(t)}})}),t.apply(n,arguments)}}},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,o=t.createAnswer,s=t.setLocalDescription,a=t.setRemoteDescription,c=t.addIceCandidate;t.createOffer=function(e,t){var n=2<=arguments.length?arguments[2]:e,i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=2<=arguments.length?arguments[2]:e,i=o.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var n=function(e,t,n){var i=s.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=n,n=function(e,t,n){var i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=n,n=function(e,t,n){var i=c.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=n}},shimGetUserMedia:function(e){var i=e&&e.navigator;i.getUserMedia||(i.webkitGetUserMedia?i.getUserMedia=i.webkitGetUserMedia.bind(i):i.mediaDevices&&i.mediaDevices.getUserMedia&&(i.getUserMedia=function(e,t,n){i.mediaDevices.getUserMedia(e).then(t,n)}.bind(i)))},shimRTCIceServerUrls:function(e){var o=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var r=e.iceServers[i];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(s.deprecated("RTCIceServer.url","RTCIceServer.urls"),(r=JSON.parse(JSON.stringify(r))).urls=r.url,delete r.url,n.push(r)):n.push(e.iceServers[i])}e.iceServers=n}return new o(e,t)},e.RTCPeerConnection.prototype=o.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return o.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var r=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var t=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=t.getTransceivers().find(function(e){return e.sender.track&&"audio"===e.sender.track.kind});!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||t.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=t.getTransceivers().find(function(e){return e.sender.track&&"video"===e.sender.track.kind});!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection("sendonly"):"recvonly"===i.direction&&i.setDirection("inactive"):!0!==e.offerToReceiveVideo||i||t.addTransceiver("video")}return r.apply(t,arguments)}}}},{"../utils":14}],14:[function(e,t,n){"use strict";var i=!0,r=!0;function o(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}t.exports={extractVersion:o,wrapPeerConnectionEvent:function(e,i,r){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,o=t.addEventListener;t.addEventListener=function(e,n){if(e!==i)return o.apply(this,arguments);var t=function(e){var t=r(e);t&&n(t)};return this._eventMap=this._eventMap||{},this._eventMap[n]=t,o.apply(this,[e,t])};var s=t.removeEventListener;t.removeEventListener=function(e,t){if(e!==i||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);var n=this._eventMap[t];return delete this._eventMap[t],s.apply(this,[e,n])},Object.defineProperty(t,"on"+i,{get:function(){return this["_on"+i]},set:function(e){this["_on"+i]&&(this.removeEventListener(i,this["_on"+i]),delete this["_on"+i]),e&&this.addEventListener(i,this["_on"+i]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=e)?"adapter.js logging disabled":"adapter.js logging enabled"},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){r&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,n={browser:null,version:null};if(void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)n.browser="chrome",n.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},{}]},{},[3])(3)}),function(){window.WebComponents=window.WebComponents||{flags:{}};var e=document.querySelector('script[src*="webcomponents-lite.js"]'),i={};if(!i.noOpts){if(location.search.slice(1).split("&").forEach(function(e){var t,n=e.split("=");n[0]&&(t=n[0].match(/wc-(.+)/))&&(i[t[1]]=n[1]||!0)}),e)for(var t,n=0;t=e.attributes[n];n++)"src"!==t.name&&(i[t.name]=t.value||!0);if(i.log&&i.log.split){var r=i.log.split(",");i.log={},r.forEach(function(e){i.log[e]=!0})}else i.log={}}i.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=i.register),WebComponents.flags=i}(),function(e){"use strict";var t=!1;if(!e.forceJURL)try{var n=new URL("b","http://a");n.pathname="c%20d",t="http://a/c%20d"===n.href}catch(e){}if(!t){var b=Object.create(null);b.ftp=21,b.file=0,b.gopher=70,b.http=80,b.https=443,b.ws=80,b.wss=443;var C=Object.create(null);C["%2e"]=".",C[".%2e"]="..",C["%2e."]="..",C["%2e%2e"]="..";var S=void 0,P=/[a-zA-Z]/,E=/[a-zA-Z0-9\+\-\.]/;s.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""==this._username&&null==this._password||(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){o.call(this),r.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||r.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],r.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&((this._query="?")==e[0]&&(e=e.slice(1)),r.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||((this._fragment="#")==e[0]&&(e=e.slice(1)),r.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return(e=this.host)?this._scheme+"://"+e:""}};var i=e.URL;i&&(s.createObjectURL=function(e){return i.createObjectURL.apply(i,arguments)},s.revokeObjectURL=function(e){i.revokeObjectURL(e)}),e.URL=s}function T(e){return void 0!==b[e]}function w(){o.call(this),this._isInvalid=!0}function R(e){return""==e&&w.call(this),e.toLowerCase()}function x(e){var t=e.charCodeAt(0);return 32<t&&t<127&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function r(e,t,n){function i(e){h.push(e)}var r,o,s=t||"scheme start",a=0,c="",l=!1,d=!1,h=[];e:for(;(e[a-1]!=S||0==a)&&!this._isInvalid;){var u=e[a];switch(s){case"scheme start":if(!u||!P.test(u)){if(t){i("Invalid scheme.");break e}c="",s="no scheme";continue}c+=u.toLowerCase(),s="scheme";break;case"scheme":if(u&&E.test(u))c+=u.toLowerCase();else{if(":"!=u){if(t){if(S==u)break e;i("Code point not allowed in scheme: "+u);break e}c="",a=0,s="no scheme";continue}if(this._scheme=c,c="",t)break e;T(this._scheme)&&(this._isRelative=!0),s="file"==this._scheme?"relative":this._isRelative&&n&&n._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==u?(this._query="?",s="query"):"#"==u?(this._fragment="#",s="fragment"):S!=u&&"\t"!=u&&"\n"!=u&&"\r"!=u&&(this._schemeData+=x(u));break;case"no scheme":if(n&&T(n._scheme)){s="relative";continue}i("Missing scheme."),w.call(this);break;case"relative or authority":if("/"!=u||"/"!=e[a+1]){i("Expected /, got: "+u),s="relative";continue}s="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=n._scheme),S==u){this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._username=n._username,this._password=n._password;break e}if("/"==u||"\\"==u)"\\"==u&&i("\\ is an invalid code point."),s="relative slash";else if("?"==u)this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query="?",this._username=n._username,this._password=n._password,s="query";else{if("#"!=u){var p=e[a+1],f=e[a+2];("file"!=this._scheme||!P.test(u)||":"!=p&&"|"!=p||S!=f&&"/"!=f&&"\\"!=f&&"?"!=f&&"#"!=f)&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password,this._path=n._path.slice(),this._path.pop()),s="relative path";continue}this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._fragment="#",this._username=n._username,this._password=n._password,s="fragment"}break;case"relative slash":if("/"!=u&&"\\"!=u){"file"!=this._scheme&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password),s="relative path";continue}"\\"==u&&i("\\ is an invalid code point."),s="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=u){i("Expected '/', got: "+u),s="authority ignore slashes";continue}s="authority second slash";break;case"authority second slash":if(s="authority ignore slashes","/"==u)break;i("Expected '/', got: "+u);continue;case"authority ignore slashes":if("/"!=u&&"\\"!=u){s="authority";continue}i("Expected authority, got: "+u);break;case"authority":if("@"==u){l&&(i("@ already seen."),c+="%40"),l=!0;for(var m=0;m<c.length;m++){var v=c[m];if("\t"!=v&&"\n"!=v&&"\r"!=v)if(":"!=v||null!==this._password){var _=x(v);null!==this._password?this._password+=_:this._username+=_}else this._password="";else i("Invalid whitespace in authority.")}c=""}else{if(S==u||"/"==u||"\\"==u||"?"==u||"#"==u){a-=c.length,c="",s="host";continue}c+=u}break;case"file host":if(S==u||"/"==u||"\\"==u||"?"==u||"#"==u){s=2!=c.length||!P.test(c[0])||":"!=c[1]&&"|"!=c[1]?(0==c.length||(this._host=R.call(this,c),c=""),"relative path start"):"relative path";continue}"\t"==u||"\n"==u||"\r"==u?i("Invalid whitespace in file host."):c+=u;break;case"host":case"hostname":if(":"!=u||d){if(S==u||"/"==u||"\\"==u||"?"==u||"#"==u){if(this._host=R.call(this,c),c="",s="relative path start",t)break e;continue}"\t"!=u&&"\n"!=u&&"\r"!=u?("["==u?d=!0:"]"==u&&(d=!1),c+=u):i("Invalid code point in host/hostname: "+u)}else if(this._host=R.call(this,c),c="",s="port","hostname"==t)break e;break;case"port":if(/[0-9]/.test(u))c+=u;else{if(S==u||"/"==u||"\\"==u||"?"==u||"#"==u||t){if(""!=c){var y=parseInt(c,10);y!=b[this._scheme]&&(this._port=y+""),c=""}if(t)break e;s="relative path start";continue}"\t"==u||"\n"==u||"\r"==u?i("Invalid code point in port: "+u):w.call(this)}break;case"relative path start":if("\\"==u&&i("'\\' not allowed in path."),s="relative path","/"!=u&&"\\"!=u)continue;break;case"relative path":var g;if(S!=u&&"/"!=u&&"\\"!=u&&(t||"?"!=u&&"#"!=u))"\t"!=u&&"\n"!=u&&"\r"!=u&&(c+=x(u));else"\\"==u&&i("\\ not allowed in relative path."),(g=C[c.toLowerCase()])&&(c=g),".."==c?(this._path.pop(),"/"!=u&&"\\"!=u&&this._path.push("")):"."==c&&"/"!=u&&"\\"!=u?this._path.push(""):"."!=c&&("file"==this._scheme&&0==this._path.length&&2==c.length&&P.test(c[0])&&"|"==c[1]&&(c=c[0]+":"),this._path.push(c)),c="","?"==u?(this._query="?",s="query"):"#"==u&&(this._fragment="#",s="fragment");break;case"query":t||"#"!=u?S!=u&&"\t"!=u&&"\n"!=u&&"\r"!=u&&(this._query+=(void 0,32<(o=(r=u).charCodeAt(0))&&o<127&&-1==[34,35,60,62,96].indexOf(o)?r:encodeURIComponent(r))):(this._fragment="#",s="fragment");break;case"fragment":S!=u&&"\t"!=u&&"\n"!=u&&"\r"!=u&&(this._fragment+=u)}a++}}function o(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function s(e,t){void 0===t||t instanceof s||(t=new s(String(t))),this._url=e,o.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");r.call(this,n,null,t)}}(self),"undefined"==typeof WeakMap&&function(){var i=Object.defineProperty,e=Date.now()%1e9,t=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};t.prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:i(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=t}(),function(e){if(!e.JsMutationObserver){var o,c=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))o=setTimeout;else if(window.setImmediate)o=window.setImmediate;else{var n=[],i=String(Math.random());window.addEventListener("message",function(e){if(e.data===i){var t=n;n=[],t.forEach(function(e){e()})}}),o=function(e){n.push(e),window.postMessage(i,"*")}}var h,u,s=!1,a=[],t=0;r.prototype={observe:function(e,t){var n;if(n=e,e=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(n)||n,!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var i,r=c.get(e);r||c.set(e,r=[]);for(var o=0;o<r.length;o++)if(r[o].observer===this){(i=r[o]).removeListeners(),i.options=t;break}i||(i=new _(this,e,t),r.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=c.get(e),n=0;n<t.length;n++){var i=t[n];if(i.observer===this){i.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},_.prototype={enqueue:function(e){var t,n=this.observer.records_,i=n.length;if(0<n.length){var r=v(n[i-1],e);if(r)return void(n[i-1]=r)}else t=this.observer,a.push(t),s||(s=!0,o(l));n[i]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=c.get(e);t||c.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=c.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,i=e.target;(o=new f("attributes",i)).attributeName=t,o.attributeNamespace=n;var r=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;p(i,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?m(r):o});break;case"DOMCharacterDataModified":var o=f("characterData",i=e.target);r=e.prevValue;p(i,function(e){if(e.characterData)return e.characterDataOldValue?m(r):o});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,a,c=e.target;a="DOMNodeInserted"===e.type?(s=[c],[]):(s=[],[c]);var l=c.previousSibling,d=c.nextSibling;(o=f("childList",e.target.parentNode)).addedNodes=s,o.removedNodes=a,o.previousSibling=l,o.nextSibling=d,p(e.relatedNode,function(e){if(e.childList)return o})}h=u=void 0}},e.JsMutationObserver=r,e.MutationObserver||((e.MutationObserver=r)._isPolyfilled=!0)}function l(){s=!1;var e=a;a=[],e.sort(function(e,t){return e.uid_-t.uid_});var i=!1;e.forEach(function(e){var n,t=e.takeRecords();(n=e).nodes_.forEach(function(e){var t=c.get(e);t&&t.forEach(function(e){e.observer===n&&e.removeTransientObservers()})}),t.length&&(e.callback_(t,e),i=!0)}),i&&l()}function p(e,t){for(var n=e;n;n=n.parentNode){var i=c.get(n);if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o.options;if(n===e||s.subtree){var a=t(s);a&&o.enqueue(a)}}}}function r(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++t}function d(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function f(e,t){return h=new d(e,t)}function m(e){return u||((n=new d((t=h).type,t.target)).addedNodes=t.addedNodes.slice(),n.removedNodes=t.removedNodes.slice(),n.previousSibling=t.previousSibling,n.nextSibling=t.nextSibling,n.attributeName=t.attributeName,n.attributeNamespace=t.attributeNamespace,n.oldValue=t.oldValue,(u=n).oldValue=e,u);var t,n}function v(e,t){return e===t?e:u&&((n=e)===u||n===h)?u:null;var n}function _(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}}(self),function(){var n,i="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&(n=document.importNode,document.importNode=function(){var e=n.apply(document,arguments);if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)return e;var t=document.createDocumentFragment();return t.appendChild(e),t});var e=function(){if(!i){var e=document.createElement("template"),t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var n=e.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}}(),c="template",o=function(){};if(i){var r=document.implementation.createHTMLDocument("template"),s=!0,t=document.createElement("style");t.textContent=c+"{display:none;}";var a=document.head;a.insertBefore(t,a.firstElementChild),o.prototype=Object.create(HTMLElement.prototype),o.decorate=function(e){if(!e.content){var t;for(e.content=r.createDocumentFragment();t=e.firstChild;)e.content.appendChild(t);if(e.cloneNode=function(e){return o.cloneNode(this,e)},s)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",t=this.content.firstChild;t;t=t.nextSibling)e+=t.outerHTML||t.data.replace(d,h);return e},set:function(e){for(r.body.innerHTML=e,o.bootstrap(r);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;r.body.firstChild;)this.content.appendChild(r.body.firstChild)},configurable:!0})}catch(e){s=!1}o.bootstrap(e.content)}},o.bootstrap=function(e){for(var t,n=e.querySelectorAll(c),i=0,r=n.length;i<r&&(t=n[i]);i++)o.decorate(t)},document.addEventListener("DOMContentLoaded",function(){o.bootstrap(document)});var l=document.createElement;document.createElement=function(){"use strict";var e=l.apply(document,arguments);return"template"===e.localName&&o.decorate(e),e};var d=/[&\u00A0<>]/g;function h(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}}if(i||e){var u=Node.prototype.cloneNode;o.cloneNode=function(e,t){var n=u.call(e,!1);return this.decorate&&this.decorate(n),t&&(n.content.appendChild(u.call(e.content,!0)),this.fixClonedDom(n.content,e.content)),n},o.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var n,i,r=t.querySelectorAll(c),o=e.querySelectorAll(c),s=0,a=o.length;s<a;s++)i=r[s],n=o[s],this.decorate&&this.decorate(i),n.parentNode.replaceChild(i.cloneNode(!0),n)};var p=document.importNode;Node.prototype.cloneNode=function(e){var t=u.call(this,e);return e&&o.fixClonedDom(t,this),t},document.importNode=function(e,t){if(e.localName===c)return o.cloneNode(e,t);var n=p.call(document,e,t);return t&&o.fixClonedDom(n,e),n},e&&(HTMLTemplateElement.prototype.cloneNode=function(e){return o.cloneNode(this,e)})}i&&(window.HTMLTemplateElement=o)}(),function(e){"use strict";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}var n,i;if(window.requestAnimationFrame||(window.requestAnimationFrame=(n=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(e){return n(function(){e(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}),!((i=document.createEvent("Event")).initEvent("foo",!0,!0),i.preventDefault(),i.defaultPrevented)){var r=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(r.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var o=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||o&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||o&&"function"!=typeof window.Event){var s=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=s.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){var p=Boolean("import"in document.createElement("link")),t=Boolean(window.ShadowDOMPolyfill),n=function(e){return t?window.ShadowDOMPolyfill.wrapIfNeeded(e):e},i=n(document),r={get:function(){var e=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return n(e)},configurable:!0};Object.defineProperty(document,"_currentScript",r),Object.defineProperty(i,"_currentScript",r);var o=/Trident/.test(navigator.userAgent);function s(e,t){(function e(t,n){if(r=n,"complete"!==r.readyState&&r.readyState!==a){var i=function(){"complete"!==n.readyState&&n.readyState!==a||(n.removeEventListener(c,i),e(t,n))};n.addEventListener(c,i)}else t&&t();var r})(function(){!function(e,t){var n=t.querySelectorAll("link[rel=import]"),i=0,r=n.length,o=[],s=[];function a(){i==r&&e&&e({allImports:n,loadedImports:o,errorImports:s})}function c(e){f(e),o.push(this),i++,a()}function l(e){s.push(this),i++,a()}if(r)for(var d,h=0;h<r&&(d=n[h]);h++)u=d,(p?u.__loaded||u.import&&"loading"!==u.import.readyState:u.__importParsed)?(o.push(this),i++,a()):(d.addEventListener("load",c),d.addEventListener("error",l));else a();var u}(e,t)},t=t||i)}var a=o?"complete":"interactive",c="readystatechange";function f(e){e.target.__loaded=!0}if(p){function l(e){for(var t,n=0,i=e.length;n<i&&(t=e[n]);n++)"link"===(r=t).localName&&"import"===r.rel&&d(t);var r}function d(e){e.import?f({target:e}):(e.addEventListener("load",f),e.addEventListener("error",f))}new MutationObserver(function(e){for(var t,n=0,i=e.length;n<i&&(t=e[n]);n++)t.addedNodes&&l(t.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),n=0,i=t.length;n<i&&(e=t[n]);n++)d(e)}()}s(function(e){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var t=i.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),i.dispatchEvent(t)}),e.IMPORT_LINK_TYPE="import",e.useNative=p,e.rootDocument=i,e.whenReady=s,e.isIE=o}(window.HTMLImports),function(t){var n=[];t.addModule=function(e){n.push(e)},t.initializeModules=function(){n.forEach(function(e){e(t)})}}(window.HTMLImports),window.HTMLImports.addModule(function(e){var r=/(url\()([^)]*)(\))/g,o=/(@import[\s]+(?!url\())([^;]*)(;)/g,t={resolveUrlsInStyle:function(e,t){var n=e.ownerDocument.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,n),e},resolveUrlsInCssText:function(e,t,n){var i=this.replaceUrls(e,n,t,r);return i=this.replaceUrls(i,n,t,o)},replaceUrls:function(e,o,s,t){return e.replace(t,function(e,t,n,i){var r=n.replace(/["']/g,"");return s&&(r=new URL(r,s).href),o.href=r,t+"'"+(r=o.href)+"'"+i})}};e.path=t}),window.HTMLImports.addModule(function(t){var s={async:!0,ok:function(e){return 200<=e.status&&e.status<300||304===e.status||0===e.status},load:function(e,i,r){var o=new XMLHttpRequest;return(t.flags.debug||t.flags.bust)&&(e+="?"+Math.random()),o.open("GET",e,s.async),o.addEventListener("readystatechange",function(e){if(4===o.readyState){var t=null;try{var n=o.getResponseHeader("Location");n&&(t="/"===n.substr(0,1)?location.origin+n:n)}catch(e){console.error(e.message)}i.call(r,!s.ok(o)&&o,o.response||o.responseText,t)}}),o.send(),o},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};t.xhr=s}),window.HTMLImports.addModule(function(e){var s=e.xhr,a=e.flags,t=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};t.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,n=0,i=e.length;n<i&&(t=e[n]);n++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){return this.pending[e]?(this.pending[e].push(t),!0):this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):!(this.pending[e]=[t])},fetch:function(i,r){if(a.load&&console.log("fetch",i,r),i)if(i.match(/^data:/)){var e=i.split(","),t=e[0],n=e[1];n=-1<t.indexOf(";base64")?atob(n):decodeURIComponent(n),setTimeout(function(){this.receive(i,r,null,n)}.bind(this),0)}else{var o=function(e,t,n){this.receive(i,r,e,t,n)}.bind(this);s.load(i,o)}else setTimeout(function(){this.receive(i,r,{error:"href must be specified"},null)}.bind(this),0)},receive:function(e,t,n,i,r){this.cache[e]=i;for(var o,s=this.pending[e],a=0,c=s.length;a<c&&(o=s[a]);a++)this.onload(e,o,i,n,r),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=t}),window.HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t,n=0,i=e.length;n<i&&(t=e[n]);n++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,n=0,i=e.length;n<i&&(t=e[n]);n++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(r){var o=r.path,t=r.rootDocument,n=r.flags,l=r.isIE,i=r.IMPORT_LINK_TYPE,e="link[rel="+i+"]",s={documentSelectors:e,importsSelectors:[e,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))n.parse&&console.log("[%s] is already parsed",e.localName);else{var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))}},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){n.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,n.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);0<=t&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(e.import=e.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(e),e.import&&(e.import.__importParsed=!0),this.markParsingComplete(e),e.__resource&&!e.__error?e.dispatchEvent(new CustomEvent("load",{bubbles:!1})):e.dispatchEvent(new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)(t=e.__pending.shift())&&t({target:e});this.parseNext()},parseLink:function(e){a(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t,n,i=e;(n=(t=e).ownerDocument.createElement("style")).textContent=t.textContent,o.resolveUrlsInStyle(n),e=n,(i.__appliedElement=e).__importElement=i,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(t,n){var i=this,r=function(e){t.removeEventListener("load",r),t.removeEventListener("error",r),n&&n(e),i.markParsingComplete(t),i.parseNext()};if(t.addEventListener("load",r),t.addEventListener("error",r),l&&"style"===t.localName){var e=!1;if(-1==t.textContent.indexOf("@import"))e=!0;else if(t.sheet){e=!0;for(var o,s=t.sheet.cssRules,a=s?s.length:0,c=0;c<a&&(o=s[c]);c++)o.type===CSSRule.IMPORT_RULE&&(e=e&&Boolean(o.styleSheet))}e&&setTimeout(function(){t.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(e){var t,n,i=document.createElement("script");i.__importElement=e,i.src=e.src?e.src:(t=(n=e).textContent+function(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var n=e.ownerDocument.baseURI,i=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+n+i+".js\n"}(n),"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)),r.currentScript=e,this.trackElement(i,function(e){i.parentNode&&i.parentNode.removeChild(i),r.currentScript=null}),this.addElementToDocument(i)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(t)||this.nextToParseDynamic())},nextToParseInDoc:function(e,t){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);for(var n,i=e.querySelectorAll(this.parseSelectorsForNode(e)),r=0,o=i.length;r<o&&(n=i[r]);r++)if(!this.isParsed(n))return this.hasResource(n)?a(n)?this.nextToParseInDoc(n.__doc,n):n:void 0}return t},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){return(e.ownerDocument||e)===t?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return 0<=this.dynamicElements.indexOf(e)},hasResource:function(e){return!a(e)||void 0!==e.__doc}};function a(e){return"link"===e.localName&&e.rel===i}r.parser=s,r.IMPORT_SELECTOR=e}),window.HTMLImports.addModule(function(e){var c=e.flags,l=e.IMPORT_LINK_TYPE,t=e.IMPORT_SELECTOR,n=e.rootDocument,i=e.Loader,r=e.Observer,d=e.parser,o={documents:{},documentPreloadSelectors:t,importsPreloadSelectors:[t].join(","),loadNode:function(e){s.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);s.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){return(e.ownerDocument||e)===n?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,t,n,i,r){if(c.load&&console.log("loaded",e,t),t.__resource=n,t.__error=i,a=l,"link"===(s=t).localName&&s.getAttribute("rel")===a){var o=this.documents[e];void 0===o&&((o=i?null:function(e,t){var n=document.implementation.createHTMLDocument(l);n._URL=t;var i=n.createElement("base");i.setAttribute("href",t),n.baseURI||(r=n,Object.getOwnPropertyDescriptor(r,"baseURI"))||Object.defineProperty(n,"baseURI",{value:t});var r;var o=n.createElement("meta");o.setAttribute("charset","utf-8"),n.head.appendChild(o),n.head.appendChild(i),n.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n);return n}(n,r||e))&&(o.__importLink=t,this.bootDocument(o)),this.documents[e]=o),t.__doc=o}var s,a;d.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),d.parseNext()},loadedAll:function(){d.parseNext()}},s=new i(o.loaded.bind(o),o.loadedAll.bind(o));if(o.observer=new r,!document.baseURI){var a={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",a),Object.defineProperty(n,"baseURI",a)}e.importer=o,e.importLoader=s}),window.HTMLImports.addModule(function(e){var a=e.parser,c=e.importer,t={added:function(e){for(var t,n,i,r,o=0,s=e.length;o<s&&(r=e[o]);o++)t||(t=r.ownerDocument,n=a.isParsed(t)),(i=this.shouldLoadNode(r))&&c.loadNode(r),this.shouldParseNode(r)&&n&&a.parseDynamic(r,i)},shouldLoadNode:function(e){return 1===e.nodeType&&n.call(e,c.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&n.call(e,a.parseSelectorsForNode(e))}};c.observer.addCallback=t.added.bind(t);var n=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){var t=e.initializeModules;e.isIE;if(!e.useNative){t();var n=e.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?i():document.addEventListener("DOMContentLoaded",i)}function i(){window.HTMLImports.importer.bootDocument(n)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[];t.addModule=function(e){n.push(e)},t.initializeModules=function(){n.forEach(function(e){e(t)})},t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){var c=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";function i(e,t){!function e(t,n,i){var r=t.firstElementChild;if(!r)for(r=t.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)!0!==n(r,i)&&e(r,n,i),r=r.nextElementSibling;return null}(e,function(e){if(t(e))return!0;n(e,t)}),n(e,t)}function n(e,t){for(var n=e.shadowRoot;n;)i(n,t),n=n.olderShadowRoot}e.forDocumentTree=function(e,t){!function e(t,n,i){if(t=window.wrap(t),!(0<=i.indexOf(t))){i.push(t);for(var r,o=t.querySelectorAll("link[rel="+c+"]"),s=0,a=o.length;s<a&&(r=o[s]);s++)r.import&&e(r.import,n,i);n(t)}}(e,t,[])},e.forSubtree=i}),window.CustomElements.addModule(function(n){var s=n.flags,a=n.forSubtree,t=n.forDocumentTree;function c(e,t){return i(e,t)||r(e,t)}function i(e,t){if(n.upgrade(e,t))return!0;t&&p(e)}function r(e,t){a(e,function(e){if(i(e,t))return!0})}var o=window.MutationObserver._isPolyfilled&&s["throttle-attached"];n.hasPolyfillMutations=o,n.hasThrottledAttached=o;var l=!1,d=[];function h(e){d.push(e),l||(l=!0,setTimeout(u))}function u(){l=!1;for(var e,t=d,n=0,i=t.length;n<i&&(e=t[n]);n++)e();d=[]}function p(e){o?h(function(){f(e)}):f(e)}function f(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function m(e){o?h(function(){v(e)}):v(e)}function v(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function _(e,t){if(s.dom){var n=t[0];if(n&&"childList"===n.type&&n.addedNodes&&n.addedNodes){for(var i=n.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var r=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";r=r.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",t.length,r||"")}var o=function(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}(e);t.forEach(function(e){"childList"===e.type&&(y(e.addedNodes,function(e){e.localName&&c(e,o)}),y(e.removedNodes,function(e){var t;e.localName&&(m(t=e),a(t,function(e){m(e)}))}))}),s.dom&&console.groupEnd()}var y=Array.prototype.forEach.call.bind(Array.prototype.forEach);function g(e){if(!e.__observer){var t=new MutationObserver(_.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function b(e){e=window.wrap(e),s.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),c(e,e===window.wrap(document)),g(e),s.dom&&console.groupEnd()}var C=Element.prototype.createShadowRoot;C&&(Element.prototype.createShadowRoot=function(){var e=C.call(this);return window.CustomElements.watchShadow(this),e}),n.watchShadow=function(e){if(e.shadowRoot&&!e.shadowRoot.__watched){s.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)g(t),t=t.olderShadowRoot}},n.upgradeDocumentTree=function(e){t(e,b)},n.upgradeDocument=b,n.upgradeSubtree=r,n.upgradeAll=c,n.attached=p,n.takeRecords=function(e){for((e=window.wrap(e))||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(_(e,t.takeRecords()),u())}}),window.CustomElements.addModule(function(r){var o=r.flags;function s(e,t,n){var i;return o.upgrade&&console.group("upgrade:",e.localName),t.is&&e.setAttribute("is",t.is),a(e,t),e.__upgraded__=!0,(i=e).createdCallback&&i.createdCallback(),n&&r.attached(e),r.upgradeSubtree(e,n),o.upgrade&&console.groupEnd(),e}function a(e,t){Object.__proto__||function(e,t,n){var i={},r=t;for(;r!==n&&r!==HTMLElement.prototype;){for(var o,s=Object.getOwnPropertyNames(r),a=0;o=s[a];a++)i[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}(e,t.prototype,t.native),e.__proto__=t.prototype}r.upgrade=function(e,t){if("template"===e.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e),!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var n=e.getAttribute("is"),i=r.getRegisteredDefinition(e.localName)||r.getRegisteredDefinition(n);if(i&&(n&&i.tag==e.localName||!n&&!i.extends))return s(e,i,t)}},r.upgradeWithDefinition=s,r.implementPrototype=a}),window.CustomElements.addModule(function(s){s.isIE;var a=s.upgradeDocumentTree,i=s.upgradeAll,c=s.upgradeWithDefinition,r=s.implementPrototype,e=s.useNative;function l(e,t,n){e=e.toLowerCase();var i=this.getAttribute(e);n.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==i&&this.attributeChangedCallback(e,i,r)}var d=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];var h={};function u(e){if(e)return h[e.toLowerCase()]}function o(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n,i=u(t||e);if(i){if(e==i.tag&&t==i.is)return new i.ctor;if(!t&&!i.is)return new i.ctor}return t?(n=o(e)).setAttribute("is",t):(n=p(e),0<=e.indexOf("-")&&r(n,HTMLElement)),n}var t,p=document.createElement.bind(document),f=document.createElementNS.bind(document);function n(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return i(e),e}}t=Object.__proto__||e?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},n(Node.prototype,"cloneNode"),n(document,"importNode"),document.registerElement=function(e,t){var n,i,r,o=t||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(function(e){for(var t=0;t<d.length;t++)if(e===d[t])return!0}(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(u(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return o.prototype||(o.prototype=Object.create(HTMLElement.prototype)),o.__name=e.toLowerCase(),o.extends&&(o.extends=o.extends.toLowerCase()),o.lifecycle=o.lifecycle||{},o.ancestry=function e(t){var n=u(t);return n?e(n.extends).concat([n]):[]}(o.extends),function(e){for(var t,n=e.extends,i=0;t=e.ancestry[i];i++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}(o),function(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var i,r=e.prototype,o=!1;r;)r==t&&(o=!0),(i=Object.getPrototypeOf(r))&&(r.__proto__=i),r=i;o||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}(o),function(e){if(!e.setAttribute._polyfilled){var n=e.setAttribute;e.setAttribute=function(e,t){l.call(this,e,t,n)};var t=e.removeAttribute;e.removeAttribute=function(e){l.call(this,e,null,t)},e.setAttribute._polyfilled=!0}}(o.prototype),n=o.__name,i=o,h[n]=i,o.ctor=(r=o,function(){return c(p((e=r).tag),e);var e}),o.ctor.prototype=o.prototype,o.prototype.constructor=o.ctor,s.ready&&a(document),o.ctor},document.createElement=o,document.createElementNS=function(e,t,n){return"http://www.w3.org/1999/xhtml"===e?o(t,n):f(e,t)},s.registry=h,s.instanceof=t,s.reservedTagList=d,s.getRegisteredDefinition=u,document.register=document.registerElement}),function(e){var t=e.useNative,n=e.initializeModules;e.isIE;if(t){var i=function(){};e.watchShadow=i,e.upgrade=i,e.upgradeAll=i,e.upgradeDocumentTree=i,e.upgradeSubtree=i,e.takeRecords=i,e.instanceof=function(e,t){return e instanceof t}}else n();var r=e.upgradeDocumentTree,o=e.upgradeDocument;function s(){r(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(e){setTimeout(e,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&o(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)s();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var a=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(a,s)}else s()}(window.CustomElements),function(e){var t=document.createElement("style");t.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(t,n.firstChild)}(window.WebComponents),function(){function e(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",e):"interactive"===document.readyState||"complete"===document.readyState?e():addEventListener("DOMContentLoaded",e)}(),window.Polymer={Settings:function(){var e=window.Polymer||{};if(!e.noUrlSettings)for(var t,n=location.search.slice(1).split("&"),i=0;i<n.length&&(t=n[i]);i++)(t=t.split("="))[0]&&(e[t[0]]=t[1]||!0);return e.wantShadow="shadow"===e.dom,e.hasShadow=Boolean(Element.prototype.createShadowRoot),e.nativeShadow=e.hasShadow&&!window.ShadowDOMPolyfill,e.useShadow=e.wantShadow&&e.hasShadow,e.hasNativeImports=Boolean("import"in document.createElement("link")),e.useNativeImports=e.hasNativeImports,e.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative,e.useNativeShadow=e.useShadow&&e.nativeShadow,e.usePolyfillProto=!e.useNativeCustomElements&&!Object.__proto__,e.hasNativeCSSProperties=!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)"),e.useNativeCSSProperties=e.hasNativeCSSProperties&&e.lazyRegister&&e.useNativeCSSProperties,e.isIE=navigator.userAgent.match("Trident"),e.passiveTouchGestures=e.passiveTouchGestures||!1,e}()},function(){var e=window.Polymer;window.Polymer=function(e){"function"==typeof e&&(e=e.prototype),e||(e={});var t=(e=r(e))===e.constructor.prototype?e.constructor:null,n={prototype:e};e.extends&&(n.extends=e.extends),Polymer.telemetry._registrate(e);var i=document.registerElement(e.is,n);return t||i};var r=function(e){var t=Polymer.Base;return e.extends&&(t=Polymer.Base._getExtendedPrototype(e.extends)),(e=Polymer.Base.chainObject(e,t)).registerCallback(),e};if(e)for(var t in e)Polymer[t]=e[t];Polymer.Class=function(e){return e.factoryImpl||(e.factoryImpl=function(){}),r(e).constructor}}(),Polymer.telemetry={registrations:[],_regLog:function(e){console.log("["+e.is+"]: registered")},_registrate:function(e){this.registrations.push(e),Polymer.log&&this._regLog(e)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}}),Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(e){this._ready?e():this._callbacks.push(e)},_makeReady:function(){this._ready=!0;for(var e=0;e<this._callbacks.length;e++)this._callbacks[e]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:!1,afterNextRender:function(e,t,n){this._watchNextRender(),this._afterNextRenderQueue.push([e,t,n])},hasRendered:function(){return this._ready},_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=!0;var e=function(){Polymer.RenderStatus._flushNextRender()};this._ready?requestAnimationFrame(e):this.whenReady(e)}},_flushNextRender:function(){var e=this;setTimeout(function(){e._flushRenderCallbacks(e._afterNextRenderQueue),e._afterNextRenderQueue=[],e._waitingNextRender=!1})},_flushRenderCallbacks:function(e){for(var t,n=0;n<e.length;n++)(t=e[n])[1].apply(t[0],t[2]||Polymer.nar)}},window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender(),Polymer.ImportStatus=Polymer.RenderStatus,Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady,function(){"use strict";var e,o=Polymer.Settings;if(Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(e){this.mixin(this,e)},registerCallback:function(){if("max"===o.lazyRegister)this.beforeRegister&&this.beforeRegister();else{this._desugarBehaviors();for(var e,t=0;t<this.behaviors.length;t++)(e=this.behaviors[t]).beforeRegister&&e.beforeRegister.call(this);this.beforeRegister&&this.beforeRegister()}this._registerFeatures(),o.lazyRegister||this.ensureRegisterFinished()},createdCallback:function(){if(o.disableUpgradeEnabled){if(this.hasAttribute("disable-upgrade"))return this._propertySetter=e,this._configValue=null,void(this.__data__={});this.__hasInitialized=!0}this.__initialize()},__initialize:function(){this.__hasRegisterFinished||this._ensureRegisterFinished(this.__proto__),Polymer.telemetry.instanceCount++,this.root=this;for(var e,t=0;t<this.behaviors.length;t++)(e=this.behaviors[t]).created&&e.created.call(this);this.created&&this.created(),this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(e){if(e.__hasRegisterFinished!==e.is||!e.is){if("max"===o.lazyRegister){e._desugarBehaviors();for(var t,n=0;n<e.behaviors.length;n++)(t=e.behaviors[n]).beforeRegister&&t.beforeRegister.call(e)}e.__hasRegisterFinished=e.is,e._finishRegisterFeatures&&e._finishRegisterFeatures();for(var i,r=0;r<e.behaviors.length;r++)(i=e.behaviors[r]).registered&&i.registered.call(e);e.registered&&e.registered(),o.usePolyfillProto&&e!==this&&e.extend(this,e)}},attachedCallback:function(){var n=this;Polymer.RenderStatus.whenReady(function(){n.isAttached=!0;for(var e,t=0;t<n.behaviors.length;t++)(e=n.behaviors[t]).attached&&e.attached.call(n);n.attached&&n.attached()})},detachedCallback:function(){var n=this;Polymer.RenderStatus.whenReady(function(){n.isAttached=!1;for(var e,t=0;t<n.behaviors.length;t++)(e=n.behaviors[t]).detached&&e.detached.call(n);n.detached&&n.detached()})},attributeChangedCallback:function(e,t,n){this._attributeChangedImpl(e);for(var i,r=0;r<this.behaviors.length;r++)(i=this.behaviors[r]).attributeChanged&&i.attributeChanged.call(this,e,t,n);this.attributeChanged&&this.attributeChanged(e,t,n)},_attributeChangedImpl:function(e){this._setAttributeToProperty(this,e)},extend:function(e,t){if(e&&t)for(var n,i=Object.getOwnPropertyNames(t),r=0;r<i.length&&(n=i[r]);r++)this.copyOwnProperty(n,t,e);return e||t},mixin:function(e,t){for(var n in t)e[n]=t[n];return e},copyOwnProperty:function(e,t,n){var i=Object.getOwnPropertyDescriptor(t,e);i&&Object.defineProperty(n,e,i)},_logger:function(e,t){switch(1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e].apply(console,t)}},_log:function(){var e=Array.prototype.slice.call(arguments,0);this._logger("log",e)},_warn:function(){var e=Array.prototype.slice.call(arguments,0);this._logger("warn",e)},_error:function(){var e=Array.prototype.slice.call(arguments,0);this._logger("error",e)},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}},Polymer.Base._logPrefix=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent)?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:["[%s::%s]:"],Polymer.Base.chainObject=function(e,t){return e&&t&&e!==t&&(Object.__proto__||(e=Polymer.Base.extend(Object.create(t),e)),e.__proto__=t),e},Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype),Polymer.BaseDescriptors={},o.disableUpgradeEnabled){e=function(e,t){this.__data__[e]=t};var i=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(e,t,n){this.__hasInitialized||"disable-upgrade"!==e||(this.__hasInitialized=!0,this._propertySetter=Polymer.Bind._modelApi._propertySetter,this._configValue=Polymer.Base._configValue,this.__initialize()),i.call(this,e,t,n)}}window.CustomElements?Polymer.instanceof=CustomElements.instanceof:Polymer.instanceof=function(e,t){return e instanceof t},Polymer.isInstance=function(e){return Boolean(e&&e.__isPolymerInstance__)},Polymer.telemetry.instanceCount=0}(),function(){var n={},i={};function t(e,t){n[e]=i[e.toLowerCase()]=t}var r=function(e){return n[e]||i[e.toLowerCase()]},e=function(){return document.createElement("dom-module")};e.prototype=Object.create(HTMLElement.prototype),Polymer.Base.mixin(e.prototype,{createdCallback:function(){this.register()},register:function(e){if(e=e||this.id||this.getAttribute("name")||this.getAttribute("is")){if(Polymer.Settings.strictTemplatePolicy&&void 0!==r(e))throw t(e,null),new Error("strictTemplatePolicy: dom-module "+e+" re-registered");t(this.id=e,this)}},import:function(e,t){if(e){var n=r(e);return n||(!function(){if(o)for(var e,t=document._currentScript||document.currentScript,n=t&&t.ownerDocument||document,i=n.querySelectorAll("dom-module"),r=i.length-1;0<=r&&(e=i[r]);r--){if(e.__upgraded__)return;CustomElements.upgrade(e)}}(),n=r(e)),n&&t&&(n=n.querySelector(t)),n}}}),Object.defineProperty(e.prototype,"constructor",{value:e,configurable:!0,writable:!0});var o=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",e)}(),Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var e=(document._currentScript||document.currentScript).parentNode;if("dom-module"===e.localName){var t=e.id||e.getAttribute("name")||e.getAttribute("is");this.is=t}}this.is&&(this.is=this.is.toLowerCase())}}),Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){this.behaviors.length&&(this.behaviors=this._desugarSomeBehaviors(this.behaviors))},_desugarSomeBehaviors:function(e){for(var t=[],n=(e=this._flattenBehaviorsList(e)).length-1;0<=n;n--){var i=e[n];-1===t.indexOf(i)&&(this._mixinBehavior(i),t.unshift(i))}return t},_flattenBehaviorsList:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i instanceof Array?t=t.concat(this._flattenBehaviorsList(i)):i?t.push(i):this._warn(this._logf("_flattenBehaviorsList","behavior is null, check for missing or 404 import"))}return t},_mixinBehavior:function(e){for(var t,n=Object.getOwnPropertyNames(e),i=e._noAccessors,r=0;r<n.length&&(t=n[r]);r++)Polymer.Base._behaviorProperties[t]||this.hasOwnProperty(t)||(i?this[t]=e[t]:this.copyOwnProperty(t,e,this))},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},_prepFlattenedBehaviors:function(e){for(var t=0,n=e.length;t<n;t++)this._prepBehavior(e[t]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var e=0;e<this.behaviors.length;e++)this._marshalBehavior(this.behaviors[e]);this._marshalBehavior(this)}}),Polymer.Base._behaviorProperties={hostAttributes:!0,beforeRegister:!0,registered:!0,properties:!0,observers:!0,listeners:!0,created:!0,attached:!0,detached:!0,attributeChanged:!0,ready:!0,_noAccessors:!0},Polymer.Base._addFeature({_getExtendedPrototype:function(e){return this._getExtendedNativePrototype(e)},_nativePrototypes:{},_getExtendedNativePrototype:function(e){var t=this._nativePrototypes[e];if(!t){t=Object.create(this.getNativePrototype(e));for(var n,i=Object.getOwnPropertyNames(Polymer.Base),r=0;r<i.length&&(n=i[r]);r++)Polymer.BaseDescriptors[n]||(t[n]=Polymer.Base[n]);Object.defineProperties(t,Polymer.BaseDescriptors),this._nativePrototypes[e]=t}return t},getNativePrototype:function(e){return Object.getPrototypeOf(document.createElement(e))}}),Polymer.Base._addFeature({_prepConstructor:function(){this._factoryArgs=this.extends?[this.extends,this.is]:[this.is];var e=function(){return this._factory(arguments)};this.hasOwnProperty("extends")&&(e.extends=this.extends),Object.defineProperty(this,"constructor",{value:e,writable:!0,configurable:!0}),e.prototype=this},_factory:function(e){var t=document.createElement.apply(document,this._factoryArgs);return this.factoryImpl&&this.factoryImpl.apply(t,e),t}}),Polymer.nob=Object.create(null),Polymer.Base._addFeature({getPropertyInfo:function(e){var t=this._getPropertyInfo(e,this.properties);if(!t)for(var n=0;n<this.behaviors.length;n++)if(t=this._getPropertyInfo(e,this.behaviors[n].properties))return t;return t||Polymer.nob},_getPropertyInfo:function(e,t){var n=t&&t[e];return"function"==typeof n&&(n=t[e]={type:n}),n&&(n.defined=!0),n},_prepPropertyInfo:function(){this._propertyInfo={};for(var e=0;e<this.behaviors.length;e++)this._addPropertyInfo(this._propertyInfo,this.behaviors[e].properties);this._addPropertyInfo(this._propertyInfo,this.properties),this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(e,t){var n,i;if(t)for(var r in t)n=e[r],i=t[r],("_"!==r[0]||i.readOnly)&&(e[r]?(n.type||(n.type=i.type),n.readOnly||(n.readOnly=i.readOnly)):e[r]={type:"function"==typeof i?i:i.type,readOnly:i.readOnly,attribute:Polymer.CaseMap.camelToDashCase(r)})}}),function(){var e={configurable:!0,writable:!0,enumerable:!0,value:{}};Polymer.BaseDescriptors.properties=e,Object.defineProperty(Polymer.Base,"properties",e)}(),Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(e){return this._caseMap[e]||(this._caseMap[e]=e.indexOf("-")<0?e:e.replace(this._rx.dashToCamel,function(e){return e[1].toUpperCase()}))},camelToDashCase:function(e){return this._caseMap[e]||(this._caseMap[e]=e.replace(this._rx.camelToDash,"-$1").toLowerCase())}},Polymer.Base._addFeature({_addHostAttributes:function(e){this._aggregatedAttributes||(this._aggregatedAttributes={}),e&&this.mixin(this._aggregatedAttributes,e)},_marshalHostAttributes:function(){this._aggregatedAttributes&&this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(e,t){for(var n in t)if(!this.hasAttribute(n)&&"class"!==n){var i=t[n];this.serializeValueToAttribute(i,n,this)}},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(e){if(this.hasAttributes())for(var t in this._propertyInfo){var n=this._propertyInfo[t];this.hasAttribute(n.attribute)&&this._setAttributeToProperty(e,n.attribute,t,n)}},_setAttributeToProperty:function(e,t,n,i){if(!this._serializing&&(n=n||Polymer.CaseMap.dashToCamelCase(t),(i=i||this._propertyInfo&&this._propertyInfo[n])&&!i.readOnly)){var r=this.getAttribute(t);e[n]=this.deserialize(r,i.type)}},_serializing:!1,reflectPropertyToAttribute:function(e,t,n){this._serializing=!0,n=void 0===n?this[e]:n,this.serializeValueToAttribute(n,t||Polymer.CaseMap.camelToDashCase(e)),this._serializing=!1},serializeValueToAttribute:function(e,t,n){var i=this.serialize(e);n=n||this,void 0===i?n.removeAttribute(t):n.setAttribute(t,i)},deserialize:function(t,e){switch(e){case Number:t=Number(t);break;case Boolean:t=null!=t;break;case Object:try{t=JSON.parse(t)}catch(e){}break;case Array:try{t=JSON.parse(t)}catch(e){t=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:t=new Date(t);break;case String:}return t},serialize:function(e){switch(typeof e){case"boolean":return e?"":void 0;case"object":if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}default:return null!=e?e:void 0}}}),Polymer.version="1.12.0",Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepBehaviors(),this._prepConstructor(),this._prepPropertyInfo()},_prepBehavior:function(e){this._addHostAttributes(e.hostAttributes)},_marshalBehavior:function(e){},_initFeatures:function(){this._marshalHostAttributes(),this._marshalBehaviors()}}),function(){function l(e,r){return e.replace(t,function(e,t,n,i){return t+"'"+d(n.replace(/["']/g,""),r)+"'"+i})}function d(e,t){if(e&&r.test(e))return e;var n,i=(n=t).body.__urlResolver||(n.body.__urlResolver=n.createElement("a"));return i.href=e,i.href||e}var n,i;function e(e){return e.substring(0,e.lastIndexOf("/")+1)}var t=/(url\()([^)]*)(\))/g,h={"*":["href","src","style","url"],form:["action"]},r=/(^\/)|(^#)|(^[\w-\d]*:)/,u=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:l,resolveAttrs:function(e,t){for(var n in h)for(var i,r,o,s=h[n],a=0,c=s.length;a<c&&(i=s[a]);a++)"*"!==n&&e.localName!==n||(o=(r=e.attributes[i])&&r.value)&&o.search(u)<0&&(r.value="style"===i?l(o,t):d(o,t))},resolveUrl:function(e,t){return n||(n=document.implementation.createHTMLDocument("temp"),i=n.createElement("base"),n.head.appendChild(i)),i.href=t,d(e,n)},pathFromUrl:e},Polymer.rootPath=Polymer.Settings.rootPath||e(document.baseURI||window.location.href)}(),Polymer.Base._addFeature({_prepTemplate:function(){var e;if(void 0===this._template){var t=(e=Polymer.DomModule.import(this.is))&&e.querySelector("template");if(Polymer.Settings.strictTemplatePolicy&&!t)throw new Error("strictTemplatePolicy: expecting dom-module or null _template for "+this.is);this._template=t}if(e){var n=e.getAttribute("assetpath")||"",i=Polymer.ResolveUrl.resolveUrl(n,e.ownerDocument.baseURI);this._importPath=Polymer.ResolveUrl.pathFromUrl(i)}else this._importPath="";this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,"Move inside simple <template>.")),this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){this._template&&(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(e){return document.importNode(e._content||e.content,!0)}}),function(){var e=Polymer.Base.attachedCallback,t=Polymer.Base.detachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(e){this.dataHost=e=e||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1],e&&e._clients&&e._clients.push(this),this._clients=null,this._clientsReadied=!1},_beginHosting:function(){Polymer.Base._hostStack.push(this),this._clients||(this._clients=[])},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=!1,this._canReady()&&this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady(),this._template&&(this._setupRoot(),this._readyClients()),this._clientsReadied=!0,this._clients=null,this._afterClientsReady(),this._readySelf()},_readyClients:function(){this._beginDistribute();var e=this._clients;if(e)for(var t,n=0,i=e.length;n<i&&(t=e[n]);n++)t._ready();this._finishDistribute()},_readySelf:function(){for(var e,t=0;t<this.behaviors.length;t++)(e=this.behaviors[t]).ready&&e.ready.call(this);this.ready&&this.ready(),this._readied=!0,this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),e.call(this)):this._attachedPending=!0},detachedCallback:function(){this._readied?t.call(this):this._attachedPending=!1}})}(),Polymer.ArraySplice=function(){function m(e,t,n){return{index:e,removed:t,addedCount:n}}function e(){}return e.prototype={calcEditDistances:function(e,t,n,i,r,o){for(var s=o-r+1,a=n-t+1,c=new Array(s),l=0;l<s;l++)c[l]=new Array(a),c[l][0]=l;for(var d=0;d<a;d++)c[0][d]=d;for(l=1;l<s;l++)for(d=1;d<a;d++)if(this.equals(e[t+d-1],i[r+l-1]))c[l][d]=c[l-1][d-1];else{var h=c[l-1][d]+1,u=c[l][d-1]+1;c[l][d]=h<u?h:u}return c},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,n=e[0].length-1,i=e[t][n],r=[];0<t||0<n;)if(0!=t)if(0!=n){var o,s=e[t-1][n-1],a=e[t-1][n],c=e[t][n-1];(o=a<c?a<s?a:s:c<s?c:s)==s?(s==i?r.push(0):(r.push(1),i=s),t--,n--):i=o==a?(r.push(3),t--,a):(r.push(2),n--,c)}else r.push(3),t--;else r.push(2),n--;return r.reverse(),r},calcSplices:function(e,t,n,i,r,o){var s=0,a=0,c=Math.min(n-t,o-r);if(0==t&&0==r&&(s=this.sharedPrefix(e,i,c)),n==e.length&&o==i.length&&(a=this.sharedSuffix(e,i,c-s)),r+=s,o-=a,(n-=a)-(t+=s)==0&&o-r==0)return[];if(t==n){for(var l=m(t,[],0);r<o;)l.removed.push(i[r++]);return[l]}if(r==o)return[m(t,[],n-t)];var d=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,i,r,o));l=void 0;for(var h=[],u=t,p=r,f=0;f<d.length;f++)switch(d[f]){case 0:l&&(h.push(l),l=void 0),u++,p++;break;case 1:l||(l=m(u,[],0)),l.addedCount++,u++,l.removed.push(i[p]),p++;break;case 2:l||(l=m(u,[],0)),l.addedCount++,u++;break;case 3:l||(l=m(u,[],0)),l.removed.push(i[p]),p++}return l&&h.push(l),h},sharedPrefix:function(e,t,n){for(var i=0;i<n;i++)if(!this.equals(e[i],t[i]))return i;return n},sharedSuffix:function(e,t,n){for(var i=e.length,r=t.length,o=0;o<n&&this.equals(e[--i],t[--r]);)o++;return o},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}},new e}(),Polymer.domInnerHTML=function(){var l=/[&\u00A0"]/g,d=/[&\u00A0<>]/g;function h(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function e(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var u=e(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),p=e(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function a(e,t,n){switch(e.nodeType){case Node.ELEMENT_NODE:for(var i,r=e.localName,o="<"+r,s=e.attributes,a=0;i=s[a];a++)o+=" "+i.name+'="'+i.value.replace(l,h)+'"';return o+=">",u[r]?o:o+f(e,n)+"</"+r+">";case Node.TEXT_NODE:var c=e.data;return t&&p[t.localName]?c:c.replace(d,h);case Node.COMMENT_NODE:return"\x3c!--"+e.data+"--\x3e";default:throw console.error(e),new Error("not implemented")}}function f(e,t){e instanceof HTMLTemplateElement&&(e=e.content);for(var n,i="",r=Polymer.dom(e).childNodes,o=0,s=r.length;o<s&&(n=r[o]);o++)i+=a(n,e,t);return i}return{getInnerHTML:f}}(),function(){"use strict";var i=Element.prototype.insertBefore,n=Element.prototype.appendChild,r=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(e){for(var t=[],n=0,i=e.firstChild;i;i=i.nextSibling)t[n++]=i;return t},arrayCopyChildren:function(e){for(var t=[],n=0,i=e.firstElementChild;i;i=i.nextElementSibling)t[n++]=i;return t},arrayCopy:function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i];return n}},Polymer.TreeApi.Logical={hasParentNode:function(e){return Boolean(e.__dom&&e.__dom.parentNode)},hasChildNodes:function(e){return Boolean(e.__dom&&void 0!==e.__dom.childNodes)},getChildNodes:function(e){return this.hasChildNodes(e)?this._getChildNodes(e):e.childNodes},_getChildNodes:function(e){if(!e.__dom.childNodes){e.__dom.childNodes=[];for(var t=e.__dom.firstChild;t;t=t.__dom.nextSibling)e.__dom.childNodes.push(t)}return e.__dom.childNodes},getParentNode:function(e){return e.__dom&&void 0!==e.__dom.parentNode?e.__dom.parentNode:e.parentNode},getFirstChild:function(e){return e.__dom&&void 0!==e.__dom.firstChild?e.__dom.firstChild:e.firstChild},getLastChild:function(e){return e.__dom&&void 0!==e.__dom.lastChild?e.__dom.lastChild:e.lastChild},getNextSibling:function(e){return e.__dom&&void 0!==e.__dom.nextSibling?e.__dom.nextSibling:e.nextSibling},getPreviousSibling:function(e){return e.__dom&&void 0!==e.__dom.previousSibling?e.__dom.previousSibling:e.previousSibling},getFirstElementChild:function(e){return e.__dom&&void 0!==e.__dom.firstChild?this._getFirstElementChild(e):e.firstElementChild},_getFirstElementChild:function(e){for(var t=e.__dom.firstChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.nextSibling;return t},getLastElementChild:function(e){return e.__dom&&void 0!==e.__dom.lastChild?this._getLastElementChild(e):e.lastElementChild},_getLastElementChild:function(e){for(var t=e.__dom.lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.previousSibling;return t},getNextElementSibling:function(e){return e.__dom&&void 0!==e.__dom.nextSibling?this._getNextElementSibling(e):e.nextElementSibling},_getNextElementSibling:function(e){for(var t=e.__dom.nextSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.nextSibling;return t},getPreviousElementSibling:function(e){return e.__dom&&void 0!==e.__dom.previousSibling?this._getPreviousElementSibling(e):e.previousElementSibling},_getPreviousElementSibling:function(e){for(var t=e.__dom.previousSibling;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.__dom.previousSibling;return t},saveChildNodes:function(e){if(!this.hasChildNodes(e)){e.__dom=e.__dom||{},e.__dom.firstChild=e.firstChild,e.__dom.lastChild=e.lastChild,e.__dom.childNodes=[];for(var t=e.firstChild;t;t=t.nextSibling)t.__dom=t.__dom||{},(t.__dom.parentNode=e).__dom.childNodes.push(t),t.__dom.nextSibling=t.nextSibling,t.__dom.previousSibling=t.previousSibling}},recordInsertBefore:function(e,t,n){if(t.__dom.childNodes=null,e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(var i=e.firstChild;i;i=i.nextSibling)this._linkNode(i,t,n);else this._linkNode(e,t,n)},_linkNode:function(e,t,n){e.__dom=e.__dom||{},t.__dom=t.__dom||{},n&&(n.__dom=n.__dom||{}),e.__dom.previousSibling=n?n.__dom.previousSibling:t.__dom.lastChild,e.__dom.previousSibling&&(e.__dom.previousSibling.__dom.nextSibling=e),e.__dom.nextSibling=n||null,e.__dom.nextSibling&&(e.__dom.nextSibling.__dom.previousSibling=e),e.__dom.parentNode=t,n?n===t.__dom.firstChild&&(t.__dom.firstChild=e):(t.__dom.lastChild=e,t.__dom.firstChild||(t.__dom.firstChild=e)),t.__dom.childNodes=null},recordRemoveChild:function(e,t){e.__dom=e.__dom||{},t.__dom=t.__dom||{},e===t.__dom.firstChild&&(t.__dom.firstChild=e.__dom.nextSibling),e===t.__dom.lastChild&&(t.__dom.lastChild=e.__dom.previousSibling);var n=e.__dom.previousSibling,i=e.__dom.nextSibling;n&&(n.__dom.nextSibling=i),i&&(i.__dom.previousSibling=n),e.__dom.parentNode=e.__dom.previousSibling=e.__dom.nextSibling=void 0,t.__dom.childNodes=null}},Polymer.TreeApi.Composed={getChildNodes:function(e){return Polymer.TreeApi.arrayCopyChildNodes(e)},getParentNode:function(e){return e.parentNode},clearChildNodes:function(e){e.textContent=""},insertBefore:function(e,t,n){return i.call(e,t,n||null)},appendChild:function(e,t){return n.call(e,t)},removeChild:function(e,t){return r.call(e,t)}}}(),Polymer.DomApi=function(){"use strict";var e=Polymer.Settings,o=Polymer.TreeApi,s=function(e){this.node=t?s.wrap(e):e},t=e.hasShadow&&!e.nativeShadow;s.wrap=window.wrap?window.wrap:function(e){return e},s.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(e){if(this.node.contains(e))return!0;for(var t=e,n=e.ownerDocument;t&&t!==n&&t!==this.node;)t=Polymer.dom(t).parentNode||t.host;return t===this.node},queryDistributedElements:function(e){for(var t,n=this.getEffectiveChildNodes(),i=[],r=0,o=n.length;r<o&&(t=n[r]);r++)t.nodeType===Node.ELEMENT_NODE&&s.matchesSelector.call(t,e)&&i.push(t);return i},getEffectiveChildNodes:function(){for(var e,t=[],n=this.childNodes,i=0,r=n.length;i<r&&(e=n[i]);i++)if(e.localName===a)for(var o=c(e).getDistributedNodes(),s=0;s<o.length;s++)t.push(o[s]);else t.push(e);return t},observeNodes:function(e){if(e)return this.observer||(this.observer=this.node.localName===a?new s.DistributedNodesObserver(this):new s.EffectiveNodesObserver(this)),this.observer.addListener(e)},unobserveNodes:function(e){this.observer&&this.observer.removeListener(e)},notifyObserver:function(){this.observer&&this.observer.notify()},_query:function(e,t,n){t=t||this.node;var i=[];return this._queryElements(o.Logical.getChildNodes(t),e,n,i),i},_queryElements:function(e,t,n,i){for(var r,o=0,s=e.length;o<s&&(r=e[o]);o++)if(r.nodeType===Node.ELEMENT_NODE&&this._queryElement(r,t,n,i))return!0},_queryElement:function(e,t,n,i){var r=t(e);if(r&&i.push(e),n&&n(r))return r;this._queryElements(o.Logical.getChildNodes(e),t,n,i)}};var a=s.CONTENT="content",c=s.factory=function(e){return(e=e||document).__domApi||(e.__domApi=new s.ctor(e)),e.__domApi};s.hasApi=function(e){return Boolean(e.__domApi)},s.ctor=s,Polymer.dom=function(e,t){return e instanceof Event?Polymer.EventApi.factory(e):s.factory(e,t)};var n=Element.prototype;return s.matchesSelector=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector,s}(),function(){"use strict";var e=Polymer.Settings,r=Polymer.DomApi,d=r.factory,h=Polymer.TreeApi,t=Polymer.domInnerHTML.getInnerHTML,c=r.CONTENT;if(!e.useShadow){var s=Element.prototype.cloneNode,l=Document.prototype.importNode;Polymer.Base.mixin(r.prototype,{_lazyDistribute:function(e){e.shadyRoot&&e.shadyRoot._distributionClean&&(e.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(e.debounce("_distribute",e._distributeContent)))},appendChild:function(e){return this.insertBefore(e)},insertBefore:function(e,t){if(t&&h.Logical.getParentNode(t)!==this.node)throw Error("The ref_node to be inserted before is not a child of this node");if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var n=h.Logical.getParentNode(e);n?(r.hasApi(n)&&d(n).notifyObserver(),this._removeNode(e)):this._removeOwnerShadyRoot(e)}if(!this._addNode(e,t)){t&&(t=t.localName===c?this._firstComposedNode(t):t);var i=this.node._isShadyRoot?this.node.host:this.node;t?h.Composed.insertBefore(i,e,t):h.Composed.appendChild(i,e)}return this.notifyObserver(),e},_addNode:function(e,t){var n=this.getOwnerRoot();if(n){var i=this._maybeAddInsertionPoint(e,this.node);n._invalidInsertionPoints||(n._invalidInsertionPoints=i),this._addNodeToHost(n.host,e)}h.Logical.hasChildNodes(this.node)&&h.Logical.recordInsertBefore(e,this.node,t);var r=this._maybeDistribute(e)||this.node.shadyRoot;if(r)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(;e.firstChild;)h.Composed.removeChild(e,e.firstChild);else{var o=h.Composed.getParentNode(e);o&&h.Composed.removeChild(o,e)}return r},removeChild:function(e){if(h.Logical.getParentNode(e)!==this.node)throw Error("The node to be removed is not a child of this node: "+e);if(!this._removeNode(e)){var t=this.node._isShadyRoot?this.node.host:this.node;t===h.Composed.getParentNode(e)&&h.Composed.removeChild(t,e)}return this.notifyObserver(),e},_removeNode:function(e){var t,n=h.Logical.hasParentNode(e)&&h.Logical.getParentNode(e),i=this._ownerShadyRootForNode(e);return n&&(t=d(e)._maybeDistributeParent(),h.Logical.recordRemoveChild(e,n),i&&this._removeDistributedChildren(i,e)&&(i._invalidInsertionPoints=!0,this._lazyDistribute(i.host))),this._removeOwnerShadyRoot(e),i&&this._removeNodeFromHost(i.host,e),t},replaceChild:function(e,t){return this.insertBefore(e,t),this.removeChild(t),e},_hasCachedOwnerRoot:function(e){return Boolean(void 0!==e._ownerShadyRoot)},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(e){if(e){var t=e._ownerShadyRoot;if(void 0===t){if(e._isShadyRoot)t=e;else{var n=h.Logical.getParentNode(e);t=n?n._isShadyRoot?n:this._ownerShadyRootForNode(n):null}(t||document.documentElement.contains(e))&&(e._ownerShadyRoot=t)}return t}},_maybeDistribute:function(e){var t=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!e.__noContent&&d(e).querySelector(c),n=t&&h.Logical.getParentNode(t).nodeType!==Node.DOCUMENT_FRAGMENT_NODE,i=t||e.localName===c;if(i){var r=this.getOwnerRoot();r&&this._lazyDistribute(r.host)}var o=this._nodeNeedsDistribution(this.node);return o&&this._lazyDistribute(this.node),o||i&&!n},_maybeAddInsertionPoint:function(e,t){var n;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||e.__noContent)e.localName===c&&(h.Logical.saveChildNodes(t),h.Logical.saveChildNodes(e),n=!0);else for(var i,r,o,s=d(e).querySelectorAll(c),a=0;a<s.length&&(i=s[a]);a++)(r=h.Logical.getParentNode(i))===e&&(r=t),o=this._maybeAddInsertionPoint(i,r),n=n||o;return n},_updateInsertionPoints:function(e){for(var t,n=e.shadyRoot._insertionPoints=d(e.shadyRoot).querySelectorAll(c),i=0;i<n.length;i++)t=n[i],h.Logical.saveChildNodes(t),h.Logical.saveChildNodes(h.Logical.getParentNode(t))},_nodeNeedsDistribution:function(e){return e&&e.shadyRoot&&r.hasInsertionPoint(e.shadyRoot)},_addNodeToHost:function(e,t){e._elementAdd&&e._elementAdd(t)},_removeNodeFromHost:function(e,t){e._elementRemove&&e._elementRemove(t)},_removeDistributedChildren:function(e,t){for(var n,i=e._insertionPoints,r=0;r<i.length;r++){var o=i[r];if(this._contains(t,o))for(var s=d(o).getDistributedNodes(),a=0;a<s.length;a++){n=!0;var c=s[a],l=h.Composed.getParentNode(c);l&&h.Composed.removeChild(l,c)}}return n},_contains:function(e,t){for(;t;){if(t==e)return!0;t=h.Logical.getParentNode(t)}},_removeOwnerShadyRoot:function(e){if(this._hasCachedOwnerRoot(e))for(var t,n=h.Logical.getChildNodes(e),i=0,r=n.length;i<r&&(t=n[i]);i++)this._removeOwnerShadyRoot(t);e._ownerShadyRoot=void 0},_firstComposedNode:function(e){for(var t,n,i=d(e).getDistributedNodes(),r=0,o=i.length;r<o&&(t=i[r]);r++)if((n=d(t).getDestinationInsertionPoints())[n.length-1]===e)return t},querySelector:function(t){return this._query(function(e){return r.matchesSelector.call(e,t)},this.node,function(e){return Boolean(e)})[0]||null},querySelectorAll:function(t){return this._query(function(e){return r.matchesSelector.call(e,t)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(e,t){this.node.setAttribute(e,t),this._maybeDistributeForAttributeChange(this.node,e)},removeAttribute:function(e){this.node.removeAttribute(e),this._maybeDistributeForAttributeChange(this.node,e)},_maybeDistributeForAttributeChange:function(e,t){if("select"===t&&"content"===e.localName){var n=this.getOwnerRoot();if(n&&this._nodeNeedsDistribution(n.host))return void this._lazyDistribute(n.host)}this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode))return this._lazyDistribute(this.parentNode),!0},cloneNode:function(e){var t=s.call(this.node,!1);if(e)for(var n,i=this.childNodes,r=d(t),o=0;o<i.length;o++)n=d(i[o]).cloneNode(!0),r.appendChild(n);return t},importNode:function(e,t){var n=this.node instanceof Document?this.node:this.node.ownerDocument,i=l.call(n,e,!1);if(t)for(var r,o=h.Logical.getChildNodes(e),s=d(i),a=0;a<o.length;a++)r=d(n).importNode(o[a],!0),s.appendChild(r);return i},_getComposedInnerHTML:function(){return t(this.node,!0)}}),Object.defineProperties(r.prototype,{activeElement:{get:function(){var e=document.activeElement;if(!e)return null;var t=!!this.node._isShadyRoot;if(this.node!==document){if(!t)return null;if(this.node.host===e||!this.node.host.contains(e))return null}for(var n=d(e).getOwnerRoot();n&&n!==this.node;)e=n.host,n=d(e).getOwnerRoot();return this.node===document?n?null:e:n===this.node?e:null},configurable:!0},childNodes:{get:function(){var e=h.Logical.getChildNodes(this.node);return Array.isArray(e)?e:h.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return h.Logical.hasChildNodes(this.node)?Array.prototype.filter.call(this.childNodes,function(e){return e.nodeType===Node.ELEMENT_NODE}):h.arrayCopyChildren(this.node)},configurable:!0},parentNode:{get:function(){return h.Logical.getParentNode(this.node)},configurable:!0},firstChild:{get:function(){return h.Logical.getFirstChild(this.node)},configurable:!0},lastChild:{get:function(){return h.Logical.getLastChild(this.node)},configurable:!0},nextSibling:{get:function(){return h.Logical.getNextSibling(this.node)},configurable:!0},previousSibling:{get:function(){return h.Logical.getPreviousSibling(this.node)},configurable:!0},firstElementChild:{get:function(){return h.Logical.getFirstElementChild(this.node)},configurable:!0},lastElementChild:{get:function(){return h.Logical.getLastElementChild(this.node)},configurable:!0},nextElementSibling:{get:function(){return h.Logical.getNextElementSibling(this.node)},configurable:!0},previousElementSibling:{get:function(){return h.Logical.getPreviousElementSibling(this.node)},configurable:!0},textContent:{get:function(){var e=this.node.nodeType;if(e===Node.TEXT_NODE||e===Node.COMMENT_NODE)return this.node.textContent;for(var t,n=[],i=0,r=this.childNodes;t=r[i];i++)t.nodeType!==Node.COMMENT_NODE&&n.push(t.textContent);return n.join("")},set:function(e){var t=this.node.nodeType;t===Node.TEXT_NODE||t===Node.COMMENT_NODE?this.node.textContent=e:(this._clear(),e&&this.appendChild(document.createTextNode(e)))},configurable:!0},innerHTML:{get:function(){var e=this.node.nodeType;return e===Node.TEXT_NODE||e===Node.COMMENT_NODE?null:t(this.node)},set:function(e){var t=this.node.nodeType;if(t!==Node.TEXT_NODE||t!==Node.COMMENT_NODE){this._clear();var n=document.createElement("div");n.innerHTML=e;for(var i=h.arrayCopyChildNodes(n),r=0;r<i.length;r++)this.appendChild(i[r])}},configurable:!0}}),r.hasInsertionPoint=function(e){return Boolean(e&&e._insertionPoints.length)}}}(),function(){"use strict";var e=Polymer.Settings,t=Polymer.TreeApi,n=Polymer.DomApi;if(e.useShadow){Polymer.Base.mixin(n.prototype,{querySelectorAll:function(e){return t.arrayCopy(this.node.querySelectorAll(e))},getOwnerRoot:function(){for(var e=this.node;e;){if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host)return e;e=e.parentNode}},importNode:function(e,t){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(e,t)},getDestinationInsertionPoints:function(){var e=this.node.getDestinationInsertionPoints&&this.node.getDestinationInsertionPoints();return e?t.arrayCopy(e):[]},getDistributedNodes:function(){var e=this.node.getDistributedNodes&&this.node.getDistributedNodes();return e?t.arrayCopy(e):[]}}),Object.defineProperties(n.prototype,{activeElement:{get:function(){var e=n.wrap(this.node),t=e.activeElement;return e.contains(t)?t:null},configurable:!0},childNodes:{get:function(){return t.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return t.arrayCopyChildren(this.node)},configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(e){return this.node.textContent=e},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(e){return this.node.innerHTML=e},configurable:!0}});var i=function(e){n.prototype[e]=function(){return this.node[e].apply(this.node,arguments)}};!function(e){for(var t=0;t<e.length;t++)i(e[t])}(["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector"]);var r=function(e){Object.defineProperty(n.prototype,e,{get:function(){return this.node[e]},configurable:!0})};!function(e){for(var t=0;t<e.length;t++)r(e[t])}(["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling"])}}(),Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){for(this._flushGuard=0,this._prepareFlush();this._debouncers.length&&this._flushGuard<this._FLUSH_MAX;){for(;this._debouncers.length;)this._debouncers.shift().complete();this._finishDebouncer&&this._finishDebouncer.complete(),this._prepareFlush(),this._flushGuard++}this._flushGuard>=this._FLUSH_MAX&&console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},_prepareFlush:function(){this._needsTakeRecords&&CustomElements.takeRecords();for(var e=0;e<this._staticFlushList.length;e++)this._staticFlushList[e]()},addStaticFlush:function(e){this._staticFlushList.push(e)},removeStaticFlush:function(e){var t=this._staticFlushList.indexOf(e);0<=t&&this._staticFlushList.splice(t,1)},addDebouncer:function(e){this._debouncers.push(e),this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}}),Polymer.EventApi=function(){"use strict";var t=Polymer.DomApi.ctor,e=Polymer.Settings;t.Event=function(e){this.event=e},e.useShadow?t.Event.prototype={get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var e=this.event.path;return Array.isArray(e)||(e=Array.prototype.slice.call(e)),e}}:t.Event.prototype={get rootTarget(){return this.event.target},get localTarget(){for(var e=this.event.currentTarget,t=e&&Polymer.dom(e).getOwnerRoot(),n=this.path,i=0;i<n.length;i++)if(Polymer.dom(n[i]).getOwnerRoot()===t)return n[i]},get path(){if(!this.event._path){for(var e=[],t=this.rootTarget;t;){e.push(t);var n=Polymer.dom(t).getDestinationInsertionPoints();if(n.length){for(var i=0;i<n.length-1;i++)e.push(n[i]);t=n[n.length-1]}else t=Polymer.dom(t).parentNode||t.host}e.push(window),this.event._path=e}return this.event._path}};return{factory:function(e){return e.__eventApi||(e.__eventApi=new t.Event(e)),e.__eventApi}}}(),function(){"use strict";var e=Polymer.DomApi.ctor,t=Polymer.Settings.useShadow;Object.defineProperty(e.prototype,"classList",{get:function(){return this._classList||(this._classList=new e.ClassList(this)),this._classList},configurable:!0}),e.ClassList=function(e){this.domApi=e,this.node=e.node},e.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments),this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments),this._distributeParent()},toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments),this._distributeParent()},_distributeParent:function(){t||this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}}(),function(){"use strict";var e=Polymer.DomApi.ctor,t=Polymer.Settings;if(e.EffectiveNodesObserver=function(e){this.domApi=e,this.node=this.domApi.node,this._listeners=[]},e.EffectiveNodesObserver.prototype={addListener:function(e){this._isSetup||(this._setup(),this._isSetup=!0);var t={fn:e,_nodes:[]};return this._listeners.push(t),this._scheduleNotify(),t},removeListener:function(e){var t=this._listeners.indexOf(e);0<=t&&(this._listeners.splice(t,1),e._nodes=[]),this._hasListeners()||(this._cleanup(),this._isSetup=!1)},_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return Boolean(this._listeners.length)},_scheduleNotify:function(){this._debouncer&&this._debouncer.stop(),this._debouncer=Polymer.Debounce(this._debouncer,this._notify),this._debouncer.context=this,Polymer.dom.addDebouncer(this._debouncer)},notify:function(){this._hasListeners()&&this._scheduleNotify()},_notify:function(){this._beforeCallListeners(),this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++)this._isContent(t)&&(t.__observeNodesMap=t.__observeNodesMap||new WeakMap,t.__observeNodesMap.has(this)||t.__observeNodesMap.set(this,this._observeContent(t)))},_observeContent:function(e){var t=this,n=Polymer.dom(e).observeNodes(function(){t._scheduleNotify()});return n._avoidChangeCalculation=!0,n},_unobserveContentElements:function(e){for(var t,n,i=0;i<e.length&&(t=e[i]);i++)this._isContent(t)&&(n=t.__observeNodesMap&&t.__observeNodesMap.get(this))&&(Polymer.dom(t).unobserveNodes(n),t.__observeNodesMap.delete(this))},_isContent:function(e){return"content"===e.localName},_callListeners:function(){for(var e,t=this._listeners,n=this._getEffectiveNodes(),i=0;i<t.length&&(e=t[i]);i++){var r=this._generateListenerInfo(e,n);(r||e._alwaysNotify)&&this._callListener(e,r)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},_generateListenerInfo:function(e,t){if(e._avoidChangeCalculation)return!0;for(var n,i=e._nodes,r={target:this.node,addedNodes:[],removedNodes:[]},o=Polymer.ArraySplice.calculateSplices(t,i),s=0;s<o.length&&(n=o[s]);s++)for(var a,c=0;c<n.removed.length&&(a=n.removed[c]);c++)r.removedNodes.push(a);for(s=0;s<o.length&&(n=o[s]);s++)for(c=n.index;c<n.index+n.addedCount;c++)r.addedNodes.push(t[c]);return e._nodes=t,r.addedNodes.length||r.removedNodes.length?r:void 0},_callListener:function(e,t){return e.fn.call(this.node,t)},enableShadowAttributeTracking:function(){}},t.useShadow){var n=e.EffectiveNodesObserver.prototype._setup,i=e.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(e.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var t=this;this._mutationHandler=function(e){e&&e.length&&t._scheduleNotify()},this._observer=new MutationObserver(this._mutationHandler),this._boundFlush=function(){t._flush()},Polymer.dom.addStaticFlush(this._boundFlush),this._observer.observe(this.node,{childList:!0})}n.call(this)},_cleanup:function(){this._observer.disconnect(),this._observer=null,this._mutationHandler=null,Polymer.dom.removeStaticFlush(this._boundFlush),i.call(this)},_flush:function(){this._observer&&this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify(),this._observer.disconnect(),this._observer.observe(this.node,{childList:!0,attributes:!0,subtree:!0});var e=this.domApi.getOwnerRoot(),t=e&&e.host;t&&Polymer.dom(t).observer&&Polymer.dom(t).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var e,t=0;t<this._listeners.length;t++)(e=this._listeners[t])._alwaysNotify=e._isContentListener}})}}(),function(){"use strict";var t=Polymer.DomApi.ctor,e=Polymer.Settings;t.DistributedNodesObserver=function(e){t.EffectiveNodesObserver.call(this,e)},t.DistributedNodesObserver.prototype=Object.create(t.EffectiveNodesObserver.prototype),Polymer.Base.mixin(t.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}}),e.useShadow&&Polymer.Base.mixin(t.DistributedNodesObserver.prototype,{_setup:function(){if(!this._observer){var e=this.domApi.getOwnerRoot(),t=e&&e.host;if(t){var n=this;this._observer=Polymer.dom(t).observeNodes(function(){n._scheduleNotify()}),this._observer._isContentListener=!0,this._hasAttrSelect()&&Polymer.dom(t).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var e=this.node.getAttribute("select");return e&&e.match(/[[.]+/)},_cleanup:function(){var e=this.domApi.getOwnerRoot(),t=e&&e.host;t&&Polymer.dom(t).unobserveNodes(this._observer),this._observer=null}})}(),function(){var i=Polymer.DomApi,d=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||Boolean(this._template)},_setupShady:function(){this.shadyRoot=null,this.__domApi||(this.__domApi=null),this.__dom||(this.__dom=null),this._ownerShadyRoot||(this._ownerShadyRoot=void 0)},_poolContent:function(){this._useContent&&d.Logical.saveChildNodes(this)},_setupRoot:function(){this._useContent&&(this._createLocalRoot(),this.dataHost||function(e){if(r&&e)for(var t=0;t<e.length;t++)CustomElements.upgrade(e[t])}(d.Logical.getChildNodes(this)))},_createLocalRoot:function(){this.shadyRoot=this.root,this.shadyRoot._distributionClean=!1,this.shadyRoot._hasDistributed=!1,this.shadyRoot._isShadyRoot=!0,this.shadyRoot._dirtyRoots=[];var e=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];d.Logical.saveChildNodes(this.shadyRoot);for(var t,n=0;n<e.length;n++)t=e[n],d.Logical.saveChildNodes(t),d.Logical.saveChildNodes(t.parentNode);this.shadyRoot.host=this},distributeContent:function(e){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||e;var t=function(e){for(;e&&n(e);)e=e.domHost;return e}(this);Polymer.dom(this)._lazyDistribute(t)}},_distributeContent:function(){this._useContent&&!this.shadyRoot._distributionClean&&(this.shadyRoot._invalidInsertionPoints&&(Polymer.dom(this)._updateInsertionPoints(this),this.shadyRoot._invalidInsertionPoints=!1),this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&i.hasInsertionPoint(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var e,t=this.shadyRoot._dirtyRoots,n=0,i=t.length;n<i&&(e=t[n]);n++)e._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){if(this.shadyRoot._distributionClean=!0,i.hasInsertionPoint(this.shadyRoot))this._composeTree(),function(e){for(var t,n=0;n<e._insertionPoints.length;n++)t=e._insertionPoints[n],i.hasApi(t)&&Polymer.dom(t).notifyObserver()}(this.shadyRoot);else if(this.shadyRoot._hasDistributed){var e=this._composeNode(this);this._updateChildNodes(this,e)}else d.Composed.clearChildNodes(this),this.appendChild(this.shadyRoot);this.shadyRoot._hasDistributed||(t=this,i.hasApi(t)&&Polymer.dom(t).notifyObserver()),this.shadyRoot._hasDistributed=!0}var t},elementMatches:function(e,t){return t=t||this,i.matchesSelector.call(t,e)},_resetDistribution:function(){for(var e=d.Logical.getChildNodes(this),t=0;t<e.length;t++){var n=e[t];n._destinationInsertionPoints&&(n._destinationInsertionPoints=void 0),h(n)&&o(n)}for(var i=this.shadyRoot._insertionPoints,r=0;r<i.length;r++)i[r]._distributedNodes=[]},_collectPool:function(){for(var e=[],t=d.Logical.getChildNodes(this),n=0;n<t.length;n++){var i=t[n];h(i)?e.push.apply(e,i._distributedNodes):e.push(i)}return e},_distributePool:function(e,t){for(var n,i=e._insertionPoints,r=0,o=i.length;r<o&&(n=i[r]);r++)this._distributeInsertionPoint(n,t),s(n,this)},_distributeInsertionPoint:function(e,t){for(var n,i=!1,r=0,o=t.length;r<o;r++)(n=t[r])&&this._matchesContentSelect(n,e)&&(c(n,e),i=!(t[r]=void 0));if(!i)for(var s=d.Logical.getChildNodes(e),a=0;a<s.length;a++)c(s[a],e)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var e,t,n=this.shadyRoot._insertionPoints,i=0,r=n.length;i<r&&(e=n[i]);i++)(t=d.Logical.getParentNode(e))._useContent||t===this||t===this.shadyRoot||this._updateChildNodes(t,this._composeNode(t))},_composeNode:function(e){for(var t,n,i=[],r=d.Logical.getChildNodes(e.shadyRoot||e),o=0;o<r.length;o++){var s=r[o];if(h(s))for(var a=s._distributedNodes,c=0;c<a.length;c++){var l=a[c];t=s,void 0,(n=l._destinationInsertionPoints)&&n[n.length-1]===t&&i.push(l)}else i.push(s)}return i},_updateChildNodes:function(e,t){for(var n=d.Composed.getChildNodes(e),i=Polymer.ArraySplice.calculateSplices(t,n),r=0,o=0;r<i.length&&(c=i[r]);r++){for(var s,a=0;a<c.removed.length&&(s=c.removed[a]);a++)d.Composed.getParentNode(s)===e&&d.Composed.removeChild(e,s),n.splice(c.index+o,1);o-=c.addedCount}var c,l;for(r=0;r<i.length&&(c=i[r]);r++)for(l=n[c.index],a=c.index;a<c.index+c.addedCount;a++)s=t[a],d.Composed.insertBefore(e,s,l),n.splice(a,0,s)},_matchesContentSelect:function(e,t){var n=t.getAttribute("select");if(!n)return!0;if(!(n=n.trim()))return!0;if(!(e instanceof Element))return!1;return!!/^(:not\()?[*.#[a-zA-Z_|]/.test(n)&&this.elementMatches(n,e)},_elementAdd:function(){},_elementRemove:function(){}});var e={get:function(){var e=Polymer.dom(this).getOwnerRoot();return e&&e.host},configurable:!0};function c(e,t){t._distributedNodes.push(e);var n=e._destinationInsertionPoints;n?n.push(t):e._destinationInsertionPoints=[t]}function o(e){var t=e._distributedNodes;if(t)for(var n=0;n<t.length;n++){var i=t[n]._destinationInsertionPoints;i&&i.splice(i.indexOf(e)+1,i.length)}}function s(e,t){var n=d.Logical.getParentNode(e);n&&n.shadyRoot&&i.hasInsertionPoint(n.shadyRoot)&&n.shadyRoot._distributionClean&&(n.shadyRoot._distributionClean=!1,t.shadyRoot._dirtyRoots.push(n))}function h(e){return"content"==e.localName}function n(e){for(var t,n=d.Logical.getChildNodes(e),i=0;i<n.length;i++)if((t=n[i]).localName&&"content"===t.localName)return e.domHost}Object.defineProperty(Polymer.Base,"domHost",e),Polymer.BaseDescriptors.domHost=e;var r=window.CustomElements&&!CustomElements.useNative}(),Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot(),this.shadowRoot.appendChild(this.root),this.root=this.shadowRoot}}),Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(e,t){return 0<t?~setTimeout(e,t):(this._twiddle.textContent=this._twiddleContent++,this._callbacks.push(e),this._currVal++)},cancel:function(e){if(e<0)clearTimeout(~e);else{var t=e-this._lastVal;if(0<=t){if(!this._callbacks[t])throw"invalid async handle: "+e;this._callbacks[t]=null}}},_atEndOfMicrotask:function(){for(var e=this._callbacks.length,t=0;t<e;t++){var n=this._callbacks[t];if(n)try{n()}catch(e){throw t++,this._callbacks.splice(0,t),this._lastVal+=t,this._twiddle.textContent=this._twiddleContent++,e}}this._callbacks.splice(0,e),this._lastVal+=e}},new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()}).observe(Polymer.Async._twiddle,{characterData:!0}),Polymer.Debounce=function(){var i=Polymer.Async,r=function(e){this.context=e;var t=this;this.boundComplete=function(){t.complete()}};return r.prototype={go:function(e,t){var n;this.finish=function(){i.cancel(n)},n=i.run(this.boundComplete,t),this.callback=e},stop:function(){this.finish&&(this.finish(),this.finish=null,this.callback=null)},complete:function(){if(this.finish){var e=this.callback;this.stop(),e.call(this.context)}}},function(e,t,n){return e?e.stop():e=new r(this),e.go(t,n),e}}(),Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(e,t,n){return this._debouncers[e]=Polymer.Debounce.call(this,this._debouncers[e],t,n)},isDebouncerActive:function(e){var t=this._debouncers[e];return!(!t||!t.finish)},flushDebouncer:function(e){var t=this._debouncers[e];t&&t.complete()},cancelDebouncer:function(e){var t=this._debouncers[e];t&&t.stop()}}),Polymer.DomModule=document.createElement("dom-module"),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this._prepBehaviors(),this._prepConstructor(),this._prepTemplate(),this._prepShady(),this._prepPropertyInfo()},_prepBehavior:function(e){this._addHostAttributes(e.hostAttributes)},_initFeatures:function(){this._registerHost(),this._template&&(this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting()),this._marshalHostAttributes(),this._setupDebouncers(),this._marshalBehaviors(),this._tryReady()},_marshalBehavior:function(e){}}),function(){Polymer.nar=[];var e,c=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(e,t){var n=[],i=e._content||e.content;return this._parseNodeAnnotations(i,n,t||e.hasAttribute("strip-whitespace")),n},_parseNodeAnnotations:function(e,t,n){return e.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(e,t):this._parseElementAnnotations(e,t,n)},_bindingRegex:new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:(?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\"))\\s*)(?:,\\s*(?:(?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\"))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g"),_parseBindings:function(e){for(var t,n=this._bindingRegex,i=[],r=0;null!==(t=n.exec(e));){t.index>r&&i.push({literal:e.slice(r,t.index)});var o,s,a,c=t[1][0],l=Boolean(t[2]),d=t[3].trim();"{"==c&&0<(a=d.indexOf("::"))&&(s=d.substring(a+2),d=d.substring(0,a),o=!0),i.push({compoundIndex:i.length,value:d,mode:c,negate:l,event:s,customEvent:o}),r=n.lastIndex}if(r&&r<e.length){var h=e.substring(r);h&&i.push({literal:h})}if(i.length)return i},_literalFromParts:function(e){for(var t="",n=0;n<e.length;n++){t+=e[n].literal||""}return t},_parseTextNodeAnnotation:function(e,t){var n=this._parseBindings(e.textContent);if(n){e.textContent=this._literalFromParts(n)||" ";var i={bindings:[{kind:"text",name:"textContent",parts:n,isCompound:1!==n.length}]};return t.push(i),i}},_parseElementAnnotations:function(e,t,n){var i={bindings:[],events:[]};return"content"===e.localName&&(t._hasContent=!0),this._parseChildNodesAnnotations(e,i,t,n),e.attributes&&(this._parseNodeAttributeAnnotations(e,i,t),this.prepElement&&this.prepElement(e)),(i.bindings.length||i.events.length||i.id)&&t.push(i),i},_parseChildNodesAnnotations:function(e,t,n,i){if(e.firstChild)for(var r=e.firstChild,o=0;r;){var s=r.nextSibling;if("template"!==r.localName||r.hasAttribute("preserve-content")||this._parseTemplate(r,o,n,t,i),"slot"==r.localName&&(r=this._replaceSlotWithContent(r)),r.nodeType===Node.TEXT_NODE){for(var a=s;a&&a.nodeType===Node.TEXT_NODE;)r.textContent+=a.textContent,s=a.nextSibling,e.removeChild(a),a=s;i&&!r.textContent.trim()&&(e.removeChild(r),o--)}if(r.parentNode){var c=this._parseNodeAnnotations(r,n,i);c&&(c.parent=t,c.index=o)}r=s,o++}},_select$Attr:(e=document.createElement("div"),e.innerHTML="<div select$>",e.childNodes[0].attributes.getNamedItem("select$")),_replaceSlotWithContent:function(e){for(var t=e.ownerDocument.createElement("content");e.firstChild;)t.appendChild(e.firstChild);for(var n=e.attributes,i=0;i<n.length;i++)t.attributes.setNamedItem(n[i].cloneNode());var r=e.getAttribute("name");r&&t.setAttribute("select","[slot='"+r+"']");var o=e.getAttribute("name$");if(o){var s=this._select$Attr.cloneNode();s.value="[slot='"+o+"']",t.attributes.setNamedItem(s)}return e.parentNode.replaceChild(t,e),t},_parseTemplate:function(e,t,n,i,r){var o=document.createDocumentFragment();o._notes=this.parseAnnotations(e,r),o.appendChild(e.content),n.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:o,parent:i,index:t})},_parseNodeAttributeAnnotations:function(e,t){for(var n,i=Array.prototype.slice.call(e.attributes),r=i.length-1;n=i[r];r--){var o,s=n.name,a=n.value;"on-"===s.slice(0,3)?(e.removeAttribute(s),t.events.push({name:s.slice(3),value:a})):(o=this._parseNodeAttributeAnnotation(e,s,a))?t.bindings.push(o):"id"===s&&(t.id=a)}},_parseNodeAttributeAnnotation:function(e,t,n){var i=this._parseBindings(n);if(i){var r=t,o="property";"$"==t[t.length-1]&&(t=t.slice(0,-1),o="attribute");var s=this._literalFromParts(i);s&&"attribute"==o&&e.setAttribute(t,s),"input"===e.localName&&"value"===r&&e.setAttribute(r,""),c&&"disable-upgrade$"===r&&e.setAttribute(t,""),e.removeAttribute(r);var a=Polymer.CaseMap.dashToCamelCase(t);return"property"===o&&(t=a),{kind:o,name:t,propertyName:a,parts:i,literal:s,isCompound:1!==i.length}}},findAnnotatedNode:function(e,t){var n=t.parent&&Polymer.Annotations.findAnnotatedNode(e,t.parent);if(!n)return e;for(var i=n.firstChild,r=0;i;i=i.nextSibling)if(t.index===r++)return i}}}(),Polymer.Path={root:function(e){var t=e.indexOf(".");return-1===t?e:e.slice(0,t)},isDeep:function(e){return-1!==e.indexOf(".")},isAncestor:function(e,t){return 0===e.indexOf(t+".")},isDescendant:function(e,t){return 0===t.indexOf(e+".")},translate:function(e,t,n){return t+n.slice(e.length)},matches:function(e,t,n){return e===n||this.isAncestor(e,n)||Boolean(t)&&this.isDescendant(e,n)}},Polymer.Base._addFeature({_prepAnnotations:function(){if(this._template){var t=this;Polymer.Annotations.prepElement=function(e){t._prepElement(e)},this._template._content&&this._template._content._notes?this._notes=this._template._content._notes:(this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes)),Polymer.Annotations.prepElement=null}else this._notes=[]},_processAnnotations:function(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=0;i<n.bindings.length;i++)for(var r=n.bindings[i],o=0;o<r.parts.length;o++){var s=r.parts[o];if(!s.literal){var a=this._parseMethod(s.value);a?s.signature=a:s.model=Polymer.Path.root(s.value)}}if(n.templateContent){this._processAnnotations(n.templateContent._notes);var c=n.templateContent._parentProps=this._discoverTemplateParentProps(n.templateContent._notes),l=[];for(var d in c){var h="_parent_"+d;l.push({index:n.index,kind:"property",name:h,propertyName:h,parts:[{mode:"{",model:d,value:d}]})}n.bindings=n.bindings.concat(l)}}},_discoverTemplateParentProps:function(e){for(var t,n={},i=0;i<e.length&&(t=e[i]);i++){for(var r,o=0,s=t.bindings;o<s.length&&(r=s[o]);o++)for(var a,c=0,l=r.parts;c<l.length&&(a=l[c]);c++)if(a.signature){for(var d=a.signature.args,h=0;h<d.length;h++){var u=d[h].model;u&&(n[u]=!0)}a.signature.dynamicFn&&(n[a.signature.method]=!0)}else a.model&&(n[a.model]=!0);if(t.templateContent){var p=t.templateContent._parentProps;Polymer.Base.mixin(n,p)}}return n},_prepElement:function(e){Polymer.ResolveUrl.resolveAttrs(e,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){for(var e=this._notes||[],t=this._nodes,n=0;n<e.length;n++){var i=e[n],r=t[n];this._configureTemplateContent(i,r),this._configureCompoundBindings(i,r)}},_configureTemplateContent:function(e,t){e.templateContent&&(t._content=e.templateContent)},_configureCompoundBindings:function(e,t){for(var n=e.bindings,i=0;i<n.length;i++){var r=n[i];if(r.isCompound){for(var o=t.__compoundStorage__||(t.__compoundStorage__={}),s=r.parts,a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c].literal;var l=r.name;o[l]=a,r.literal&&"property"==r.kind&&(t._configValue?t._configValue(l,r.literal):t[l]=r.literal)}}},_marshalIdNodes:function(){this.$={};for(var e,t=0,n=this._notes.length;t<n&&(e=this._notes[t]);t++)e.id&&(this.$[e.id]=this._findAnnotatedNode(this.root,e))},_marshalAnnotatedNodes:function(){if(this._notes&&this._notes.length){for(var e=new Array(this._notes.length),t=0;t<this._notes.length;t++)e[t]=this._findAnnotatedNode(this.root,this._notes[t]);this._nodes=e}},_marshalAnnotatedListeners:function(){for(var e,t=0,n=this._notes.length;t<n&&(e=this._notes[t]);t++)if(e.events&&e.events.length)for(var i,r=this._findAnnotatedNode(this.root,e),o=0,s=e.events;o<s.length&&(i=s[o]);o++)this.listen(r,i.name,i.value)}}),Polymer.Base._addFeature({listeners:{},_listenListeners:function(e){var t,n,i;for(i in e)n=i.indexOf(".")<0?(t=this,i):(n=i.split("."),t=this.$[n[0]],n[1]),this.listen(t,n,e[i])},listen:function(e,t,n){var i=this._recallEventHandler(this,t,e,n);i||(i=this._createEventHandler(e,t,n)),i._listening||(this._listen(e,t,i),i._listening=!0)},_boundListenerKey:function(e,t){return e+":"+t},_recordEventHandler:function(e,t,n,i,r){var o=e.__boundListeners;o||(o=e.__boundListeners=new WeakMap);var s=o.get(n);s||(s={},Polymer.Settings.isIE&&n==window||o.set(n,s)),s[this._boundListenerKey(t,i)]=r},_recallEventHandler:function(e,t,n,i){var r=e.__boundListeners;if(r){var o=r.get(n);if(o)return o[this._boundListenerKey(t,i)]}},_createEventHandler:function(e,t,n){var i=this,r=function(e){i[n]?i[n](e,e.detail):i._warn(i._logf("_createEventHandler","listener method `"+n+"` not defined"))};return r._listening=!1,this._recordEventHandler(i,t,e,n,r),r},unlisten:function(e,t,n){var i=this._recallEventHandler(this,t,e,n);i&&(this._unlisten(e,t,i),i._listening=!1)},_listen:function(e,t,n){e.addEventListener(t,n)},_unlisten:function(e,t,n){e.removeEventListener(t,n)}}),function(){"use strict";var d=Polymer.DomApi.wrap,l="string"==typeof document.head.style.touchAction,h="__polymerGestures",u="__polymerGesturesHandled",a="__polymerGesturesTouchAction",r=["mousedown","mousemove","mouseup","click"],i=[0,1,4,2],o=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function p(e){return-1<r.indexOf(e)}var t=!1;function f(e){if(!p(e)&&"touchend"!==e)return l&&t&&Polymer.Settings.passiveTouchGestures?{passive:!0}:void 0}!function(){try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();var m=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),s=function(e){var t=e.sourceCapabilities;if((!t||t.firesTouchEvents)&&(e[u]={skip:!0},"click"===e.type)){var n=Polymer.dom(e).path;if(n)for(var i=0;i<n.length;i++)if(n[i]===v.mouse.target)return;e.preventDefault(),e.stopPropagation()}};function n(e){for(var t,n=m?["click"]:r,i=0;i<n.length;i++)t=n[i],e?document.addEventListener(t,s,!0):document.removeEventListener(t,s,!0)}function c(e){var t=e.type;if(!p(t))return!1;if("mousemove"!==t)return 0===(void 0===e.button?0:e.button);var n=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!o&&(n=i[e.which]||0),Boolean(1&n)}var v={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function _(e,t,n){e.movefn=t,e.upfn=n,document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}function y(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}document.addEventListener("touchend",function(e){v.mouse.mouseIgnoreJob||n(!0),v.mouse.target=Polymer.dom(e).rootTarget,v.mouse.mouseIgnoreJob=Polymer.Debounce(v.mouse.mouseIgnoreJob,function(){n(),v.mouse.target=null,v.mouse.mouseIgnoreJob=null},2500)},!!t&&{passive:!0});var g={gestures:{},recognizers:[],deepTargetFind:function(e,t){for(var n=document.elementFromPoint(e,t),i=n;i&&i.shadowRoot;){if(i===(i=i.shadowRoot.elementFromPoint(e,t)))break;i&&(n=i)}return n},findOriginalTarget:function(e){return e.path?e.path[0]:e.target},handleNative:function(e){var t,n=e.type,i=d(e.currentTarget)[h];if(i){var r=i[n];if(r){if(!e[u]&&(e[u]={},"touch"===n.slice(0,5))){var o=e.changedTouches[0];if("touchstart"===n&&1===e.touches.length&&(v.touch.id=o.identifier),v.touch.id!==o.identifier)return;l||"touchstart"!==n&&"touchmove"!==n||g.handleTouchAction(e)}if(!(t=e[u]).skip){for(var s,a=g.recognizers,c=0;c<a.length;c++)r[(s=a[c]).name]&&!t[s.name]&&s.flow&&-1<s.flow.start.indexOf(e.type)&&s.reset&&s.reset();for(c=0;c<a.length;c++)r[(s=a[c]).name]&&!t[s.name]&&(t[s.name]=!0,s[n](e))}}}},handleTouchAction:function(e){var t=e.changedTouches[0],n=e.type;if("touchstart"===n)v.touch.x=t.clientX,v.touch.y=t.clientY,v.touch.scrollDecided=!1;else if("touchmove"===n){if(v.touch.scrollDecided)return;v.touch.scrollDecided=!0;var i=function(e){for(var t,n=Polymer.dom(e).path,i="auto",r=0;r<n.length;r++)if((t=n[r])[a]){i=t[a];break}return i}(e),r=!1,o=Math.abs(v.touch.x-t.clientX),s=Math.abs(v.touch.y-t.clientY);e.cancelable&&("none"===i?r=!0:"pan-x"===i?r=o<s:"pan-y"===i&&(r=s<o)),r?e.preventDefault():g.prevent("track")}},add:function(e,t,n){e=d(e);var i=this.gestures[t],r=i.deps,o=i.name,s=e[h];s||(e[h]=s={});for(var a,c,l=0;l<r.length;l++)a=r[l],m&&p(a)&&"click"!==a||((c=s[a])||(s[a]=c={_count:0}),0===c._count&&e.addEventListener(a,this.handleNative,f(a)),c[o]=(c[o]||0)+1,c._count=(c._count||0)+1);e.addEventListener(t,n),i.touchAction&&this.setTouchAction(e,i.touchAction)},remove:function(e,t,n){e=d(e);var i=this.gestures[t],r=i.deps,o=i.name,s=e[h];if(s)for(var a,c,l=0;l<r.length;l++)(c=s[a=r[l]])&&c[o]&&(c[o]=(c[o]||1)-1,c._count=(c._count||1)-1,0===c._count&&e.removeEventListener(a,this.handleNative,f(a)));e.removeEventListener(t,n)},register:function(e){this.recognizers.push(e);for(var t=0;t<e.emits.length;t++)this.gestures[e.emits[t]]=e},findRecognizerByEvent:function(e){for(var t,n=0;n<this.recognizers.length;n++){t=this.recognizers[n];for(var i=0;i<t.emits.length;i++)if(t.emits[i]===e)return t}return null},setTouchAction:function(e,t){l&&(e.style.touchAction=t),e[a]=t},fire:function(e,t,n){if(Polymer.Base.fire(t,n,{node:e,bubbles:!0,cancelable:!0}).defaultPrevented){var i=n.preventer||n.sourceEvent;i&&i.preventDefault&&i.preventDefault()}},prevent:function(e){var t=this.findRecognizerByEvent(e);t.info&&(t.info.prevent=!0)},resetMouseCanceller:function(){v.mouse.mouseIgnoreJob&&v.mouse.mouseIgnoreJob.complete()}};g.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){y(this.info)},mousedown:function(e){if(c(e)){var t=g.findOriginalTarget(e),n=this;_(this.info,function(e){c(e)||(n.fire("up",t,e),y(n.info))},function(e){c(e)&&n.fire("up",t,e),y(n.info)}),this.fire("down",t,e)}},touchstart:function(e){this.fire("down",g.findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this.fire("up",g.findOriginalTarget(e),e.changedTouches[0],e)},fire:function(e,t,n,i){g.fire(t,e,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:i,prevent:function(e){return g.prevent(e)}})}}),g.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){2<this.moves.length&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,y(this.info)},hasMovedEnough:function(e,t){if(this.info.prevent)return!1;if(this.info.started)return!0;var n=Math.abs(this.info.x-e),i=Math.abs(this.info.y-t);return 5<=n||5<=i},mousedown:function(e){if(c(e)){var i=g.findOriginalTarget(e),r=this,t=function(e){var t=e.clientX,n=e.clientY;r.hasMovedEnough(t,n)&&(r.info.state=r.info.started?"mouseup"===e.type?"end":"track":"start","start"===r.info.state&&g.prevent("tap"),r.info.addMove({x:t,y:n}),c(e)||(r.info.state="end",y(r.info)),r.fire(i,e),r.info.started=!0)};_(this.info,t,function(e){r.info.started&&t(e),y(r.info)}),this.info.x=e.clientX,this.info.y=e.clientY}},touchstart:function(e){var t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){var t=g.findOriginalTarget(e),n=e.changedTouches[0],i=n.clientX,r=n.clientY;this.hasMovedEnough(i,r)&&("start"===this.info.state&&g.prevent("tap"),this.info.addMove({x:i,y:r}),this.fire(t,n),this.info.state="track",this.info.started=!0)},touchend:function(e){var t=g.findOriginalTarget(e),n=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),this.fire(t,n,e))},fire:function(e,t,n){var i,r=this.info.moves[this.info.moves.length-2],o=this.info.moves[this.info.moves.length-1],s=o.x-this.info.x,a=o.y-this.info.y,c=0;return r&&(i=o.x-r.x,c=o.y-r.y),g.fire(e,"track",{state:this.info.state,x:t.clientX,y:t.clientY,dx:s,dy:a,ddx:i,ddy:c,sourceEvent:t,preventer:n,hover:function(){return g.deepTargetFind(t.clientX,t.clientY)}})}}),g.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(e){this.info.x=e.clientX,this.info.y=e.clientY},mousedown:function(e){c(e)&&this.save(e)},click:function(e){c(e)&&this.forward(e)},touchstart:function(e){this.save(e.changedTouches[0],e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,t){var n=Math.abs(e.clientX-this.info.x),i=Math.abs(e.clientY-this.info.y),r=g.findOriginalTarget(e);(isNaN(n)||isNaN(i)||n<=25&&i<=25||function(e){if("click"!==e.type)return!1;if(0===e.detail)return!0;var t=g.findOriginalTarget(e).getBoundingClientRect(),n=e.pageX,i=e.pageY;return!(n>=t.left&&n<=t.right&&i>=t.top&&i<=t.bottom)}(e))&&(this.info.prevent||g.fire(r,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:t}))}});var b={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(e,t,n){g.gestures[t]?g.add(e,t,n):e.addEventListener(t,n)},_unlisten:function(e,t,n){g.gestures[t]?g.remove(e,t,n):e.removeEventListener(t,n)},setScrollDirection:function(e,t){t=t||this,g.setTouchAction(t,b[e]||"auto")}}),Polymer.Gestures=g}(),function(){"use strict";if(Polymer.Base._addFeature({$$:function(e){return Polymer.dom(this.root).querySelector(e)},toggleClass:function(e,t,n){n=n||this,1==arguments.length&&(t=!n.classList.contains(e)),t?Polymer.dom(n).classList.add(e):Polymer.dom(n).classList.remove(e)},toggleAttribute:function(e,t,n){n=n||this,1==arguments.length&&(t=!n.hasAttribute(e)),t?Polymer.dom(n).setAttribute(e,""):Polymer.dom(n).removeAttribute(e)},classFollows:function(e,t,n){n&&Polymer.dom(n).classList.remove(e),t&&Polymer.dom(t).classList.add(e)},attributeFollows:function(e,t,n){n&&Polymer.dom(n).removeAttribute(e),t&&Polymer.dom(t).setAttribute(e,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){return Polymer.dom(this).getEffectiveChildNodes().filter(function(e){return e.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){for(var e,t=this.getEffectiveChildNodes(),n=[],i=0;e=t[i];i++)e.nodeType!==Node.COMMENT_NODE&&n.push(Polymer.dom(e).textContent);return n.join("")},queryEffectiveChildren:function(e){var t=Polymer.dom(this).queryDistributedElements(e);return t&&t[0]},queryAllEffectiveChildren:function(e){return Polymer.dom(this).queryDistributedElements(e)},getContentChildNodes:function(e){var t=Polymer.dom(this.root).querySelector(e||"content");return t?Polymer.dom(t).getDistributedNodes():[]},getContentChildren:function(e){return this.getContentChildNodes(e).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})},fire:function(e,t,n){var i=(n=n||Polymer.nob).node||this;t=null==t?{}:t;var r=void 0===n.bubbles||n.bubbles,o=Boolean(n.cancelable),s=n._useCache,a=this._getEvent(e,r,o,s);return a.detail=t,s&&(this.__eventCache[e]=null),i.dispatchEvent(a),s&&(this.__eventCache[e]=a),a},__eventCache:{},_getEvent:function(e,t,n,i){var r=i&&this.__eventCache[e];return r&&r.bubbles==t&&r.cancelable==n||(r=new Event(e,{bubbles:Boolean(t),cancelable:n})),r},async:function(e,t){var n=this;return Polymer.Async.run(function(){e.call(n)},t)},cancelAsync:function(e){Polymer.Async.cancel(e)},arrayDelete:function(e,t){var n;if(Array.isArray(e)){if(0<=(n=e.indexOf(t)))return e.splice(n,1)}else if(0<=(n=this._get(e).indexOf(t)))return this.splice(e,n,1)},transform:function(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e},translate3d:function(e,t,n,i){i=i||this,this.transform("translate3d("+e+","+t+","+n+")",i)},importHref:function(e,t,n,i){var r=document.createElement("link");r.rel="import",r.href=e;var o=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{},s=o[r.href],a=s||r,c=this,l=function(e){return e.target.__firedLoad=!0,e.target.removeEventListener("load",l),e.target.removeEventListener("error",d),t.call(c,e)},d=function(e){return e.target.__firedError=!0,e.target.removeEventListener("load",l),e.target.removeEventListener("error",d),n.call(c,e)};return t&&a.addEventListener("load",l),n&&a.addEventListener("error",d),s?(s.__firedLoad&&s.dispatchEvent(new Event("load")),s.__firedError&&s.dispatchEvent(new Event("error"))):(o[r.href]=r,(i=Boolean(i))&&r.setAttribute("async",""),document.head.appendChild(r)),a},create:function(e,t){var n=document.createElement(e);if(t)for(var i in t)n[i]=t[i];return n},isLightDescendant:function(e){return this!==e&&this.contains(e)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(e).getOwnerRoot()},isLocalDescendant:function(e){return this.root===Polymer.dom(e).getOwnerRoot()}}),!Polymer.Settings.useNativeCustomElements){var r=Polymer.Base.importHref;Polymer.Base.importHref=function(e,t,n,i){CustomElements.ready=!1;return r.call(this,e,function(e){if(CustomElements.upgradeDocumentTree(document),CustomElements.ready=!0,t)return t.call(this,e)},n,i)}}}(),Polymer.Bind={prepareModel:function(e){Polymer.Base.mixin(e,this._modelApi)},_modelApi:{_notifyChange:function(e,t,n){n=void 0===n?this[e]:n,t=t||Polymer.CaseMap.camelToDashCase(e)+"-changed",this.fire(t,{value:n},{bubbles:!1,cancelable:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(e,t,n,i){var r=this.__data__[e];return r===t||r!=r&&t!=t||("object"==typeof(this.__data__[e]=t)&&this._clearPath(e),this._propertyChanged&&this._propertyChanged(e,t,r),n&&this._effectEffects(e,t,n,r,i)),r},__setProperty:function(e,t,n,i){var r=(i=i||this)._propertyEffects&&i._propertyEffects[e];r?i._propertySetter(e,t,r,n):i[e]!==t&&(i[e]=t)},_effectEffects:function(e,t,n,i,r){for(var o,s=0,a=n.length;s<a&&(o=n[s]);s++)o.fn.call(this,e,this[e],o.effect,i,r)},_clearPath:function(e){for(var t in this.__data__)Polymer.Path.isDescendant(e,t)&&(this.__data__[t]=void 0)}},ensurePropertyEffects:function(e,t){e._propertyEffects||(e._propertyEffects={});var n=e._propertyEffects[t];return n||(n=e._propertyEffects[t]=[]),n},addPropertyEffect:function(e,t,n,i){var r=this.ensurePropertyEffects(e,t),o={kind:n,effect:i,fn:Polymer.Bind["_"+n+"Effect"]};return r.push(o),o},createBindings:function(e){var t=e._propertyEffects;if(t)for(var n in t){var i=t[n];i.sort(this._sortPropertyEffects),this._createAccessors(e,n,i)}},_sortPropertyEffects:function(){var n={compute:0,annotation:1,annotatedComputation:2,reflect:3,notify:4,observer:5,complexObserver:6,function:7};return function(e,t){return n[e.kind]-n[t.kind]}}(),_createAccessors:function(e,t,n){var i={get:function(){return this.__data__[t]}},r=function(e){this._propertySetter(t,e,n)},o=e.getPropertyInfo&&e.getPropertyInfo(t);o&&o.readOnly?o.computed||(e["_set"+this.upper(t)]=r):i.set=r,Object.defineProperty(e,t,i)},upper:function(e){return e[0].toUpperCase()+e.substring(1)},_addAnnotatedListener:function(e,t,n,i,r,o){e._bindListeners||(e._bindListeners=[]);var s=this._notedListenerFactory(n,i,Polymer.Path.isDeep(i),o),a=r||Polymer.CaseMap.camelToDashCase(n)+"-changed";e._bindListeners.push({index:t,property:n,path:i,changedFn:s,event:a})},_isEventBogus:function(e,t){return e.path&&e.path[0]!==t},_notedListenerFactory:function(r,o,s,a){return function(e,t,n){if(n){var i=Polymer.Path.translate(r,o,n);this._notifyPath(i,t)}else t=e[r],a&&(t=!t),s?this.__data__[o]!=t&&this.set(o,t):this[o]=t}},prepareInstance:function(e){e.__data__=Object.create(null)},setupBindListeners:function(e){for(var t,n=e._bindListeners,i=0,r=n.length;i<r&&(t=n[i]);i++){var o=e._nodes[t.index];this._addNotifyListener(o,e,t.event,t.changedFn)}},_addNotifyListener:function(e,t,n,i){e.addEventListener(n,function(e){return t._notifyListener(i,e)})}},Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(e){return e.name&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode},_annotationEffect:function(e,t,n){e!=n.value&&(t=this._get(n.value),this.__data__[n.value]=t),this._applyEffectValue(n,t)},_reflectEffect:function(e,t,n){this.reflectPropertyToAttribute(e,n.attribute,t)},_notifyEffect:function(e,t,n,i,r){r||this._notifyChange(e,n.event,t)},_functionEffect:function(e,t,n,i,r){n.call(this,e,t,i,r)},_observerEffect:function(e,t,n,i){var r=this[n.method];r?r.call(this,t,i):this._warn(this._logf("_observerEffect","observer method `"+n.method+"` not defined"))},_complexObserverEffect:function(e,t,n){var i=this[n.method];if(i){var r=Polymer.Bind._marshalArgs(this.__data__,n,e,t);r&&i.apply(this,r)}else n.dynamicFn||this._warn(this._logf("_complexObserverEffect","observer method `"+n.method+"` not defined"))},_computeEffect:function(e,t,n){var i=this[n.method];if(i){var r=Polymer.Bind._marshalArgs(this.__data__,n,e,t);if(r){var o=i.apply(this,r);this.__setProperty(n.name,o)}}else n.dynamicFn||this._warn(this._logf("_computeEffect","compute method `"+n.method+"` not defined"))},_annotatedComputationEffect:function(e,t,n){var i=this._rootDataHost||this,r=i[n.method];if(r){var o=Polymer.Bind._marshalArgs(this.__data__,n,e,t);if(o){var s=r.apply(i,o);this._applyEffectValue(n,s)}}else n.dynamicFn||i._warn(i._logf("_annotatedComputationEffect","compute method `"+n.method+"` not defined"))},_marshalArgs:function(e,t,n,i){for(var r=[],o=t.args,s=1<o.length||t.dynamicFn,a=0,c=o.length;a<c;a++){var l,d=o[a],h=d.name;if(d.literal?l=d.value:n===h?l=i:void 0===(l=e[h])&&d.structured&&(l=Polymer.Base._get(h,e)),s&&void 0===l)return;if(d.wildcard){var u=Polymer.Path.isAncestor(n,h);r[a]={path:u?n:h,value:u?i:l,base:l}}else r[a]=l}return r}}),Polymer.Base._addFeature({_addPropertyEffect:function(e,t,n){var i=Polymer.Bind.addPropertyEffect(this,e,t,n);i.pathFn=this["_"+i.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this),this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(e){if(e)for(var t in e){var n=e[t];if(n.observer&&this._addObserverEffect(t,n.observer),n.computed&&(n.readOnly=!0,this._addComputedEffect(t,n.computed)),n.notify&&this._addPropertyEffect(t,"notify",{event:Polymer.CaseMap.camelToDashCase(t)+"-changed"}),n.reflectToAttribute){var i=Polymer.CaseMap.camelToDashCase(t);"-"===i[0]?this._warn(this._logf("_addPropertyEffects","Property "+t+" cannot be reflected to attribute "+i+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')):this._addPropertyEffect(t,"reflect",{attribute:i})}n.readOnly&&Polymer.Bind.ensurePropertyEffects(this,t)}},_addComputedEffect:function(e,t){for(var n,i=this._parseMethod(t),r=i.dynamicFn,o=0;o<i.args.length&&(n=i.args[o]);o++)this._addPropertyEffect(n.model,"compute",{method:i.method,args:i.args,trigger:n,name:e,dynamicFn:r});r&&this._addPropertyEffect(i.method,"compute",{method:i.method,args:i.args,trigger:null,name:e,dynamicFn:r})},_addObserverEffect:function(e,t){this._addPropertyEffect(e,"observer",{method:t,property:e})},_addComplexObserverEffects:function(e){if(e)for(var t,n=0;n<e.length&&(t=e[n]);n++)this._addComplexObserverEffect(t)},_addComplexObserverEffect:function(e){var t=this._parseMethod(e);if(!t)throw new Error("Malformed observer expression '"+e+"'");for(var n,i=t.dynamicFn,r=0;r<t.args.length&&(n=t.args[r]);r++)this._addPropertyEffect(n.model,"complexObserver",{method:t.method,args:t.args,trigger:n,dynamicFn:i});i&&this._addPropertyEffect(t.method,"complexObserver",{method:t.method,args:t.args,trigger:null,dynamicFn:i})},_addAnnotationEffects:function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++)for(var i,r=t.bindings,o=0;o<r.length&&(i=r[o]);o++)this._addAnnotationEffect(i,n)},_addAnnotationEffect:function(e,t){Polymer.Bind._shouldAddListener(e)&&Polymer.Bind._addAnnotatedListener(this,t,e.name,e.parts[0].value,e.parts[0].event,e.parts[0].negate);for(var n=0;n<e.parts.length;n++){var i=e.parts[n];i.signature?this._addAnnotatedComputationEffect(e,i,t):i.literal||("attribute"===e.kind&&"-"===e.name[0]?this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+e.name+' because "-" is not a valid attribute starting character')):this._addPropertyEffect(i.model,"annotation",{kind:e.kind,index:t,name:e.name,propertyName:e.propertyName,value:i.value,isCompound:e.isCompound,compoundIndex:i.compoundIndex,event:i.event,customEvent:i.customEvent,negate:i.negate}))}},_addAnnotatedComputationEffect:function(e,t,n){var i=t.signature;if(i.static)this.__addAnnotatedComputationEffect("__static__",n,e,t,null);else{for(var r,o=0;o<i.args.length&&(r=i.args[o]);o++)r.literal||this.__addAnnotatedComputationEffect(r.model,n,e,t,r);i.dynamicFn&&this.__addAnnotatedComputationEffect(i.method,n,e,t,null)}},__addAnnotatedComputationEffect:function(e,t,n,i,r){this._addPropertyEffect(e,"annotatedComputation",{index:t,isCompound:n.isCompound,compoundIndex:i.compoundIndex,kind:n.kind,name:n.name,negate:i.negate,method:i.signature.method,args:i.signature.args,trigger:r,dynamicFn:i.signature.dynamicFn})},_parseMethod:function(e){var t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){var n={method:t[1],static:!0};if(this.getPropertyInfo(n.method)!==Polymer.nob&&(n.static=!1,n.dynamicFn=!0),t[2].trim()){var i=t[2].replace(/\\,/g,"&comma;").split(",");return this._parseArgs(i,n)}return n.args=Polymer.nar,n}},_parseArgs:function(e,n){return n.args=e.map(function(e){var t=this._parseArg(e);return t.literal||(n.static=!1),t},this),n},_parseArg:function(e){var t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:t},i=t[0];switch("-"===i&&(i=t[1]),"0"<=i&&i<="9"&&(i="#"),i){case"'":case'"':n.value=t.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(t),n.literal=!0}return n.literal||(n.model=Polymer.Path.root(t),n.structured=Polymer.Path.isDeep(t),n.structured&&(n.wildcard=".*"==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this),this._bindListeners&&Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(e,t){var n=this._nodes[e.index],i=e.name;if(t=this._computeFinalAnnotationValue(n,i,t,e),"attribute"==e.kind)this.serializeValueToAttribute(t,i,n);else{var r=n._propertyInfo&&n._propertyInfo[i];if(r&&r.readOnly)return;this.__setProperty(i,t,Polymer.Settings.suppressBindingNotifications,n)}},_computeFinalAnnotationValue:function(e,t,n,i){if(i.negate&&(n=!n),i.isCompound){var r=e.__compoundStorage__[t];r[i.compoundIndex]=n,n=r.join("")}return"attribute"!==i.kind&&("className"===t&&(n=this._scopeElementClass(e,n)),("textContent"===t||"input"==e.localName&&"value"==t)&&(n=null==n?"":n)),n},_executeStaticEffects:function(){this._propertyEffects&&this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}}),function(){var t=Polymer.Settings.usePolyfillProto,n=Boolean(Object.getOwnPropertyDescriptor(document.documentElement,"properties"));Polymer.Base._addFeature({_setupConfigure:function(e){if(this._config={},this._handlers=[],this._aboveConfig=null,e)for(var t in e)void 0!==e[t]&&(this._config[t]=e[t])},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(e){var t=this._clientsReadied?this:this._config;this._setAttributeToProperty(t,e)},_configValue:function(e,t){var n=this._propertyInfo[e];n&&n.readOnly||(this._config[e]=t)},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences(),this._configureInstanceProperties(),this._aboveConfig=this.mixin({},this._config);for(var e={},t=0;t<this.behaviors.length;t++)this._configureProperties(this.behaviors[t].properties,e);this._configureProperties(n?this.__proto__.properties:this.properties,e),this.mixin(e,this._aboveConfig),this._config=e,this._clients&&this._clients.length&&this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var e in this._propertyEffects)!t&&this.hasOwnProperty(e)&&(this._configValue(e,this[e]),delete this[e])},_configureProperties:function(e,t){for(var n in e){var i=e[n];if(void 0!==i.value){var r=i.value;"function"==typeof r&&(r=r.call(this,this._config)),t[n]=r}}},_distributeConfig:function(e){var t=this._propertyEffects;if(t)for(var n in e){var i=t[n];if(i)for(var r,o=0,s=i.length;o<s&&(r=i[o]);o++)if("annotation"===r.kind){var a=this._nodes[r.effect.index],c=r.effect.propertyName,l="attribute"==r.effect.kind,d=a._propertyEffects&&a._propertyEffects[c];if(a._configValue&&(d||!l)){var h=n===r.effect.value?e[n]:this._get(r.effect.value,e);h=this._computeFinalAnnotationValue(a,c,h,r.effect),l&&(h=a.deserialize(this.serialize(h),a._propertyInfo[c].type)),a._configValue(c,h)}}}},_afterClientsReady:function(){this.importPath=this._importPath,this.rootPath=Polymer.rootPath,this._executeStaticEffects(),this._applyConfig(this._config,this._aboveConfig),this._flushHandlers()},_applyConfig:function(e,t){for(var n in e)void 0===this[n]&&this.__setProperty(n,e[n],n in t)},_notifyListener:function(e,t){if(!Polymer.Bind._isEventBogus(t,t.target)){var n,i;if(t.detail&&(n=t.detail.value,i=t.detail.path),this._clientsReadied)return e.call(this,t.target,n,i);this._queueHandler([e,t.target,n,i])}},_queueHandler:function(e){this._handlers.push(e)},_flushHandlers:function(){for(var e,t=this._handlers,n=0,i=t.length;n<i&&(e=t[n]);n++)e[0].call(this,e[1],e[2],e[3]);this._handlers=[]}})}(),function(){"use strict";var a=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(e,t,n){var i={},r=this._get(e,this,i);1===arguments.length&&(t=r),i.path&&this._notifyPath(i.path,t,n)},_notifyPath:function(e,t,n){var i=this._propertySetter(e,t);if(i!==t&&(i==i||t==t))return this._pathEffector(e,t),n||this._notifyPathUp(e,t),!0},_getPathParts:function(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)for(var i=e[n].toString().split("."),r=0;r<i.length;r++)t.push(i[r]);return t}return e.toString().split(".")},set:function(e,t,n){var i,r=n||this,o=this._getPathParts(e),s=o[o.length-1];if(1<o.length){for(var a=0;a<o.length-1;a++){var c=o[a];if(i&&"#"==c[0]?r=Polymer.Collection.get(i).getItem(c):(r=r[c],i&&parseInt(c,10)==c&&(o[a]=Polymer.Collection.get(i).getKey(r))),!r)return;i=Array.isArray(r)?r:null}if(i){var l,d,h=Polymer.Collection.get(i);"#"==s[0]?(d=s,l=h.getItem(d),s=i.indexOf(l),h.setItem(d,t)):parseInt(s,10)==s&&(l=r[s],d=h.getKey(l),o[a]=d,h.setItem(d,t))}r[s]=t,n||this._notifyPath(o.join("."),t)}else r[e]=t},get:function(e,t){return this._get(e,t)},_get:function(e,t,n){for(var i,r=t||this,o=this._getPathParts(e),s=0;s<o.length;s++){if(!r)return;var a=o[s];i&&"#"==a[0]?r=Polymer.Collection.get(i).getItem(a):(r=r[a],n&&i&&parseInt(a,10)==a&&(o[s]=Polymer.Collection.get(i).getKey(r))),i=Array.isArray(r)?r:null}return n&&(n.path=o.join(".")),r},_pathEffector:function(e,t){var n=a.root(e),i=this._propertyEffects&&this._propertyEffects[n];if(i)for(var r,o=0;o<i.length&&(r=i[o]);o++){var s=r.pathFn;s&&s.call(this,e,t,r.effect)}this._boundPaths&&this._notifyBoundPaths(e,t)},_annotationPathEffect:function(e,t,n){if(a.matches(n.value,!1,e))Polymer.Bind._annotationEffect.call(this,e,t,n);else if(!n.negate&&a.isDescendant(n.value,e)){var i=this._nodes[n.index];if(i&&i._notifyPath){var r=a.translate(n.value,n.name,e);i._notifyPath(r,t,!0)}}},_complexObserverPathEffect:function(e,t,n){a.matches(n.trigger.name,n.trigger.wildcard,e)&&Polymer.Bind._complexObserverEffect.call(this,e,t,n)},_computePathEffect:function(e,t,n){a.matches(n.trigger.name,n.trigger.wildcard,e)&&Polymer.Bind._computeEffect.call(this,e,t,n)},_annotatedComputationPathEffect:function(e,t,n){a.matches(n.trigger.name,n.trigger.wildcard,e)&&Polymer.Bind._annotatedComputationEffect.call(this,e,t,n)},linkPaths:function(e,t){this._boundPaths=this._boundPaths||{},t?this._boundPaths[e]=t:this.unlinkPaths(e)},unlinkPaths:function(e){this._boundPaths&&delete this._boundPaths[e]},_notifyBoundPaths:function(e,t){for(var n in this._boundPaths){var i=this._boundPaths[n];a.isDescendant(n,e)?this._notifyPath(a.translate(n,i,e),t):a.isDescendant(i,e)&&this._notifyPath(a.translate(i,n,e),t)}},_notifyPathUp:function(e,t){var n=a.root(e),i=Polymer.CaseMap.camelToDashCase(n)+this._EVENT_CHANGED;this.fire(i,{path:e,value:t},{bubbles:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(e,t){var n={},i=this._get(e,this,n);this._notifySplices(i,n.path,t)},_notifySplices:function(e,t,n){var i={keySplices:Polymer.Collection.applySplices(e,n),indexSplices:n},r=t+".splices";this._notifyPath(r,i),this._notifyPath(t+".length",e.length),this.__data__[r]={keySplices:null,indexSplices:null}},_notifySplice:function(e,t,n,i,r){this._notifySplices(e,t,[{index:n,addedCount:i,removed:r,object:e,type:"splice"}])},push:function(e){var t={},n=this._get(e,this,t),i=Array.prototype.slice.call(arguments,1),r=n.length,o=n.push.apply(n,i);return i.length&&this._notifySplice(n,t.path,r,i.length,[]),o},pop:function(e){var t={},n=this._get(e,this,t),i=Boolean(n.length),r=Array.prototype.slice.call(arguments,1),o=n.pop.apply(n,r);return i&&this._notifySplice(n,t.path,n.length,0,[o]),o},splice:function(e,t){var n={},i=this._get(e,this,n);(t=t<0?i.length-Math.floor(-t):Math.floor(t))||(t=0);var r=Array.prototype.slice.call(arguments,1),o=i.splice.apply(i,r),s=Math.max(r.length-2,0);return(s||o.length)&&this._notifySplice(i,n.path,t,s,o),o},shift:function(e){var t={},n=this._get(e,this,t),i=Boolean(n.length),r=Array.prototype.slice.call(arguments,1),o=n.shift.apply(n,r);return i&&this._notifySplice(n,t.path,0,0,[o]),o},unshift:function(e){var t={},n=this._get(e,this,t),i=Array.prototype.slice.call(arguments,1),r=n.unshift.apply(n,i);return i.length&&this._notifySplice(n,t.path,0,i.length,[]),r},prepareModelNotifyPath:function(e){this.mixin(e,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,_getPathParts:Polymer.Base._getPathParts})}})}(),Polymer.Base._addFeature({resolveUrl:function(e){return Polymer.ResolveUrl.resolveUrl(e,this._importPath)}}),Polymer.CssParse={parse:function(e){return e=this._clean(e),this._parseCss(this._lex(e),e)},_clean:function(e){return e.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(e){for(var t={start:0,end:e.length},n=t,i=0,r=e.length;i<r;i++)switch(e[i]){case this.OPEN_BRACE:n.rules||(n.rules=[]);var o=n;n={start:i+1,parent:o,previous:o.rules[o.rules.length-1]},o.rules.push(n);break;case this.CLOSE_BRACE:n.end=i+1,n=n.parent||t}return t},_parseCss:function(e,t){var n=t.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=n.trim(),e.parent){var i=e.previous?e.previous.end:e.parent.start;n=t.substring(i,e.start-1),n=(n=(n=this._expandUnicodeEscapes(n)).replace(this._rx.multipleSpaces," ")).substring(n.lastIndexOf(";")+1);var r=e.parsedSelector=e.selector=n.trim();e.atRule=0===r.indexOf(this.AT_START),e.atRule?0===r.indexOf(this.MEDIA_START)?e.type=this.types.MEDIA_RULE:r.match(this._rx.keyframesRule)&&(e.type=this.types.KEYFRAMES_RULE,e.keyframesName=e.selector.split(this._rx.multipleSpaces).pop()):0===r.indexOf(this.VAR_START)?e.type=this.types.MIXIN_RULE:e.type=this.types.STYLE_RULE}var o=e.rules;if(o)for(var s,a=0,c=o.length;a<c&&(s=o[a]);a++)this._parseCss(s,t);return e},_expandUnicodeEscapes:function(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,function(){for(var e=arguments[1],t=6-e.length;t--;)e="0"+e;return"\\"+e})},stringify:function(e,t,n){n=n||"";var i="";if(e.cssText||e.rules){var r=e.rules;if(r&&!this._hasMixinRules(r))for(var o,s=0,a=r.length;s<a&&(o=r[s]);s++)i=this.stringify(o,t,i);else(i=(i=t?e.cssText:this.removeCustomProps(e.cssText)).trim())&&(i="  "+i+"\n")}return i&&(e.selector&&(n+=e.selector+" "+this.OPEN_BRACE+"\n"),n+=i,e.selector&&(n+=this.CLOSE_BRACE+"\n\n")),n},_hasMixinRules:function(e){return 0===e[0].selector.indexOf(this.VAR_START)},removeCustomProps:function(e){return e=this.removeCustomPropAssignment(e),this.removeCustomPropApply(e)},removeCustomPropAssignment:function(e){return e.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(e){return e.replace(this._rx.mixinApply,"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},VAR_START:"--",MEDIA_START:"@media",AT_START:"@"},Polymer.StyleUtil=function(){var d=Polymer.Settings;return{unscopedStyleImports:new WeakMap,SHADY_UNSCOPED_ATTR:"shady-unscoped",NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel=import][type~=css], template",INCLUDE_ATTR:"include",toCssText:function(e,t){return"string"==typeof e&&(e=this.parser.parse(e)),t&&this.forEachRule(e,t),this.parser.stringify(e,this.NATIVE_VARIABLES)},forRulesInStyles:function(e,t,n){if(e)for(var i,r=0,o=e.length;r<o&&(i=e[r]);r++)this.forEachRuleInStyle(i,t,n)},forActiveRulesInStyles:function(e,t,n){if(e)for(var i,r=0,o=e.length;r<o&&(i=e[r]);r++)this.forEachRuleInStyle(i,t,n,!0)},rulesForStyle:function(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=this.parser.parse(e.textContent)),e.__cssRules},isKeyframesSelector:function(e){return e.parent&&e.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(t,n,i,e){var r,o,s=this.rulesForStyle(t);n&&(r=function(e){n(e,t)}),i&&(o=function(e){i(e,t)}),this.forEachRule(s,r,o,e)},forEachRule:function(e,t,n,i){if(e){var r=!1;if(i&&e.type===this.ruleTypes.MEDIA_RULE){var o=e.selector.match(this.rx.MEDIA_MATCH);o&&(window.matchMedia(o[1]).matches||(r=!0))}e.type===this.ruleTypes.STYLE_RULE?t(e):n&&e.type===this.ruleTypes.KEYFRAMES_RULE?n(e):e.type===this.ruleTypes.MIXIN_RULE&&(r=!0);var s=e.rules;if(s&&!r)for(var a,c=0,l=s.length;c<l&&(a=s[c]);c++)this.forEachRule(a,t,n,i)}},applyCss:function(e,t,n,i){var r=this.createScopeStyle(e,t);return this.applyStyle(r,n,i)},applyStyle:function(e,t,n){t=t||document.head;var i=n&&n.nextSibling||t.firstChild;return this.__lastHeadApplyNode=e,t.insertBefore(e,i)},createScopeStyle:function(e,t){var n=document.createElement("style");return t&&n.setAttribute("scope",t),n.textContent=e,n},__lastHeadApplyNode:null,applyStylePlaceHolder:function(e){var t=document.createComment(" Shady DOM styles for "+e+" "),n=this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null,i=document.head;return i.insertBefore(t,n||i.firstChild),this.__lastHeadApplyNode=t},cssFromModules:function(e,t){for(var n=e.trim().split(/\s+/),i="",r=0;r<n.length;r++)i+=this.cssFromModule(n[r],t);return i},cssFromModule:function(e,t){var n=Polymer.DomModule.import(e);return n&&!n._cssText&&(n._cssText=this.cssFromElement(n)),!n&&t&&console.warn("Could not find style data in module named",e),n&&n._cssText||""},cssFromElement:function(e){for(var t,n="",i=e.content||e,r=Polymer.TreeApi.arrayCopy(i.querySelectorAll(this.MODULE_STYLES_SELECTOR)),o=0;o<r.length;o++)if("template"===(t=r[o]).localName)t.hasAttribute("preserve-content")||(n+=this.cssFromElement(t));else if("style"===t.localName){var s=t.getAttribute(this.INCLUDE_ATTR);s&&(n+=this.cssFromModules(s,!0)),(t=t.__appliedElement||t).parentNode.removeChild(t);var a=this.resolveCss(t.textContent,e.ownerDocument);!d.useNativeShadow&&t.hasAttribute(this.SHADY_UNSCOPED_ATTR)?(t.textContent=a,document.head.insertBefore(t,document.head.firstChild)):n+=a}else if(t.import&&t.import.body){var c=this.resolveCss(t.import.body.textContent,t.import);if(!d.useNativeShadow&&t.hasAttribute(this.SHADY_UNSCOPED_ATTR)){if(!this.unscopedStyleImports.has(t.import)){this.unscopedStyleImports.set(t.import,!0);var l=document.createElement("style");l.setAttribute(this.SHADY_UNSCOPED_ATTR,""),l.textContent=c,document.head.insertBefore(l,document.head.firstChild)}}else n+=c}return n},styleIncludesToTemplate:function(e){for(var t,n=e.content.querySelectorAll("style[include]"),i=0;i<n.length;i++)(t=n[i]).parentNode.insertBefore(this._includesToFragment(t.getAttribute("include")),t)},_includesToFragment:function(e){for(var t=e.trim().split(" "),n=document.createDocumentFragment(),i=0;i<t.length;i++){var r=Polymer.DomModule.import(t[i],"template");r&&this._addStylesToFragment(n,r.content)}return n},_addStylesToFragment:function(e,t){for(var n,i=t.querySelectorAll("style"),r=0;r<i.length;r++){var o=(n=i[r]).getAttribute("include");o&&e.appendChild(this._includesToFragment(o)),n.textContent&&e.appendChild(n.cloneNode(!0))}},isTargetedBuild:function(e){return d.useNativeShadow?"shadow"===e:"shady"===e},cssBuildTypeForModule:function(e){var t=Polymer.DomModule.import(e);if(t)return this.getCssBuildType(t)},getCssBuildType:function(e){return e.getAttribute("css-build")},_findMatchingParen:function(e,t){for(var n=0,i=t,r=e.length;i<r;i++)switch(e[i]){case"(":n++;break;case")":if(0==--n)return i}return-1},processVariableAndFallback:function(e,t){var n=e.indexOf("var(");if(-1===n)return t(e,"","","");var i=this._findMatchingParen(e,n+3),r=e.substring(n+4,i),o=e.substring(0,n),s=this.processVariableAndFallback(e.substring(i+1),t),a=r.indexOf(",");return-1===a?t(o,r.trim(),"",s):t(o,r.substring(0,a).trim(),r.substring(a+1).trim(),s)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}(),Polymer.StyleTransformer=function(){var u=Polymer.StyleUtil,p=Polymer.Settings,e={dom:function(e,t,n,i){this._transformDom(e,t||"",n,i)},_transformDom:function(e,t,n,i){e.setAttribute&&this.element(e,t,n,i);for(var r=Polymer.dom(e).childNodes,o=0;o<r.length;o++)this._transformDom(r[o],t,n,i)},element:function(e,t,n,i){if(n)i?e.removeAttribute(o):e.setAttribute(o,t);else if(t)if(e.classList)i?(e.classList.remove(o),e.classList.remove(t)):(e.classList.add(o),e.classList.add(t));else if(e.getAttribute){var r=e.getAttribute(g);i?r&&e.setAttribute(g,r.replace(o,"").replace(t,"")):e.setAttribute(g,(r?r+" ":"")+o+" "+t)}},elementStyles:function(e,t){var n,i=e._styles,r="",o=e.__cssBuild,s=p.useNativeShadow||"shady"===o;if(s){var a=this;n=function(e){e.selector=a._slottedToContent(e.selector),e.selector=e.selector.replace(f,":host > *"),e.selector=a._dirShadowTransform(e.selector),t&&t(e)}}for(var c,l=0,d=i.length;l<d&&(c=i[l]);l++){var h=u.rulesForStyle(c);r+=s?u.toCssText(h,n):this.css(h,e.is,e.extends,t,e._scopeCssViaAttr)+"\n\n"}return r.trim()},css:function(e,t,n,i,r){var o=this._calcHostScope(t,n);t=this._calcElementScope(t,r);var s=this;return u.toCssText(e,function(e){e.isScoped||(s.rule(e,t,o),e.isScoped=!0),i&&i(e,t,o)})},_calcElementScope:function(e,t){return e?t?v+e+_:a+e:""},_calcHostScope:function(e,t){return t?"[is="+e+"]":e},rule:function(e,t,n){this._transformRule(e,this._transformComplexSelector,t,n)},_transformRule:function(e,t,n,i){e.selector=e.transformedSelector=this._transformRuleCss(e,t,n,i)},_splitSelectorList:function(e){for(var t=[],n="",i=0;0<=i&&i<e.length;i++)if("("===e[i]){var r=u._findMatchingParen(e,i);n+=e.slice(i,r+1),i=r}else e[i]===d?(t.push(n),n=""):n+=e[i];return n&&t.push(n),0===t.length&&t.push(e),t},_transformRuleCss:function(e,t,n,i){var r=this._splitSelectorList(e.selector);if(!u.isKeyframesSelector(e))for(var o,s=0,a=r.length;s<a&&(o=r[s]);s++)r[s]=t.call(this,o,n,i);return r.join(d)},_ensureScopedDir:function(e){var t=e.match(E);return t&&""===t[1]&&t[0].length===e.length&&(e="*"+e),e},_additionalDirSelectors:function(e,t,n){return e&&t?d+(n=n||"")+" "+e+" "+t:""},_transformComplexSelector:function(e,r,o){var s=!1,a=!1,c=!1,l=this;return e=e.trim(),e=(e=(e=this._slottedToContent(e)).replace(f,":host > *")).replace(b,h+" $1"),e=(e=this._ensureScopedDir(e)).replace(n,function(e,t,n){if(s)n=n.replace(m," ");else{var i=l._transformCompoundSelector(n,t,r,o);s=s||i.stop,a=a||i.hostContext,c=c||i.dir,t=i.combinator,n=i.value}return t+n}),a&&(e=e.replace(i,function(e,t,n,i){var r=t+n+" "+o+i+d+" "+t+o+n+i;return c&&(r+=l._additionalDirSelectors(n,i,o)),r})),e},_transformDir:function(e){return e=(e=e.replace(w,R)).replace(E,T)},_transformCompoundSelector:function(e,t,n,i){var r,o=e.search(m),s=!1,a=!1;return e.match(E)&&(e=this._transformDir(e),a=!0),0<=e.indexOf(c)?s=!0:0<=e.indexOf(h)?e=this._transformHostSelector(e,i):0!==o&&(e=n?this._transformSimpleSelector(e,n):e),0<=e.indexOf(l)&&(t=""),0<=o&&(e=e.replace(m," "),r=!0),{value:e,combinator:t,stop:r,hostContext:s,dir:a}},_transformSimpleSelector:function(e,t){var n=e.split(y);return n[0]+=t,n.join(y)},_transformHostSelector:function(e,i){var t=e.match(s),n=t&&t[2].trim()||"";return n?n[0].match(r)?e.replace(s,function(e,t,n){return i+n}):n.split(r)[0]===i?n:C:e.replace(h,i)},documentRule:function(e){e.selector=e.parsedSelector,this.normalizeRootSelector(e),p.useNativeShadow||this._transformRule(e,this._transformDocumentSelector)},normalizeRootSelector:function(e){e.selector=e.selector.replace(f,"html");var t=this._splitSelectorList(e.selector);t=t.filter(function(e){return!e.match(P)}),e.selector=t.join(d)},_transformDocumentSelector:function(e){return this._transformComplexSelector(e,t)},_slottedToContent:function(e){return e.replace(S,l+"> $1")},_dirShadowTransform:function(e){return e.match(/:dir\(/)?this._splitSelectorList(e).map(function(e){e=this._ensureScopedDir(e),e=this._transformDir(e);var t=i.exec(e);return t&&(e+=this._additionalDirSelectors(t[2],t[3],"")),e},this).join(d):e},SCOPE_NAME:"style-scope"},o=e.SCOPE_NAME,t=":not(["+o+"]):not(."+o+")",d=",",n=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,r=/[[.:#*]/,h=":host",f=":root",s=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,c=":host-context",i=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,l="::content",m=/::content|::shadow|\/deep\//,a=".",v="["+o+"~=",_="]",y=":",g="class",b=new RegExp("^("+l+")"),C="should_not_match",S=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g,P=/:host(?:\s*>\s*\*)?/,E=/(.*):dir\((ltr|rtl)\)/,T=':host-context([dir="$2"]) $1',w=/:host\(:dir\((rtl|ltr)\)\)/g,R=':host-context([dir="$1"])';return e}(),Polymer.StyleExtends=function(){var n=Polymer.StyleUtil;return{hasExtends:function(e){return Boolean(e.match(this.rx.EXTEND))},transform:function(e){var t=n.rulesForStyle(e),r=this;return n.forEachRule(t,function(e){if(r._mapRuleOntoParent(e),e.parent)for(var t;t=r.rx.EXTEND.exec(e.cssText);){var n=t[1],i=r._findExtendor(n,e);i&&r._extendRule(e,i)}e.cssText=e.cssText.replace(r.rx.EXTEND,"")}),n.toCssText(t,function(e){e.selector.match(r.rx.STRIP)&&(e.cssText="")},!0)},_mapRuleOntoParent:function(e){if(e.parent){for(var t=e.parent.map||(e.parent.map={}),n=e.selector.split(","),i=0;i<n.length;i++)t[n[i].trim()]=e;return t}},_findExtendor:function(e,t){return t.parent&&t.parent.map&&t.parent.map[e]||this._findExtendor(e,t.parent)},_extendRule:function(t,e){t.parent!==e.parent&&this._cloneAndAddRuleToParent(e,t.parent),t.extends=t.extends||[],t.extends.push(e),e.selector=e.selector.replace(this.rx.STRIP,""),e.selector=(e.selector&&e.selector+",\n")+t.selector,e.extends&&e.extends.forEach(function(e){this._extendRule(t,e)},this)},_cloneAndAddRuleToParent:function(e,t){(e=Object.create(e)).parent=t,e.extends&&(e.extends=e.extends.slice()),t.rules.push(e)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}(),Polymer.ApplyShim=function(){"use strict";var f=Polymer.StyleUtil,d=f.rx.MIXIN_MATCH,n=f.rx.VAR_ASSIGN,i=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g,c=/;\s*/m,h=/^\s*(initial)|(inherit)\s*$/,m="_-_",r={};function v(e,t){e=e.trim(),r[e]={properties:t,dependants:{}}}function _(e){return e=e.trim(),r[e]}function y(e){for(var t,n,i,r,o,s,a,c=e.split(";"),l={},d=0;d<c.length;d++)(i=c[d])&&1<(r=i.split(":")).length&&(t=r[0].trim(),o=t,s=r.slice(1).join(":"),void 0,(a=h.exec(s))&&(s=a[1]?b._getInitialValueForProperty(o):"apply-shim-inherit"),n=s,l[t]=n);return l}function o(e,t,n,i){if(n&&f.processVariableAndFallback(n,function(e,t){t&&_(t)&&(i="@apply "+t+";")}),!i)return e;var r=g(i),o=e.slice(0,e.indexOf("--")),s=y(r),a=s,c=_(t),l=c&&c.properties;l?(a=Object.create(l),a=Polymer.Base.mixin(a,s)):v(t,a);var d,h,u=[],p=!1;for(d in a)void 0===(h=s[d])&&(h="initial"),!l||d in l||(p=!0),u.push(t+m+d+": "+h);return p&&function(e){var t=b.__currentElementProto,n=t&&t.is;for(var i in e.dependants)i!==n&&(e.dependants[i].__applyShimInvalid=!0)}(c),c&&(c.properties=a),n&&(o=e+";"+o),o+u.join("; ")+";"}function s(e,t,n){return"var("+t+",var("+n+"))"}function u(e,t){var n=[],i=_(e=e.replace(c,""));if(i||(v(e,{}),i=_(e)),i){var r,o,s,a=b.__currentElementProto;for(r in a&&(i.dependants[a.is]=a),i.properties)s=t&&t[r],o=[r,": var(",e,m,r],s&&o.push(",",s),o.push(")"),n.push(o.join(""))}return n.join("; ")}function g(e){for(var t;t=d.exec(e);){var n=t[0],i=t[1],r=t.index,o=r+n.indexOf("@apply"),s=r+n.length,a=e.slice(0,o),c=e.slice(s),l=u(i,y(a));e=[a,l,c].join(""),d.lastIndex=r+l.length}return e}var b={_measureElement:null,_map:r,_separator:m,transform:function(e,t){this.__currentElementProto=t,f.forRulesInStyles(e,this._boundFindDefinitions),f.forRulesInStyles(e,this._boundFindApplications),t&&(t.__applyShimInvalid=!1),this.__currentElementProto=null},_findDefinitions:function(e){var t=e.parsedCssText;t=(t=t.replace(i,s)).replace(n,o),e.cssText=t,":root"===e.selector&&(e.selector=":host > *")},_findApplications:function(e){e.cssText=g(e.cssText)},transformRule:function(e){this._findDefinitions(e),this._findApplications(e)},_getInitialValueForProperty:function(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}};return b._boundTransformRule=b.transformRule.bind(b),b._boundFindDefinitions=b._findDefinitions.bind(b),b._boundFindApplications=b._findApplications.bind(b),b}(),function(){var t=Polymer.Base._prepElement,i=Polymer.Settings.useNativeShadow,c=Polymer.StyleUtil,n=Polymer.StyleTransformer,l=Polymer.StyleExtends,r=Polymer.ApplyShim,o=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(e){this._encapsulateStyle&&"shady"!==this.__cssBuild&&n.element(e,this.is,this._scopeCssViaAttr),t.call(this,e)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!i),i||(this._scopeStyle=c.applyStylePlaceHolder(this.is)),this.__cssBuild=c.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var e=c.isTargetedBuild(this.__cssBuild);if(o.useNativeCSSProperties&&"shadow"===this.__cssBuild&&e)return void(o.preserveStyleIncludes&&c.styleIncludesToTemplate(this._template));this._styles=this._styles||this._collectStyles(),o.useNativeCSSProperties&&!this.__cssBuild&&r.transform(this._styles,this);var t=o.useNativeCSSProperties&&e?this._styles.length&&this._styles[0].textContent.trim():n.elementStyles(this);this._prepStyleProperties(),!this._needsStyleProperties()&&t&&c.applyCss(t,this.is,i?this._template.content:null,this._scopeStyle)}else this._styles=[]},_collectStyles:function(){var e=[],t="",n=this.styleModules;if(n)for(var i,r=0,o=n.length;r<o&&(i=n[r]);r++)t+=c.cssFromModule(i);t+=c.cssFromModule(this.is);var s=this._template&&this._template.parentNode;if(!this._template||s&&s.id.toLowerCase()===this.is||(t+=c.cssFromElement(this._template)),t){var a=document.createElement("style");a.textContent=t,l.hasExtends(a.textContent)&&(t=l.transform(a)),e.push(a)}return e},_elementAdd:function(e){this._encapsulateStyle&&(e.__styleScoped?e.__styleScoped=!1:n.dom(e,this.is,this._scopeCssViaAttr))},_elementRemove:function(e){this._encapsulateStyle&&n.dom(e,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(e,t){if(!i){var o=this,r=function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e.getAttribute("class");e.setAttribute("class",o._scopeElementClass(e,t));for(var n,i=e.querySelectorAll("*"),r=0;r<i.length&&(n=i[r]);r++)t=n.getAttribute("class"),n.setAttribute("class",o._scopeElementClass(n,t))}};if(r(e),t){var n=new MutationObserver(function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++)if(t.addedNodes)for(var i=0;i<t.addedNodes.length;i++)r(t.addedNodes[i])});return n.observe(e,{childList:!0,subtree:!0}),n}}}})}(),Polymer.StyleProperties=function(){"use strict";var d=Polymer.DomApi.matchesSelector,h=Polymer.StyleUtil,p=Polymer.StyleTransformer,s=navigator.userAgent.match("Trident"),l=Polymer.Settings;return{decorateStyles:function(e,i){var t=this,r={},n=[],o=0,s=p._calcHostScope(i.is,i.extends);h.forRulesInStyles(e,function(n,e){t.decorateRule(n),n.index=o++,t.whenHostOrRootRule(i,n,e,function(e){if(n.parent.type===h.ruleTypes.MEDIA_RULE&&(i.__notStyleScopeCacheable=!0),e.isHost){var t=e.selector.split(" ").some(function(e){return 0===e.indexOf(s)&&e.length!==s.length});i.__notStyleScopeCacheable=i.__notStyleScopeCacheable||t}}),t.collectPropertiesInCssText(n.propertyInfo.cssText,r)},function(e){n.push(e)}),e._keyframes=n;var a=[];for(var c in r)a.push(c);return a},decorateRule:function(e){if(e.propertyInfo)return e.propertyInfo;var t={},n={};return this.collectProperties(e,n)&&(t.properties=n,e.rules=null),t.cssText=this.collectCssText(e),e.propertyInfo=t},collectProperties:function(e,t){var n=e.propertyInfo;if(!n){for(var i,r,o,s=this.rx.VAR_ASSIGN,a=e.parsedCssText;i=s.exec(a);)"inherit"!==(r=(i[2]||i[3]).trim())&&(t[i[1].trim()]=r),o=!0;return o}if(n.properties)return Polymer.Base.mixin(t,n.properties),!0},collectCssText:function(e){return this.collectConsumingCssText(e.parsedCssText)},collectConsumingCssText:function(e){return e.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(e,t){for(var n;n=this.rx.VAR_CONSUMED.exec(e);){var i=n[1];":"!==n[2]&&(t[i]=!0)}},reify:function(e){for(var t,n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++)e[t=n[i]]=this.valueForProperty(e[t],e)},valueForProperty:function(e,o){if(e)if(0<=e.indexOf(";"))e=this.valueForProperties(e,o);else{var s=this;e=h.processVariableAndFallback(e,function(e,t,n,i){var r=s.valueForProperty(o[t],o);return r&&"initial"!==r?"apply-shim-inherit"===r&&(r="inherit"):r=s.valueForProperty(o[n]||n,o)||n,e+(r||"")+i})}return e&&e.trim()||""},valueForProperties:function(e,t){for(var n,i,r=e.split(";"),o=0;o<r.length;o++)if(n=r[o]){if(this.rx.MIXIN_MATCH.lastIndex=0,i=this.rx.MIXIN_MATCH.exec(n))n=this.valueForProperty(t[i[1]],t);else{var s=n.indexOf(":");if(-1!==s){var a=n.substring(s);a=a.trim(),a=this.valueForProperty(a,t)||a,n=n.substring(0,s)+a}}r[o]=n&&n.lastIndexOf(";")===n.length-1?n.slice(0,-1):n||""}return r.join(";")},applyProperties:function(e,t){var n="";e.propertyInfo||this.decorateRule(e),e.propertyInfo.cssText&&(n=this.valueForProperties(e.propertyInfo.cssText,t)),e.cssText=n},applyKeyframeTransforms:function(e,t){var n=e.cssText,i=e.cssText;if(null==e.hasAnimations&&(e.hasAnimations=this.rx.ANIMATION_MATCH.test(n)),e.hasAnimations)if(null==e.keyframeNamesToTransform)for(var r in e.keyframeNamesToTransform=[],t)n!==(i=(0,t[r])(n))&&(n=i,e.keyframeNamesToTransform.push(r));else{for(var o=0;o<e.keyframeNamesToTransform.length;++o)n=(0,t[e.keyframeNamesToTransform[o]])(n);i=n}e.cssText=i},propertyDataFromStyles:function(e,s){var a={},c=this,l=[];return h.forActiveRulesInStyles(e,function(e){e.propertyInfo||c.decorateRule(e);var t,n,i,r,o=e.transformedSelector||e.parsedSelector;s&&e.propertyInfo.properties&&o&&d.call(s,o)&&(c.collectProperties(e,a),t=e.index,n=l,i=parseInt(t/32),r=1<<t%32,n[i]=(n[i]||0)|r)}),{properties:a,key:l}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(e,t){return Boolean(t.match(this._rootSelector))||"html"===e&&-1<t.indexOf("html")},whenHostOrRootRule:function(e,t,n,i){if(t.propertyInfo||self.decorateRule(t),t.propertyInfo.properties){var r=e.is?p._calcHostScope(e.is,e.extends):"html",o=t.parsedSelector,s=this._checkRoot(r,o),a=!s&&0===o.indexOf(":host");if("shady"===(e.__cssBuild||n.__cssBuild)&&(a=!(s=o===r+" > *."+r||-1<o.indexOf("html"))&&0===o.indexOf(r)),s||a){var c=r;a&&(l.useNativeShadow&&!t.transformedSelector&&(t.transformedSelector=p._transformRuleCss(t,p._transformComplexSelector,e.is,r)),c=t.transformedSelector||t.parsedSelector),s&&"html"===r&&(c=t.transformedSelector||t.parsedSelector),i({selector:c,isHost:a,isRoot:s})}}},hostAndRootPropertiesForScope:function(i){var r={},o={},s=this;return h.forActiveRulesInStyles(i._styles,function(n,e){s.whenHostOrRootRule(i,n,e,function(e){var t=i._element||i;d.call(t,e.selector)&&(e.isHost?s.collectProperties(n,r):s.collectProperties(n,o))})}),{rootProps:o,hostProps:r}},transformStyles:function(t,n,i){var r=this,o=p._calcHostScope(t.is,t.extends),e=t.extends?"\\"+o.slice(0,-1)+"\\]":o,s=new RegExp(this.rx.HOST_PREFIX+e+this.rx.HOST_SUFFIX),a=this._elementKeyframeTransforms(t,i);return p.elementStyles(t,function(e){r.applyProperties(e,n),l.useNativeShadow||Polymer.StyleUtil.isKeyframesSelector(e)||!e.cssText||(r.applyKeyframeTransforms(e,a),r._scopeSelector(e,s,o,t._scopeCssViaAttr,i))})},_elementKeyframeTransforms:function(e,t){var n=e._styles._keyframes,i={};if(!l.useNativeShadow&&n)for(var r=0,o=n[r];r<n.length;o=n[++r])this._scopeKeyframes(o,t),i[o.keyframesName]=this._keyframesRuleTransformer(o);return i},_keyframesRuleTransformer:function(t){return function(e){return e.replace(t.keyframesNameRx,t.transformedKeyframesName)}},_scopeKeyframes:function(e,t){e.keyframesNameRx=new RegExp("\\b"+e.keyframesName+"(?!\\B|-)","g"),e.transformedKeyframesName=e.keyframesName+"-"+t,e.transformedSelector=e.transformedSelector||e.selector,e.selector=e.transformedSelector.replace(e.keyframesName,e.transformedKeyframesName)},_hasDirOrHostContext:function(e){return/:host-context|:dir/.test(e)},_scopeSelector:function(e,t,n,i,r){e.transformedSelector=e.transformedSelector||e.selector;for(var o,s=e.transformedSelector,a=p._calcElementScope(r,i),c=p._calcElementScope(n,i),l=s.split(","),d=this._hasDirOrHostContext(e.parsedSelector),h=0,u=l.length;h<u&&(o=l[h]);h++)l[h]=o.match(t)?o.replace(n,a):d?o.replace(c,a+" "+c):a+" "+o;e.selector=l.join(",")},applyElementScopeSelector:function(e,t,n,i){var r=i?e.getAttribute(p.SCOPE_NAME):e.getAttribute("class")||"",o=n?r.replace(n,t):(r?r+" ":"")+this.XSCOPE_NAME+" "+t;r!==o&&(i?e.setAttribute(p.SCOPE_NAME,o):e.setAttribute("class",o))},applyElementStyle:function(e,t,n,i){var r=i?i.textContent||"":this.transformStyles(e,t,n),o=e._customStyle;return o&&!l.useNativeShadow&&o!==i&&(o._useCount--,o._useCount<=0&&o.parentNode&&o.parentNode.removeChild(o)),l.useNativeShadow?e._customStyle?(e._customStyle.textContent=r,i=e._customStyle):r&&(i=h.applyCss(r,n,e.root,e._scopeStyle)):i?i.parentNode||(s&&-1<r.indexOf("@media")&&(i.textContent=r),h.applyStyle(i,null,e._scopeStyle)):r&&(i=h.applyCss(r,n,null,e._scopeStyle)),i&&(i._useCount=i._useCount||0,e._customStyle!=i&&i._useCount++,e._customStyle=i),i},mixinCustomStyle:function(e,t){var n;for(var i in t)((n=t[i])||0===n)&&(e[i]=n)},updateNativeStyleProperties:function(e,t){var n=e.__customStyleProperties;if(n)for(var i=0;i<n.length;i++)e.style.removeProperty(n[i]);var r=[];for(var o in t)null!==t[o]&&(e.style.setProperty(o,t[o]),r.push(o));e.__customStyleProperties=r},rx:h.rx,XSCOPE_NAME:"x-scope"}}(),Polymer.StyleCache=function(){this.cache={}},Polymer.StyleCache.prototype={MAX:100,store:function(e,t,n,i){t.keyValues=n,t.styles=i;var r=this.cache[e]=this.cache[e]||[];r.push(t),r.length>this.MAX&&r.shift()},retrieve:function(e,t,n){var i=this.cache[e];if(i)for(var r,o=i.length-1;0<=o;o--)if(n===(r=i[o]).styles&&this._objectsEqual(t,r.keyValues))return r},clear:function(){this.cache={}},_objectsEqual:function(e,t){var n,i;for(var r in e)if(n=e[r],i=t[r],!("object"==typeof n&&n?this._objectsStrictlyEqual(n,i):n===i))return!1;return!Array.isArray(e)||e.length===t.length},_objectsStrictlyEqual:function(e,t){return this._objectsEqual(e,t)&&this._objectsEqual(t,e)}},Polymer.StyleDefaults=function(){var i=Polymer.StyleProperties,e=Polymer.StyleCache,r=Polymer.Settings.useNativeCSSProperties;return{_styles:[],_properties:null,customStyle:{},_styleCache:new e,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(e){this._styles.push(e),this._properties=null},get _styleProperties(){return this._properties||(i.decorateStyles(this._styles,this),this._styles._scopeStyleProperties=null,this._properties=i.hostAndRootPropertiesForScope(this).rootProps,i.mixinCustomStyle(this._properties,this.customStyle),i.reify(this._properties)),this._properties},hasStyleProperties:function(){return Boolean(this._properties)},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(e){this._properties=null,e&&Polymer.Base.mixin(this.customStyle,e),this._styleCache.clear();for(var t,n=0;n<this._styles.length;n++)(t=(t=this._styles[n]).__importElement||t)._apply();r&&i.updateNativeStyleProperties(document.documentElement,this.customStyle)}}}(),function(){"use strict";var r=Polymer.Base.serializeValueToAttribute,a=Polymer.StyleProperties,i=Polymer.StyleTransformer,n=Polymer.StyleDefaults,c=Polymer.Settings.useNativeShadow,t=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){t||(this._ownStylePropertyNames=this._styles&&this._styles.length?a.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(e){return t||this._styleProperties||this._computeStyleProperties(),!t&&this._styleProperties&&this._styleProperties[e]||getComputedStyle(this).getPropertyValue(e)},_setupStyleProperties:function(){this.customStyle={},this._styleCache=null,this._styleProperties=null,this._scopeSelector=null,this._ownStyleProperties=null,this._customStyle=null},_needsStyleProperties:function(){return Boolean(!t&&this._ownStylePropertyNames&&this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var e=i.elementStyles(this);if(c){var t=this._template.content.querySelector("style");t&&(t.textContent=e)}else{var n=this._scopeStyle&&this._scopeStyle.nextSibling;n&&(n.textContent=e)}}},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var e,t=this;e=Polymer.dom(t).getOwnerRoot();){if(Polymer.isInstance(e.host))return e.host;t=e.host}return n},_updateStyleProperties:function(){var e,t=this._findStyleHost();t._styleProperties||t._computeStyleProperties(),t._styleCache||(t._styleCache=new Polymer.StyleCache);var n=a.propertyDataFromStyles(t._styles,this),i=!this.__notStyleScopeCacheable;i&&(n.key.customStyle=this.customStyle,e=t._styleCache.retrieve(this.is,n.key,this._styles));var r=Boolean(e);r?this._styleProperties=e._styleProperties:this._computeStyleProperties(n.properties),this._computeOwnStyleProperties(),r||(e=l.retrieve(this.is,this._ownStyleProperties,this._styles));var o=Boolean(e)&&!r,s=this._applyStyleProperties(e);r||(e={style:s=s&&c?s.cloneNode(!0):s,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},i&&(n.key.customStyle={},this.mixin(n.key.customStyle,this.customStyle),t._styleCache.store(this.is,e,n.key,this._styles)),o||l.store(this.is,Object.create(e),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(e){var t=this._findStyleHost();t._styleProperties||t._computeStyleProperties();var n=Object.create(t._styleProperties),i=a.hostAndRootPropertiesForScope(this);this.mixin(n,i.hostProps),e=e||a.propertyDataFromStyles(t._styles,this).properties,this.mixin(n,e),this.mixin(n,i.rootProps),a.mixinCustomStyle(n,this.customStyle),a.reify(n),this._styleProperties=n},_computeOwnStyleProperties:function(){for(var e,t={},n=0;n<this._ownStylePropertyNames.length;n++)t[e=this._ownStylePropertyNames[n]]=this._styleProperties[e];this._ownStyleProperties=t},_scopeCount:0,_applyStyleProperties:function(e){var t=this._scopeSelector;this._scopeSelector=e?e._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;var n=a.applyElementStyle(this,this._styleProperties,this._scopeSelector,e&&e.style);return c||a.applyElementScopeSelector(this,this._scopeSelector,t,this._scopeCssViaAttr),n},serializeValueToAttribute:function(e,t,n){if(n=n||this,"class"===t&&!c){var i=n===this?this.domHost||this.dataHost:this;i&&(e=i._scopeElementClass(n,e))}n=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(n):n,r.call(this,e,t,n)},_scopeElementClass:function(e,t){return c||this._scopeCssViaAttr||(t=(t?t+" ":"")+o+" "+this.is+(e._scopeSelector?" "+s+" "+e._scopeSelector:"")),t},updateStyles:function(e){e&&this.mixin(this.customStyle,e),t?a.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(e){e=e||this.root;for(var t,n=Polymer.dom(e)._query(function(e){return e.shadyRoot||e.shadowRoot}),i=0,r=n.length;i<r&&(t=n[i]);i++)t.updateStyles&&t.updateStyles()}}),Polymer.updateStyles=function(e){n.updateStyles(e),Polymer.Base._updateRootStyles(document)};var l=new Polymer.StyleCache;Polymer.customStyleCache=l;var o=i.SCOPE_NAME,s=a.XSCOPE_NAME}(),Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs(),this.factoryImpl&&this._prepConstructor(),this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate(),this._prepShimStyles(),this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepPropertyInfo(),this._prepBindings(),this._prepShady()},_prepBehavior:function(e){this._addPropertyEffects(e.properties),this._addComplexObserverEffects(e.observers),this._addHostAttributes(e.hostAttributes)},_initFeatures:function(){this._setupGestures(),this._setupConfigure(this.__data__),this._setupStyleProperties(),this._setupDebouncers(),this._setupShady(),this._registerHost(),this._template&&(this._validateApplyShim(),this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting(),this._marshalAnnotationReferences()),this._marshalInstanceEffects(),this._marshalBehaviors(),this._marshalHostAttributes(),this._marshalAttributes(),this._tryReady()},_marshalBehavior:function(e){e.listeners&&this._listenListeners(e.listeners)}}),function(){var e,i=Polymer.StyleProperties,a=Polymer.StyleUtil,r=Polymer.CssParse,o=Polymer.StyleDefaults,c=Polymer.StyleTransformer,l=Polymer.ApplyShim,t=Polymer.Debounce,d=Polymer.Settings;Polymer({is:"custom-style",extends:"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this,this.__cssBuild=a.getCssBuildType(this),this.__appliedElement!==this&&(this.__appliedElement.__cssBuild=this.__cssBuild),this.ownerDocument!==window.document&&this.__appliedElement===this&&document.head.appendChild(this),this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var e=this.__appliedElement;if(d.useNativeCSSProperties||(this.__needsUpdateStyles=o.hasStyleProperties(),o.addStyle(e)),e.textContent||this.include)this._apply(!0);else{var t=this,n=new MutationObserver(function(){n.disconnect(),t._apply(!0)});n.observe(e,{childList:!0})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(e){var t=this.__appliedElement;if(this.include&&(t.textContent=a.cssFromModules(this.include,!0)+t.textContent),t.textContent){var n=this.__cssBuild,i=a.isTargetedBuild(n);if(!d.useNativeCSSProperties||!i){var r=a.rulesForStyle(t);if(i||(a.forEachRule(r,function(e){c.documentRule(e)}),d.useNativeCSSProperties&&!n&&l.transform([t])),d.useNativeCSSProperties)t.textContent=a.toCssText(r);else{var o=this,s=function(){o._flushCustomProperties()};e?Polymer.RenderStatus.whenReady(s):s()}}}},_flushCustomProperties:function(){this.__needsUpdateStyles?(this.__needsUpdateStyles=!1,e=t(e,this._updateStyles)):this._applyCustomProperties()},_applyCustomProperties:function(){var e=this.__appliedElement;this._computeStyleProperties();var n=this._styleProperties,t=a.rulesForStyle(e);t&&(e.textContent=a.toCssText(t,function(e){var t=e.cssText=e.parsedCssText;e.propertyInfo&&e.propertyInfo.cssText&&(t=r.removeCustomPropAssignment(t),e.cssText=i.valueForProperties(t,n))}))}})}(),Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(e){if(Polymer.Settings.strictTemplatePolicy&&!this._getRootDataHost())throw new Error("strictTemplatePolicy: template owner not trusted");if((this._templatized=e)._content||(e._content=e.content),e._content._ctor)return this.ctor=e._content._ctor,void this._prepParentProperties(this.ctor.prototype,e);var t=Object.create(Polymer.Base);this._customPrepAnnotations(t,e),this._prepParentProperties(t,e),t._prepEffects(),this._customPrepEffects(t),t._prepBehaviors(),t._prepPropertyInfo(),t._prepBindings(),t._notifyPathUp=this._notifyPathUpImpl,t._scopeElementClass=this._scopeElementClassImpl,t.listen=this._listenImpl,t._showHideChildren=this._showHideChildrenImpl,t.__setPropertyOrig=this.__setProperty,t.__setProperty=this.__setPropertyImpl;var n=this._constructorImpl,i=function(e,t){n.call(this,e,t)};(i.prototype=t).constructor=i,e._content._ctor=i,this.ctor=i},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(e){for(var t=this._children,n=0;n<t.length;n++){var i=t[n];Boolean(e)!=Boolean(i.__hideTemplateChildren__)&&(i.nodeType===Node.TEXT_NODE?e?(i.__polymerTextContent__=i.textContent,i.textContent=""):i.textContent=i.__polymerTextContent__:i.style&&(e?(i.__polymerDisplay__=i.style.display,i.style.display="none"):i.style.display=i.__polymerDisplay__)),i.__hideTemplateChildren__=e}},__setPropertyImpl:function(e,t,n,i){i&&i.__hideTemplateChildren__&&"textContent"==e&&(e="__polymerTextContent__"),this.__setPropertyOrig(e,t,n,i)},_debounceTemplate:function(e){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",e))},_flushTemplates:function(){Polymer.dom.flush()},_customPrepEffects:function(e){var t=e._parentProps;for(var n in t)e._addPropertyEffect(n,"function",this._createHostPropEffector(n));for(n in this._instanceProps)e._addPropertyEffect(n,"function",this._createInstancePropEffector(n))},_customPrepAnnotations:function(e,t){var n=(e._template=document.createElement("template"))._content=t._content;if(!n._notes){var i=e._rootDataHost;i&&(Polymer.Annotations.prepElement=function(){i._prepElement()}),n._notes=Polymer.Annotations.parseAnnotations(t),Polymer.Annotations.prepElement=null,this._processAnnotations(n._notes)}e._notes=n._notes,e._parentProps=n._parentProps},_prepParentProperties:function(e,t){var n=this._parentProps=e._parentProps;if(this._forwardParentProp&&n){var i,r=e._parentPropProto;if(!r){for(i in this._instanceProps)delete n[i];for(i in r=e._parentPropProto=Object.create(null),t!=this&&(Polymer.Bind.prepareModel(r),Polymer.Base.prepareModelNotifyPath(r)),n){var o=this._parentPropPrefix+i,s=[{kind:"function",effect:this._createForwardPropEffector(i),fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(o)+"-changed"}}];r._propertyEffects=r._propertyEffects||{},r._propertyEffects[o]=s,Polymer.Bind._createAccessors(r,o,s)}}var a=this;t!=this&&(Polymer.Bind.prepareInstance(t),t._forwardParentProp=function(e,t){a._forwardParentProp(e,t)}),this._extendTemplate(t,r),t._pathEffector=function(e,t,n){return a._pathEffectorImpl(e,t,n)}}},_createForwardPropEffector:function(n){return function(e,t){this._forwardParentProp(n,t)}},_createHostPropEffector:function(n){var i=this._parentPropPrefix;return function(e,t){this.dataHost._templatized[i+n]=t}},_createInstancePropEffector:function(r){return function(e,t,n,i){i||this.dataHost._forwardInstanceProp(this,r,t)}},_extendTemplate:function(e,t){var n=Object.getOwnPropertyNames(t);t._propertySetter&&(e._propertySetter=t._propertySetter);for(var i,r=0;r<n.length&&(i=n[r]);r++){var o=e[i];if(o&&"_propertyEffects"==i){var s=Polymer.Base.mixin({},o);e._propertyEffects=Polymer.Base.mixin(s,t._propertyEffects)}else{var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,a),void 0!==o&&e._propertySetter(i,o)}}},_showHideChildren:function(e){},_forwardInstancePath:function(e,t,n){},_forwardInstanceProp:function(e,t,n){},_notifyPathUpImpl:function(e,t){var n=this.dataHost,i=Polymer.Path.root(e);n._forwardInstancePath.call(n,this,e,t),i in n._parentProps&&n._templatized._notifyPath(n._parentPropPrefix+e,t)},_pathEffectorImpl:function(e,t,n){if(this._forwardParentPath&&0===e.indexOf(this._parentPropPrefix)){var i=e.substring(this._parentPropPrefix.length);Polymer.Path.root(i)in this._parentProps&&this._forwardParentPath(i,t)}Polymer.Base._pathEffector.call(this._templatized,e,t,n)},_constructorImpl:function(e,t){this._rootDataHost=t._getRootDataHost(),this._setupConfigure(e),this._registerHost(t),this._beginHosting(),this.root=this.instanceTemplate(this._template),this.root.__noContent=!this._notes._hasContent,this.root.__styleScoped=!0,this._endHosting(),this._marshalAnnotatedNodes(),this._marshalInstanceEffects(),this._marshalAnnotatedListeners();for(var n=[],i=this.root.firstChild;i;i=i.nextSibling)n.push(i),i._templateInstance=this;this._children=n,t.__hideTemplateChildren__&&this._showHideChildren(!0),this._tryReady()},_listenImpl:function(e,t,n){var i=this,r=this._rootDataHost,o=r._createEventHandler(e,t,n);r._listen(e,t,function(e){e.model=i,o(e)})},_scopeElementClassImpl:function(e,t){var n=this._rootDataHost;return n?n._scopeElementClass(e,t):t},stamp:function(e){if(e=e||{},this._parentProps){var t=this._templatized;for(var n in this._parentProps)void 0===e[n]&&(e[n]=t[this._parentPropPrefix+n])}return new this.ctor(e,this)},modelForElement:function(e){for(var t;e;)if(t=e._templateInstance){if(t.dataHost==this)return t;e=t.dataHost}else e=e.parentNode}},Polymer({is:"dom-template",extends:"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}}),Polymer._collections=new WeakMap,Polymer.Collection=function(e){Polymer._collections.set(e,this),this.userArray=e,this.store=e.slice(),this.initMap()},Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var e=this.omap=new WeakMap,t=this.pmap={},n=this.store,i=0;i<n.length;i++){var r=n[i];r&&"object"==typeof r?e.set(r,i):t[r]=i}},add:function(e){var t=this.store.push(e)-1;return e&&"object"==typeof e?this.omap.set(e,t):this.pmap[e]=t,"#"+t},removeKey:function(e){(e=this._parseKey(e))&&(this._removeFromMap(this.store[e]),delete this.store[e])},_removeFromMap:function(e){e&&"object"==typeof e?this.omap.delete(e):delete this.pmap[e]},remove:function(e){var t=this.getKey(e);return this.removeKey(t),t},getKey:function(e){var t;if(null!=(t=e&&"object"==typeof e?this.omap.get(e):this.pmap[e]))return"#"+t},getKeys:function(){return Object.keys(this.store).map(function(e){return"#"+e})},_parseKey:function(e){if(e&&"#"==e[0])return e.slice(1)},setItem:function(e,t){if(e=this._parseKey(e)){var n=this.store[e];n&&this._removeFromMap(n),t&&"object"==typeof t?this.omap.set(t,e):this.pmap[t]=e,this.store[e]=t}},getItem:function(e){if(e=this._parseKey(e))return this.store[e]},getItems:function(){var e=[],t=this.store;for(var n in t)e.push(t[n]);return e},_applySplices:function(e){for(var t,n,i={},r=0;r<e.length&&(n=e[r]);r++){n.addedKeys=[];for(var o=0;o<n.removed.length;o++)i[t=this.getKey(n.removed[o])]=i[t]?null:-1;for(o=0;o<n.addedCount;o++){var s=this.userArray[n.index+o];i[t=void 0===(t=this.getKey(s))?this.add(s):t]=i[t]?null:1,n.addedKeys.push(t)}}var a=[],c=[];for(t in i)i[t]<0&&(this.removeKey(t),a.push(t)),0<i[t]&&c.push(t);return[{removed:a,added:c}]}},Polymer.Collection.get=function(e){return Polymer._collections.get(e)||new Polymer.Collection(e)},Polymer.Collection.applySplices=function(e,t){var n=Polymer._collections.get(e);return n?n._applySplices(t):null},Polymer({is:"dom-repeat",extends:"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:!0},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,value:20},notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[],this._pool=[],this._limit=1/0;var e=this;this._boundRenderChunk=function(){e._renderChunk()}},detached:function(){this.__isDetached=!0;for(var e=0;e<this._instances.length;e++)this._detachInstance(e)},attached:function(){if(this.__isDetached){var e;this.__isDetached=!1;var t=Polymer.dom(this).parentNode;t.localName==this.is?(e=t,t=Polymer.dom(t).parentNode):e=this;for(var n=Polymer.dom(t),i=0;i<this._instances.length;i++)this._attachInstance(i,n,e)}},ready:function(){this._instanceProps={__key__:!0},this._instanceProps[this.as]=!0,this._instanceProps[this.indexAs]=!0,this.ctor||this.templatize(this)},_sortChanged:function(e){var t=this._getRootDataHost();this._sortFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._needFullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_filterChanged:function(e){var t=this._getRootDataHost();this._filterFn=e&&("function"==typeof e?e:function(){return t[e].apply(t,arguments)}),this._needFullRefresh=!0,this.items&&this._debounceTemplate(this._render)},_computeFrameTime:function(e){return Math.ceil(1e3/e)},_initializeChunking:function(){this.initialCount&&(this._limit=this.initialCount,this._chunkCount=this.initialCount,this._lastChunkTime=performance.now())},_tryRenderChunk:function(){this.items&&this._limit<this.items.length&&this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var e=performance.now(),t=this._targetFrameTime/(e-this._lastChunkTime);this._chunkCount=Math.round(this._chunkCount*t)||1,this._limit+=this._chunkCount,this._lastChunkTime=e,this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(e){if("items"==e.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=[],this._needFullRefresh=!0,this._initializeChunking(),this._debounceTemplate(this._render);else if("items.splices"==e.path)this._keySplices=this._keySplices.concat(e.value.keySplices),this._indexSplices=this._indexSplices.concat(e.value.indexSplices),this._debounceTemplate(this._render);else{var t=e.path.slice(6);this._forwardItemPath(t,e.value),this._checkObservedPaths(t)}},_checkObservedPaths:function(e){if(this._observePaths){e=e.substring(e.indexOf(".")+1);for(var t=this._observePaths,n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return this._needFullRefresh=!0,void(this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render))}},render:function(){this._needFullRefresh=!0,this._debounceTemplate(this._render),this._flushTemplates()},_render:function(){if(this.ctor){this._needFullRefresh?(this._applyFullRefresh(),this._needFullRefresh=!1):this._keySplices.length&&(this._sortFn?this._applySplicesUserSort(this._keySplices):this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices)),this._keySplices=[],this._indexSplices=[];for(var e=this._keyToInstIdx={},t=this._instances.length-1;0<=t;t--){var n=this._instances[t];n.isPlaceholder&&t<this._limit?n=this._insertInstance(t,n.__key__):!n.isPlaceholder&&t>=this._limit&&(n=this._downgradeInstance(t,n.__key__)),e[n.__key__]=t,n.isPlaceholder||n.__setProperty(this.indexAs,t,!0)}this._pool.length=0,this._setRenderedItemCount(this._instances.length),Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change"),this._tryRenderChunk()}},_applyFullRefresh:function(){var e,n=this.collection;if(this._sortFn)e=n?n.getKeys():[];else{e=[];var t=this.items;if(t)for(var i=0;i<t.length;i++)e.push(n.getKey(t[i]))}var r=this;for(this._filterFn&&(e=e.filter(function(e){return r._filterFn(n.getItem(e))})),this._sortFn&&e.sort(function(e,t){return r._sortFn(n.getItem(e),n.getItem(t))}),i=0;i<e.length;i++){var o=e[i],s=this._instances[i];s?(s.__key__=o,!s.isPlaceholder&&i<this._limit&&s.__setProperty(this.as,n.getItem(o),!0)):i<this._limit?this._insertInstance(i,o):this._insertPlaceholder(i,o)}for(var a=this._instances.length-1;i<=a;a--)this._detachAndRemoveInstance(a)},_numericSort:function(e,t){return e-t},_applySplicesUserSort:function(e){for(var t,n,i=this.collection,r={},o=0;o<e.length&&(n=e[o]);o++){for(var s=0;s<n.removed.length;s++)r[t=n.removed[s]]=r[t]?null:-1;for(s=0;s<n.added.length;s++)r[t=n.added[s]]=r[t]?null:1}var a=[],c=[];for(t in r)-1===r[t]&&a.push(this._keyToInstIdx[t]),1===r[t]&&c.push(t);if(a.length)for(a.sort(this._numericSort),o=a.length-1;0<=o;o--){var l=a[o];void 0!==l&&this._detachAndRemoveInstance(l)}var d=this;if(c.length){this._filterFn&&(c=c.filter(function(e){return d._filterFn(i.getItem(e))})),c.sort(function(e,t){return d._sortFn(i.getItem(e),i.getItem(t))});var h=0;for(o=0;o<c.length;o++)h=this._insertRowUserSort(h,c[o])}},_insertRowUserSort:function(e,t){for(var n=this.collection,i=n.getItem(t),r=this._instances.length-1,o=-1;e<=r;){var s=e+r>>1,a=this._instances[s].__key__,c=this._sortFn(n.getItem(a),i);if(c<0)e=s+1;else{if(!(0<c)){o=s;break}r=s-1}}return o<0&&(o=r+1),this._insertPlaceholder(o,t),o},_applySplicesArrayOrder:function(e){for(var t,n=0;n<e.length&&(t=e[n]);n++){for(var i=0;i<t.removed.length;i++)this._detachAndRemoveInstance(t.index);for(i=0;i<t.addedKeys.length;i++)this._insertPlaceholder(t.index+i,t.addedKeys[i])}},_detachInstance:function(e){var t=this._instances[e];if(!t.isPlaceholder){for(var n=0;n<t._children.length;n++){var i=t._children[n];Polymer.dom(t.root).appendChild(i)}return t}},_attachInstance:function(e,t,n){var i=this._instances[e];i.isPlaceholder||t.insertBefore(i.root,n)},_detachAndRemoveInstance:function(e){var t=this._detachInstance(e);t&&this._pool.push(t),this._instances.splice(e,1)},_insertPlaceholder:function(e,t){this._instances.splice(e,0,{isPlaceholder:!0,__key__:t})},_stampInstance:function(e,t){var n={__key__:t};return n[this.as]=this.collection.getItem(t),n[this.indexAs]=e,this.stamp(n)},_insertInstance:function(e,t){var n=this._pool.pop();n?(n.__setProperty(this.as,this.collection.getItem(t),!0),n.__setProperty("__key__",t,!0)):n=this._stampInstance(e,t);var i=this._instances[e+1],r=i&&!i.isPlaceholder?i._children[0]:this,o=Polymer.dom(this).parentNode;return o.localName==this.is&&(r==this&&(r=o),o=Polymer.dom(o).parentNode),Polymer.dom(o).insertBefore(n.root,r),this._instances[e]=n},_downgradeInstance:function(e,t){var n=this._detachInstance(e);return n&&this._pool.push(n),n={isPlaceholder:!0,__key__:t},this._instances[e]=n},_showHideChildren:function(e){for(var t=0;t<this._instances.length;t++)this._instances[t].isPlaceholder||this._instances[t]._showHideChildren(e)},_forwardInstanceProp:function(e,t,n){var i;t==this.as&&(i=this._sortFn||this._filterFn?this.items.indexOf(this.collection.getItem(e.__key__)):e[this.indexAs],this.set("items."+i,n))},_forwardInstancePath:function(e,t,n){0===t.indexOf(this.as+".")&&this._notifyPath("items."+e.__key__+"."+t.slice(this.as.length+1),n)},_forwardParentProp:function(e,t){for(var n,i=this._instances,r=0;r<i.length&&(n=i[r]);r++)n.isPlaceholder||n.__setProperty(e,t,!0)},_forwardParentPath:function(e,t){for(var n,i=this._instances,r=0;r<i.length&&(n=i[r]);r++)n.isPlaceholder||n._notifyPath(e,t,!0)},_forwardItemPath:function(e,t){if(this._keyToInstIdx){var n=e.indexOf("."),i=e.substring(0,n<0?e.length:n),r=this._keyToInstIdx[i],o=this._instances[r];o&&!o.isPlaceholder&&(0<=n?(e=this.as+"."+e.substring(n+1),o._notifyPath(e,t,!0)):o.__setProperty(this.as,t,!0))}},itemForElement:function(e){var t=this.modelForElement(e);return t&&t[this.as]},keyForElement:function(e){var t=this.modelForElement(e);return t&&t.__key__},indexForElement:function(e){var t=this.modelForElement(e);return t&&t[this.indexAs]}}),Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var e=0;e<this.selected.length;e++)this.unlinkPaths("selected."+e);else this.unlinkPaths("selected"),this.unlinkPaths("selectedItem");this.multi?this.selected&&!this.selected.length||(this.selected=[],this._selectedColl=Polymer.Collection.get(this.selected)):(this.selected=null,this._selectedColl=null),this.selectedItem=null},isSelected:function(e){return this.multi?void 0!==this._selectedColl.getKey(e):this.selected==e},deselect:function(e){if(this.multi){if(this.isSelected(e)){var t=this._selectedColl.getKey(e);this.arrayDelete("selected",e),this.unlinkPaths("selected."+t)}}else this.selected=null,this.selectedItem=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(e){var t=Polymer.Collection.get(this.items).getKey(e);if(this.multi)if(this.isSelected(e))this.toggle&&this.deselect(e);else{this.push("selected",e);var n=this._selectedColl.getKey(e);this.linkPaths("selected."+n,"items."+t)}else this.toggle&&e==this.selected?this.deselect():(this.selected=e,this.selectedItem=e,this.linkPaths("selected","items."+t),this.linkPaths("selectedItem","items."+t))}}),Polymer({is:"dom-if",extends:"template",_template:null,properties:{if:{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){var e=this.parentNode;e&&e.localName==this.is&&(e=Polymer.dom(e).parentNode),e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Polymer.Settings.hasShadow&&e instanceof ShadowRoot)||this._teardownInstance()},attached:function(){this.if&&this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance(),!this.restamp&&this._instance&&this._showHideChildren(),this.if!=this._lastIf&&(Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){var e,t=Polymer.dom(this).parentNode;if(t&&t.localName==this.is?(e=t,t=Polymer.dom(t).parentNode):e=this,t)if(this._instance){var n=this._instance._children;if(n&&n.length)if(Polymer.dom(e).previousSibling!==n[n.length-1])for(var i,r=0;r<n.length&&(i=n[r]);r++)Polymer.dom(t).insertBefore(i,e)}else{this._instance=this.stamp();var o=this._instance.root;Polymer.dom(t).insertBefore(o,e)}},_teardownInstance:function(){if(this._instance){var e=this._instance._children;if(e&&e.length){var t=Polymer.dom(Polymer.dom(e[0]).parentNode);if(t)for(var n,i=0;i<e.length&&(n=e[i]);i++)t.removeChild(n)}this._instance=null}},_showHideChildren:function(){var e=this.__hideTemplateChildren__||!this.if;this._instance&&this._instance._showHideChildren(e)},_forwardParentProp:function(e,t){this._instance&&this._instance.__setProperty(e,t,!0)},_forwardParentPath:function(e,t){this._instance&&this._instance._notifyPath(e,t,!0)}}),Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},extends:"template",_template:null,created:function(){if(Polymer.Settings.strictTemplatePolicy)throw new Error("strictTemplatePolicy: dom-bind not allowed");var e=this;Polymer.RenderStatus.whenReady(function(){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){e._markImportsReady()}):e._markImportsReady()})},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0,this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){var e,t=Polymer.dom(this).parentNode;t.localName==this.is?(e=t,t=Polymer.dom(t).parentNode):e=this,Polymer.dom(t).insertBefore(this.root,e)},_removeChildren:function(){if(this._children)for(var e=0;e<this._children.length;e++)this.root.appendChild(this._children[e])},_initFeatures:function(){},_scopeElementClass:function(e,t){return this.dataHost?this.dataHost._scopeElementClass(e,t):t},_configureInstanceProperties:function(){},_prepConfigure:function(){var e={};for(var t in this._propertyEffects)e[t]=this[t];var n=this._setupConfigure;this._setupConfigure=function(){n.call(this,e)}},attached:function(){this._importsReady&&this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady(),this._children||((this._template=this)._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),this._prepPropertyInfo(),Polymer.Base._initFeatures.call(this),this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root)),this._insertChildren(),Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change")}}),function(){var e=document.createElement("style");e.textContent="[hidden] { display: none !important; }",document.head.appendChild(e)}(),Polymer({is:"paper-toolbar",hostAttributes:{role:"toolbar"},properties:{bottomJustify:{type:String,value:""},justify:{type:String,value:""},middleJustify:{type:String,value:""}},attached:function(){this._observer=this._observe(this),this._updateAriaLabelledBy()},detached:function(){this._observer&&this._observer.disconnect()},_observe:function(e){var t=new MutationObserver(function(){this._updateAriaLabelledBy()}.bind(this));return t.observe(e,{childList:!0,subtree:!0}),t},_updateAriaLabelledBy:function(){for(var e,t=[],n=Polymer.dom(this.root).querySelectorAll("content"),i=0;e=n[i];i++)for(var r,o=Polymer.dom(e).getDistributedNodes(),s=0;r=o[s];s++)if(r.classList&&r.classList.contains("title"))if(r.id)t.push(r.id);else{var a="paper-toolbar-label-"+Math.floor(1e4*Math.random());r.id=a,t.push(a)}0<t.length&&this.setAttribute("aria-labelledby",t.join(" "))},_computeBarExtraClasses:function(e){return e?e+("justified"===e?"":"-justified"):""}}),function(){var t={},n={},e=null;Polymer.IronMeta=Polymer({is:"iron-meta",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,observer:"_valueChanged"},self:{type:Boolean,observer:"_selfChanged"},list:{type:Array,notify:!0}},hostAttributes:{hidden:!0},factoryImpl:function(e){if(e)for(var t in e)switch(t){case"type":case"key":case"value":this[t]=e[t]}},created:function(){this._metaDatas=t,this._metaArrays=n},_keyChanged:function(e,t){this._resetRegistration(t)},_valueChanged:function(e){this._resetRegistration(this.key)},_selfChanged:function(e){e&&(this.value=this)},_typeChanged:function(e){this._unregisterKey(this.key),t[e]||(t[e]={}),this._metaData=t[e],n[e]||(n[e]=[]),this.list=n[e],this._registerKeyValue(this.key,this.value)},byKey:function(e){return this._metaData&&this._metaData[e]},_resetRegistration:function(e){this._unregisterKey(e),this._registerKeyValue(this.key,this.value)},_unregisterKey:function(e){this._unregister(e,this._metaData,this.list)},_registerKeyValue:function(e,t){this._register(e,t,this._metaData,this.list)},_register:function(e,t,n,i){e&&n&&void 0!==t&&(n[e]=t,i.push(t))},_unregister:function(e,t,n){if(e&&t&&e in t){var i=t[e];delete t[e],this.arrayDelete(n,i)}}}),Polymer.IronMeta.getIronMeta=function(){return null===e&&(e=new Polymer.IronMeta),e},Polymer.IronMetaQuery=Polymer({is:"iron-meta-query",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,readOnly:!0},list:{type:Array,notify:!0}},factoryImpl:function(e){if(e)for(var t in e)switch(t){case"type":case"key":this[t]=e[t]}},created:function(){this._metaDatas=t,this._metaArrays=n},_keyChanged:function(e){this._setValue(this._metaData&&this._metaData[e])},_typeChanged:function(e){this._metaData=t[e],this.list=n[e],this.key&&this._keyChanged(this.key)},byKey:function(e){return this._metaData&&this._metaData[e]}})}(),Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(e,t){for(var n in t)e[n]=t[n]},_cloneConfig:function(e){var t={isClone:!0};return this._copyProperties(t,e),t},_getAnimationConfigRecursive:function(e,t,n){var i;if(this.animationConfig)if(this.animationConfig.value&&"function"==typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else if(i=e?this.animationConfig[e]:this.animationConfig,Array.isArray(i)||(i=[i]),i)for(var r,o=0;r=i[o];o++)if(r.animatable)r.animatable._getAnimationConfigRecursive(r.type||e,t,n);else if(r.id){var s=t[r.id];s?(s.isClone||(t[r.id]=this._cloneConfig(s),s=t[r.id]),this._copyProperties(s,r)):t[r.id]=r}else n.push(r)},getAnimationConfig:function(e){var t={},n=[];for(var i in this._getAnimationConfigRecursive(e,t,n),t)n.push(t[i]);return n}},Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(e){var t=[];if(0<e.length)for(var n,i=0;n=e[i];i++){var r=document.createElement(n.name);if(r.isNeonAnimation){var o=null;try{"function"!=typeof(o=r.configure(n)).cancel&&(o=document.timeline.play(o))}catch(e){o=null,console.warn("Couldnt play","(",n.name,").",e)}o&&t.push({neonAnimation:r,config:n,animation:o})}else console.warn(this.is+":",n.name,"not found!")}return t},_shouldComplete:function(e){for(var t=!0,n=0;n<e.length;n++)if("finished"!=e[n].animation.playState){t=!1;break}return t},_complete:function(e){for(var t=0;t<e.length;t++)e[t].neonAnimation.complete(e[t].config);for(t=0;t<e.length;t++)e[t].animation.cancel()},playAnimation:function(e,t){var n=this.getAnimationConfig(e);if(n){this._active=this._active||{},this._active[e]&&(this._complete(this._active[e]),delete this._active[e]);var i=this._configureAnimations(n);if(0!=i.length){this._active[e]=i;for(var r=0;r<i.length;r++)i[r].animation.onfinish=function(){this._shouldComplete(i)&&(this._complete(i),delete this._active[e],this.fire("neon-animation-finish",t,{bubbles:!1}))}.bind(this)}else this.fire("neon-animation-finish",t,{bubbles:!1})}},cancelAnimation:function(){for(var e in this._animations)this._animations[e].cancel();this._animations={}}},Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl],Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var e=Polymer.dom(this).parentNode;return e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(e=e.host),e},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},attached:function(){void 0===this._isRTL&&(this._isRTL="rtl"==window.getComputedStyle(this).direction),this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var e=window.getComputedStyle(this),t=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==e.top?"top":"auto"!==e.bottom?"bottom":null,horizontally:"auto"!==e.left?"left":"auto"!==e.right?"right":null},sizedBy:{height:"none"!==t.maxHeight,width:"none"!==t.maxWidth,minWidth:parseInt(t.minWidth,10)||0,minHeight:parseInt(t.minHeight,10)||0},margin:{top:parseInt(e.marginTop,10)||0,right:parseInt(e.marginRight,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0}}}},resetFit:function(){var e=this._fitInfo||{};for(var t in e.sizerInlineStyle)this.sizingTarget.style[t]=e.sizerInlineStyle[t];for(var t in e.inlineStyle)this.style[t]=e.inlineStyle[t];this._fitInfo=null},refit:function(){var e=this.sizingTarget.scrollLeft,t=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=e,this.sizingTarget.scrollTop=t},position:function(){if(this.horizontalAlign||this.verticalAlign){this._discoverInfo(),this.style.position="fixed",this.sizingTarget.style.boxSizing="border-box",this.style.left="0px",this.style.top="0px";var e=this.getBoundingClientRect(),t=this.__getNormalizedRect(this.positionTarget),n=this.__getNormalizedRect(this.fitInto),i=this._fitInfo.margin,r={width:e.width+i.left+i.right,height:e.height+i.top+i.bottom},o=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,r,t,n),s=o.left+i.left,a=o.top+i.top,c=Math.min(n.right-i.right,s+e.width),l=Math.min(n.bottom-i.bottom,a+e.height);s=Math.max(n.left+i.left,Math.min(s,c-this._fitInfo.sizedBy.minWidth)),a=Math.max(n.top+i.top,Math.min(a,l-this._fitInfo.sizedBy.minHeight)),this.sizingTarget.style.maxWidth=Math.max(c-s,this._fitInfo.sizedBy.minWidth)+"px",this.sizingTarget.style.maxHeight=Math.max(l-a,this._fitInfo.sizedBy.minHeight)+"px",this.style.left=s-e.left+"px",this.style.top=a-e.top+"px"}},constrain:function(){if(!this.horizontalAlign&&!this.verticalAlign){this._discoverInfo();var e=this._fitInfo;e.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px"),e.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var t=this.getBoundingClientRect();e.sizedBy.height||this.__sizeDimension(t,e.positionedBy.vertically,"top","bottom","Height"),e.sizedBy.width||this.__sizeDimension(t,e.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(e,t,n,i,r){this.__sizeDimension(e,t,n,i,r)},__sizeDimension:function(e,t,n,i,r){var o=this._fitInfo,s=this.__getNormalizedRect(this.fitInto),a="Width"===r?s.width:s.height,c=t===i,l=c?a-e[i]:e[n],d=o.margin[c?n:i],h="offset"+r,u=this[h]-this.sizingTarget[h];this.sizingTarget.style["max"+r]=a-d-l-u+"px"},center:function(){if(!this.horizontalAlign&&!this.verticalAlign){this._discoverInfo();var e=this._fitInfo.positionedBy;if(!e.vertically||!e.horizontally){this.style.position="fixed",e.vertically||(this.style.top="0px"),e.horizontally||(this.style.left="0px");var t=this.getBoundingClientRect(),n=this.__getNormalizedRect(this.fitInto);if(!e.vertically){var i=n.top-t.top+(n.height-t.height)/2;this.style.top=i+"px"}if(!e.horizontally){var r=n.left-t.left+(n.width-t.width)/2;this.style.left=r+"px"}}}},__getNormalizedRect:function(e){return e===document.documentElement||e===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:e.getBoundingClientRect()},__getCroppedArea:function(e,t,n){var i=Math.min(0,e.top)+Math.min(0,n.bottom-(e.top+t.height)),r=Math.min(0,e.left)+Math.min(0,n.right-(e.left+t.width));return Math.abs(i)*t.width+Math.abs(r)*t.height},__getPosition:function(e,t,n,i,r){var o,s=[{verticalAlign:"top",horizontalAlign:"left",top:i.top+this.verticalOffset,left:i.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:i.top+this.verticalOffset,left:i.right-n.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:i.bottom-n.height-this.verticalOffset,left:i.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:i.bottom-n.height-this.verticalOffset,left:i.right-n.width-this.horizontalOffset}];if(this.noOverlap){for(var a=0,c=s.length;a<c;a++){var l={};for(var d in s[a])l[d]=s[a][d];s.push(l)}s[0].top=s[1].top+=i.height,s[2].top=s[3].top-=i.height,s[4].left=s[6].left+=i.width,s[5].left=s[7].left-=i.width}t="auto"===t?null:t,e="auto"===e?null:e;for(a=0;a<s.length;a++){var h=s[a];if(!this.dynamicAlign&&!this.noOverlap&&h.verticalAlign===t&&h.horizontalAlign===e){o=h;break}var u=!(t&&h.verticalAlign!==t||e&&h.horizontalAlign!==e);if(this.dynamicAlign||u){o=o||h,h.croppedArea=this.__getCroppedArea(h,n,r);var p=h.croppedArea-o.croppedArea;if((p<0||0===p&&u)&&(o=h),0===o.croppedArea&&u)break}}return o}},Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",this._boundNotifyResize),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(e){this.resizerShouldNotify(e)&&this._notifyDescendant(e)},this),this._fireResize())},assignParentResizable:function(e){this._parentResizable=e},stopResizeNotificationsFor:function(e){var t=this._interestedResizables.indexOf(e);-1<t&&(this._interestedResizables.splice(t,1),this.unlisten(e,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(e){return!0},_onDescendantIronResize:function(e){this._notifyingDescendant?e.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(e){var t=e.path?e.path[0]:e.target;t!==this&&(-1===this._interestedResizables.indexOf(t)&&(this._interestedResizables.push(t),this.listen(t,"iron-resize","_onDescendantIronResize")),t.assignParentResizable(this),this._notifyDescendant(t),e.stopPropagation())},_parentResizableChanged:function(e){e&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(e){this.isAttached&&(this._notifyingDescendant=!0,e.notifyResize(),this._notifyingDescendant=!1)}},function(){"use strict";var s={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},a={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},o={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},r=/[a-z0-9*]/,c=/U\+/,l=/^arrow/,d=/^space(bar)?/,h=/^escape$/;function u(e,t){var n="";if(e){var i=e.toLowerCase();" "===i||d.test(i)?n="space":h.test(i)?n="esc":1==i.length?t&&!r.test(i)||(n=i):n=l.test(i)?i.replace("arrow",""):"multiply"==i?"*":i}return n}function n(e,t){return e.key?u(e.key,t):e.detail&&e.detail.key?u(e.detail.key,t):(r=e.keyIdentifier,o="",r&&(o=r in s?s[r]:c.test(r)?(r=parseInt(r.replace("U+","0x"),16),String.fromCharCode(r).toLowerCase()):r.toLowerCase()),o||(n=e.keyCode,i="",Number(n)&&(i=65<=n&&n<=90?String.fromCharCode(32+n):112<=n&&n<=123?"f"+(n-112):48<=n&&n<=57?String(n-48):96<=n&&n<=105?String(n-96):a[n]),i)||"");var n,i,r,o}function p(e,t){return n(t,e.hasModifiers)===e.key&&(!e.hasModifiers||!!t.shiftKey==!!e.shiftKey&&!!t.ctrlKey==!!e.ctrlKey&&!!t.altKey==!!e.altKey&&!!t.metaKey==!!e.metaKey)}function f(e){return e.trim().split(" ").map(function(e){return 1===(t=e).length?{combo:t,key:t,event:"keydown"}:t.split("+").reduce(function(e,t){var n=t.split(":"),i=n[0],r=n[1];return i in o?(e[o[i]]=!0,e.hasModifiers=!0):(e.key=i,e.event=r||"keydown"),e},{combo:t.split(":").shift()});var t})}Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,t){this._imperativeKeyBindings[e]=t,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,t){for(var n=f(t),i=0;i<n.length;++i)if(p(n[i],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map(function(e){return e.keyBindings});return-1===e.indexOf(this.keyBindings)&&e.push(this.keyBindings),e},_prepKeyBindings:function(){for(var e in this._keyBindings={},this._collectKeyBindings().forEach(function(e){for(var t in e)this._addKeyBinding(t,e[t])},this),this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e]);for(var t in this._keyBindings)this._keyBindings[t].sort(function(e,t){var n=e[0].hasModifiers;return n===t[0].hasModifiers?0:n?-1:1})},_addKeyBinding:function(e,t){f(e).forEach(function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,t])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(e){var t=this._keyBindings[e],n=this._onKeyBindingEvent.bind(this,t);this._boundKeyHandlers.push([this.keyEventTarget,e,n]),this.keyEventTarget.addEventListener(e,n)},this)},_unlistenKeyEventListeners:function(){for(var e,t,n,i;this._boundKeyHandlers.length;)t=(e=this._boundKeyHandlers.pop())[0],n=e[1],i=e[2],t.removeEventListener(n,i)},_onKeyBindingEvent:function(e,t){if(this.stopKeyboardEventPropagation&&t.stopPropagation(),!t.defaultPrevented)for(var n=0;n<e.length;n++){var i=e[n][0],r=e[n][1];if(p(i,t)&&(this._triggerKeyHandler(i,r,t),t.defaultPrevented))return}},_triggerKeyHandler:function(e,t,n){var i=Object.create(e);i.keyboardEvent=n;var r=new CustomEvent(e.event,{detail:i,cancelable:!0});this[t].call(this,r),r.defaultPrevented&&n.preventDefault()}}}(),function(){"use strict";Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(e){e&&e.target===this&&this.complete()},_openedChanged:function(e){if(e)this.prepare();else{var t=window.getComputedStyle(this);"0s"!==t.transitionDuration&&0!=t.opacity||this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass("opened",this.opened)}.bind(this)))}})}(),Polymer.IronOverlayManagerClass=function(){this._overlays=[],this._minimumZ=101,this._backdropElement=null,Polymer.Gestures.add(document.documentElement,"tap",null),document.addEventListener("tap",this._onCaptureClick.bind(this),!0),document.addEventListener("focus",this._onCaptureFocus.bind(this),!0),document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)},Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){return this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop")),this._backdropElement},get deepActiveElement(){for(var e=document.activeElement||document.body;e.root&&Polymer.dom(e.root).activeElement;)e=Polymer.dom(e.root).activeElement;return e},_bringOverlayAtIndexToFront:function(e){var t=this._overlays[e];if(t){var n=this._overlays.length-1,i=this._overlays[n];if(i&&this._shouldBeBehindOverlay(t,i)&&n--,!(n<=e)){var r=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(t)<=r&&this._applyOverlayZ(t,r);e<n;)this._overlays[e]=this._overlays[e+1],e++;this._overlays[n]=t}}},addOrRemoveOverlay:function(e){e.opened?this.addOverlay(e):this.removeOverlay(e)},addOverlay:function(e){var t=this._overlays.indexOf(e);if(0<=t)return this._bringOverlayAtIndexToFront(t),void this.trackBackdrop();var n=this._overlays.length,i=this._overlays[n-1],r=Math.max(this._getZ(i),this._minimumZ),o=this._getZ(e);if(i&&this._shouldBeBehindOverlay(e,i)){this._applyOverlayZ(i,r),n--;var s=this._overlays[n-1];r=Math.max(this._getZ(s),this._minimumZ)}o<=r&&this._applyOverlayZ(e,r),this._overlays.splice(n,0,e),this.trackBackdrop()},removeOverlay:function(e){var t=this._overlays.indexOf(e);-1!==t&&(this._overlays.splice(t,1),this.trackBackdrop())},currentOverlay:function(){var e=this._overlays.length-1;return this._overlays[e]},currentOverlayZ:function(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function(e){this._minimumZ=Math.max(this._minimumZ,e)},focusOverlay:function(){var e=this.currentOverlay();e&&e._applyFocus()},trackBackdrop:function(){var e=this._overlayWithBackdrop();(e||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(e)-1,this.backdropElement.opened=!!e)},getBackdrops:function(){for(var e=[],t=0;t<this._overlays.length;t++)this._overlays[t].withBackdrop&&e.push(this._overlays[t]);return e},backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function(){for(var e=0;e<this._overlays.length;e++)if(this._overlays[e].withBackdrop)return this._overlays[e]},_getZ:function(e){var t=this._minimumZ;if(e){var n=Number(e.style.zIndex||window.getComputedStyle(e).zIndex);n==n&&(t=n)}return t},_setZ:function(e,t){e.style.zIndex=t},_applyOverlayZ:function(e,t){this._setZ(e,t+2)},_overlayInPath:function(e){e=e||[];for(var t=0;t<e.length;t++)if(e[t]._manager===this)return e[t]},_onCaptureClick:function(e){var t=this.currentOverlay();t&&this._overlayInPath(Polymer.dom(e).path)!==t&&t._onCaptureClick(e)},_onCaptureFocus:function(e){var t=this.currentOverlay();t&&t._onCaptureFocus(e)},_onCaptureKeyDown:function(e){var t=this.currentOverlay();t&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(e,"esc")?t._onCaptureEsc(e):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(e,"tab")&&t._onCaptureTab(e))},_shouldBeBehindOverlay:function(e,t){return!e.alwaysOnTop&&t.alwaysOnTop}},Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass,function(){"use strict";var e=Element.prototype,t=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(e){var t=[];return this._collectTabbableNodes(e,t)?this._sortByTabIndex(t):t},isFocusable:function(e){return t.call(e,"input, select, textarea, button, object")?t.call(e,":not([disabled])"):t.call(e,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(e){return this.isFocusable(e)&&t.call(e,':not([tabindex="-1"])')&&this._isVisible(e)},_normalizedTabIndex:function(e){if(this.isFocusable(e)){var t=e.getAttribute("tabindex")||0;return Number(t)}return-1},_collectTabbableNodes:function(e,t){if(e.nodeType!==Node.ELEMENT_NODE||!this._isVisible(e))return!1;var n,i=e,r=this._normalizedTabIndex(i),o=0<r;0<=r&&t.push(i),n="content"===i.localName?Polymer.dom(i).getDistributedNodes():Polymer.dom(i.root||i).children;for(var s=0;s<n.length;s++){var a=this._collectTabbableNodes(n[s],t);o=o||a}return o},_isVisible:function(e){var t=e.style;return"hidden"!==t.visibility&&"none"!==t.display&&("hidden"!==(t=window.getComputedStyle(e)).visibility&&"none"!==t.display)},_sortByTabIndex:function(e){var t=e.length;if(t<2)return e;var n=Math.ceil(t/2),i=this._sortByTabIndex(e.slice(0,n)),r=this._sortByTabIndex(e.slice(n));return this._mergeSortByTabIndex(i,r)},_mergeSortByTabIndex:function(e,t){for(var n=[];0<e.length&&0<t.length;)this._hasLowerTabOrder(e[0],t[0])?n.push(t.shift()):n.push(e.shift());return n.concat(e,t)},_hasLowerTabOrder:function(e,t){var n=Math.max(e.tabIndex,0),i=Math.max(t.tabIndex,0);return 0===n||0===i?n<i:i<n}}}(),function(){"use strict";Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},alwaysOnTop:{type:Boolean},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__raf=null,this.__restoreFocusNode=null,this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer),this._observer=null,this.__raf&&(window.cancelAnimationFrame(this.__raf),this.__raf=null),this._manager.removeOverlay(this)},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(e){this.fire("iron-overlay-canceled",e,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(e){e?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true"),this.isAttached&&(this.__isAnimating=!0,this.__onNextAnimationFrame(this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none",this.style.zIndex="",this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none",this.style.transform=this.style.webkitTransform="none",this.style.display=""},_finishPositioning:function(){this.style.display="none",this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition="",this.style.transform=this.style.webkitTransform="",this.style.display="",this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{this._focusNode.blur(),this._focusedChild=null,this.restoreFocusOnClose&&this.__restoreFocusNode&&this.__restoreFocusNode.focus(),this.__restoreFocusNode=null;var e=this._manager.currentOverlay();e&&this!==e&&e._applyFocus()}},_onCaptureClick:function(e){this.noCancelOnOutsideClick||this.cancel(e)},_onCaptureFocus:function(e){if(this.withBackdrop){var t=Polymer.dom(e).path;-1===t.indexOf(this)?(e.stopPropagation(),this._applyFocus()):this._focusedChild=t[0]}},_onCaptureEsc:function(e){this.noCancelOnEscKey||this.cancel(e)},_onCaptureTab:function(e){if(this.withBackdrop){this.__ensureFirstLastFocusables();var t=e.shiftKey,n=t?this.__firstFocusableNode:this.__lastFocusableNode,i=t?this.__lastFocusableNode:this.__firstFocusableNode,r=!1;if(n===i)r=!0;else{var o=this._manager.deepActiveElement;r=o===n||o===this}r&&(e.preventDefault(),this._focusedChild=i,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__onNextAnimationFrame(this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var e=this._focusableNodes;this.__firstFocusableNode=e[0],this.__lastFocusableNode=e[e.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__onNextAnimationFrame:function(e){this.__raf&&window.cancelAnimationFrame(this.__raf);var t=this;this.__raf=window.requestAnimationFrame(function(){t.__raf=null,e.call(t)})}},Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]}(),Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1}},observers:["_modalChanged(modal, _readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop},_modalChanged:function(e,t){t&&(e?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(e){this.closingReason=this.closingReason||{},this.closingReason.confirmed=e},_onDialogClick:function(e){for(var t=Polymer.dom(e).path,n=0;n<t.indexOf(this);n++){var i=t[n];if(i.hasAttribute&&(i.hasAttribute("dialog-dismiss")||i.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(i.hasAttribute("dialog-confirm")),this.close(),e.stopPropagation();break}}}},Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl],Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}}),Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(e){return(this._clampValue(e)-this.min)/(this.max-this.min)},_clampValue:function(e){return Math.min(this.max,Math.max(this.min,this._calcStep(e)))},_calcStep:function(e){if(e=parseFloat(e),!this.step)return e;var t=Math.round((e-this.min)/this.step);return this.step<1?t/(1/this.step)+this.min:t*this.step+this.min},_validateValue:function(){var e=this._clampValue(this.value);return this.value=this.oldValue=isNaN(e)?this.oldValue:e,this.value!==e},_update:function(){this._validateValue(),this._setRatio(100*this._calcRatio(this.value))}},Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(e){this.toggleClass("indeterminate",e,this.$.primaryProgress)},_transformProgress:function(e,t){var n="scaleX("+t/100+")";e.style.transform=e.style.webkitTransform=n},_mainRatioChanged:function(e){this._transformProgress(this.$.primaryProgress,e)},_progressChanged:function(e,t,n,i){e=this._clampValue(e),t=this._clampValue(t);var r=100*this._calcRatio(e),o=100*this._calcRatio(t);this._setSecondaryRatio(r),this._transformProgress(this.$.secondaryProgress,r),this._transformProgress(this.$.primaryProgress,o),this.secondaryProgress=e,this.setAttribute("aria-valuenow",t),this.setAttribute("aria-valuemin",n),this.setAttribute("aria-valuemax",i)},_disabledChanged:function(e){this.setAttribute("aria-disabled",e?"true":"false")},_hideSecondaryProgress:function(e){return 0===e}}),Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:Number},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(e){if(e.target===this)this._setFocused("focus"===e.type);else if(!this.shadowRoot){var t=Polymer.dom(e).localTarget;this.isLightDescendant(t)||this.fire(e.type,{sourceEvent:e},{node:this,bubbles:e.bubbles,cancelable:e.cancelable})}},_disabledChanged:function(e,t){this.setAttribute("aria-disabled",e?"true":"false"),this.style.pointerEvents=e?"none":"",e?(this._oldTabIndex=this.tabIndex,this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(this.tabIndex=this._oldTabIndex)},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}},Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(e){this._detectKeyboardFocus(e),e||this._setPressed(!1)},_detectKeyboardFocus:function(e){this._setReceivedFocusFromKeyboard(!this.pointerDown&&e)},_userActivate:function(e){this.active!==e&&(this.active=e,this.fire("change"))},_downHandler:function(e){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(e){var t=e.detail.keyboardEvent,n=Polymer.dom(t).localTarget;this.isLightDescendant(n)||(t.preventDefault(),t.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(e){var t=e.detail.keyboardEvent,n=Polymer.dom(t).localTarget;this.isLightDescendant(n)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(e){this._changedButtonState()},_ariaActiveAttributeChanged:function(e,t){t&&t!=e&&this.hasAttribute(t)&&this.removeAttribute(t)},_activeChanged:function(e,t){this.toggles?this.setAttribute(this.ariaActiveAttribute,e?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl],function(){var s={distance:function(e,t,n,i){var r=e-n,o=t-i;return Math.sqrt(r*r+o*o)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function e(e){this.element=e,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function a(e){this.element=e,this.color=window.getComputedStyle(e).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Polymer.dom(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}e.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(e,t){var n=s.distance(e,t,0,0),i=s.distance(e,t,this.width,0),r=s.distance(e,t,0,this.height),o=s.distance(e,t,this.width,this.height);return Math.max(n,i,r,o)}},a.MAX_RADIUS=300,a.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var e;return this.mouseDownStart?(e=s.now()-this.mouseDownStart,this.mouseUpStart&&(e-=this.mouseUpElapsed),e):0},get mouseUpElapsed(){return this.mouseUpStart?s.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var e=this.containerMetrics.width*this.containerMetrics.width,t=this.containerMetrics.height*this.containerMetrics.height,n=1.1*Math.min(Math.sqrt(e+t),a.MAX_RADIUS)+5,i=1.1-n/a.MAX_RADIUS*.2,r=this.mouseInteractionSeconds/i,o=n*(1-Math.pow(80,-r));return Math.abs(o)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var e=.3*this.mouseUpElapsedSeconds,t=this.opacity;return Math.max(0,Math.min(e,t))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,a.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,a.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new e(this.element)},draw:function(){var e,t,n;this.wave.style.opacity=this.opacity,e=this.radius/(this.containerMetrics.size/2),t=this.xNow-this.containerMetrics.width/2,n=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+t+"px, "+n+"px)",this.waveContainer.style.transform="translate3d("+t+"px, "+n+"px, 0)",this.wave.style.webkitTransform="scale("+e+","+e+")",this.wave.style.transform="scale3d("+e+","+e+",1)"},downAction:function(e){var t=this.containerMetrics.width/2,n=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=s.now(),this.center?(this.xStart=t,this.yStart=n,this.slideDistance=s.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=e?e.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=e?e.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=t,this.yEnd=n,this.slideDistance=s.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(e){this.isMouseDown&&(this.mouseUpStart=s.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}},Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==this.parentNode.nodeType?this.keyEventTarget=Polymer.dom(this).getOwnerRoot().host:this.keyEventTarget=this.parentNode;var e=this.keyEventTarget;this.listen(e,"up","uiUpAction"),this.listen(e,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var e=0;e<this.ripples.length;++e)if(!this.ripples[e].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},uiDownAction:function(e){this.noink||this.downAction(e)},downAction:function(e){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(e),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(e){this.noink||this.upAction(e)},upAction:function(t){this.holdDown||(this.ripples.forEach(function(e){e.upAction(t)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire("transitionend")},addRipple:function(){var e=new a(this);return Polymer.dom(this.$.waves).appendChild(e.waveContainer),this.$.background.style.backgroundColor=e.color,this.ripples.push(e),this._setAnimating(!0),e},removeRipple:function(e){var t=this.ripples.indexOf(e);t<0||(this.ripples.splice(t,1),e.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var e,t;for(e=0;e<this.ripples.length;++e)(t=this.ripples[e]).draw(),this.$.background.style.opacity=t.outerOpacity,t.isOpacityFullyDecayed&&!t.isRestingAtMaxRadius&&this.removeRipple(t);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(e,t){void 0!==t&&(e?this.downAction():this.upAction())}})}(),Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(e){Polymer.IronButtonStateImpl._downHandler.call(this,e),this.pressed&&this.ensureRipple(e)},ensureRipple:function(e){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var t=this._rippleContainer||this.root;if(t&&Polymer.dom(t).appendChild(this._ripple),e){var n=Polymer.dom(this._rippleContainer||this),i=Polymer.dom(e).rootTarget;n.deepContains(i)&&this._ripple.uiDownAction(e)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return Boolean(this._ripple)},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(e){this.hasRipple()&&(this._ripple.noink=e)}},Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var e=1;this.disabled?e=0:this.active||this.pressed?e=4:this.receivedFocusFromKeyboard&&(e=3),this._setElevation(e)},_computeKeyboardClass:function(e){this.toggleClass("keyboard-focus",e)},_spaceKeyDownHandler:function(e){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,e),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(e){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,e),this.hasRipple()&&this._ripple.uiUpAction()}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl],Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}}),Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(e){var t=(e||"").split(":");this._iconName=t.pop(),this._iconsetName=t.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(e){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}}),Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(e){e&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=e)},_createRipple:function(){var e=Polymer.PaperRippleBehavior._createRipple();return e.id="ink",e.setAttribute("center",""),e.classList.add("circle"),e}},Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl],Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(e,t){var n=this.getAttribute("aria-label");n&&t!=n||this.setAttribute("aria-label",e)}}),Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1}},attached:function(){this.style.display="none"},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(e){return this.name+":"+e},this)},applyIcon:function(e,t){e=e.root||e,this.removeIcon(e);var n=this._cloneIcon(t,this.rtlMirroring&&this._targetIsRTL(e));if(n){var i=Polymer.dom(e);return i.insertBefore(n,i.childNodes[0]),e._svgIcon=n}return null},removeIcon:function(e){(e=e.root||e)._svgIcon&&(Polymer.dom(e).removeChild(e._svgIcon),e._svgIcon=null)},_targetIsRTL:function(e){return null==this.__targetIsRTL&&(e&&e.nodeType!==Node.ELEMENT_NODE&&(e=e.host),this.__targetIsRTL=e&&"rtl"===window.getComputedStyle(e).direction),this.__targetIsRTL},_nameChanged:function(){new Polymer.IronMeta({type:"iconset",key:this.name,value:this}),this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var t=Object.create(null);return Polymer.dom(this).querySelectorAll("[id]").forEach(function(e){t[e.id]=e}),t},_cloneIcon:function(e,t){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[e],this.size,t)},_prepareSvgClone:function(e,t,n){if(e){var i=e.cloneNode(!0),r=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=i.getAttribute("viewBox")||"0 0 "+t+" "+t,s="pointer-events: none; display: block; width: 100%; height: 100%;";return n&&i.hasAttribute("mirror-in-rtl")&&(s+="-webkit-transform:scale(-1,1);transform:scale(-1,1);"),r.setAttribute("viewBox",o),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),r.style.cssText=s,r.appendChild(i).removeAttribute("id"),r}return null}}),Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":"max-height"},hostAttributes:{role:"group","aria-hidden":"true","aria-expanded":"false"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(e,t){e="auto"===e?"":e;var n=t&&!this.noAnimation&&this.isAttached&&this._desiredSize!==e;if(this._desiredSize=e,this._updateTransition(!1),n){var i=this._calcSize();""===e&&(this.style[this._dimensionMax]="",e=this._calcSize()),this.style[this._dimensionMax]=i,this.scrollTop=this.scrollTop,this._updateTransition(!0),n=e!==i}this.style[this._dimensionMax]=e,n||this._transitionEnd()},enableTransition:function(e){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead."),this.noAnimation=!e},_updateTransition:function(e){this.style.transitionDuration=e&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;var e="maxWidth"===this._dimensionMax?"maxHeight":"maxWidth";this.style[e]="",this.updateSize(this.opened?"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-expanded",this.opened),this.setAttribute("aria-hidden",!this.opened),this._setTransitioning(!0),this.toggleClass("iron-collapse-closed",!1),this.toggleClass("iron-collapse-opened",!1),this.updateSize(this.opened?"auto":"0px",!0),this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize,this.toggleClass("iron-collapse-closed",!this.opened),this.toggleClass("iron-collapse-opened",this.opened),this._updateTransition(!1),this.notifyResize(),this._setTransitioning(!1)},_onTransitionEnd:function(e){Polymer.dom(e).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}}),Polymer({is:"testrtc-suite",properties:{state:{value:"pending",reflectToAttribute:!0},tests:{type:Array,value:function(){return[]}}},_iconForState:function(e){return"failure"===e?"close":"warning"===e?"warning":"success"===e?"check":"running"===e?"more-horiz":""},toggle:function(){this.$.collapse.toggle()},addTest:function(e,t){var n=document.createElement("testrtc-test");n.name=e,n.testFunction=t,Polymer.dom(this.$.collapse).appendChild(n),this.tests.push(n)},run:function(e){this.opened=!0,this.state="running",runAllSequentially(this.tests,this.allTestsFinished.bind(this,e))},allTestsFinished:function(e){for(var t=0,n=0,i=0,r=0;r!==this.tests.length;++r)t+=this.tests[r].errorCount,n+=this.tests[r].warningCount,i+=this.tests[r].successCount;0===t&&0===n&&0<i?(this.state="success",this.opened=!1):(this.state=0===t&&0<n?"warning":"failure",this.opened=!0),e()}});var interval=0;Polymer({is:"line-chart",x:[],y:[],yScale:[0,600],yLabels:[0,50,100,150,200,250,300,350,400,450,500],xStart:null,xOffset:null,lastSlowRender:null,addDatapoint:function(e,t){var n=window.performance.now();this.ctx=this.$.canvas.getContext("2d");var i=this.x.length;this.x.push(e/100*2),this.y.push(this.calculateY(t));var r=this.x[i]-this.xStart;if(null===this.xStart||r>this.$.canvas.width)this.setupChart(),this.xStart=this.x[i]-this.xOffset;else{var o=this.x[i-1]-this.xStart;this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle=this.dotColor(this.y[i-1]),this.ctx.fillRect(o-1.5,this.y[i-1]-1.5,3,3),this.ctx.moveTo(o,this.y[i-1]),this.ctx.lineTo(r,this.y[i]),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()}var s=window.performance.now();this.maybeAlertAboutRenderPerformance(s-n)},maybeAlertAboutRenderPerformance:function(e){if(!(e<5)){var t=window.performance.now();(null===this.lastSlowRender||5e3<t-this.lastSlowRender)&&(this.lastSlowRender=t,console.log("Updating the graph was slow and might affect results. Graph update took "+e+" ms"))}},setupChart:function(){this.ctx.clearRect(0,0,this.$.canvas.width,this.$.canvas.height),this.ctx.lineWidth=window.devicePixelRatio,this.ctx.strokeStyle="grey",this.ctx.save(),this.ctx.lineWidth=window.devicePixelRatio,this.ctx.strokeStyle="lightgray",this.ctx.lineWidth%2&&this.ctx.translate(.5,.5),this.ctx.textAlign="right",this.ctx.textBaseline="middle",this.ctx.beginPath();for(var e=this.xOffset=0;e!=this.yLabels.length;e++){var t=this.yLabels[e]+" ms ",n=this.ctx.measureText(t).width;this.xOffset=Math.max(this.xOffset,n)}for(e=0;e!=this.yLabels.length;e++){var i=this.calculateY(this.yLabels[e]);this.ctx.moveTo(this.xOffset-3,i),e%2==1?this.ctx.lineTo(this.xOffset+3,i):this.ctx.lineTo(this.$.canvas.width,i)}var r=this.calculateY(this.yLabels[this.yLabels.length-1]),o=this.calculateY(0);this.ctx.moveTo(this.xOffset,r),this.ctx.lineTo(this.xOffset,o),this.ctx.lineTo(this.$.canvas.width-1,o),this.ctx.lineTo(this.$.canvas.width-1,r),this.ctx.stroke(),this.ctx.closePath();for(e=0;e!=this.yLabels.length;e++){i=this.calculateY(this.yLabels[e]);e%2==0&&this.ctx.fillText(this.yLabels[e]+" ms ",this.xOffset,i)}this.ctx.restore()},dotColor:function(e){return e<300?"green":"red"},calculateY:function(e){e>this.yScale[1]&&(e=this.yScale[1]-10);var t=(e-this.yScale[0])/(this.yScale[1]-this.yScale[0]);return this.$.canvas.height*(1-t)-5}});var currentTest,PREFIX_INFO="[   INFO ]",PREFIX_OK="[     OK ]",PREFIX_FAILED="[ FAILED ]",PREFIX_WARNING="[   WARN ]";function createLineChart(){return currentTest.createLineChart()}function reportSuccess(e){currentTest.reportSuccess(e)}function reportError(e){currentTest.reportError(e)}function reportFatal(e){currentTest.reportFatal(e)}function reportWarning(e){currentTest.reportWarning(e)}function reportInfo(e){currentTest.reportInfo(e)}function setTestProgress(e){currentTest.setProgress(e)}function setTestFinished(){currentTest.done()}function expectEquals(){currentTest.expectEquals.apply(currentTest,arguments)}function setTimeoutWithProgressBar(e,t){var n=window.performance.now(),i=setInterval(function(){setTestProgress(100*(window.performance.now()-n)/t)},100),r=function(){clearInterval(i),setTestProgress(100),e()},o=setTimeout(r,t);return function(){clearTimeout(o),r()}}function Report(){this.output_=[],this.nextAsyncId_=0,this.nativeLog_=console.log.bind(console),console.log=this.logHook_.bind(this),window.addEventListener("error",this.onWindowError_.bind(this)),this.traceEventInstant("system-info",Report.getSystemInfo())}Polymer({is:"testrtc-test",properties:{name:{type:String},testFunction:{type:Function},settings:{type:Object,value:function(){return{}}},state:{value:"unknown",reflectToAttribute:!0},progressValue:{value:null},output:{type:Array,value:function(){return[]}}},ready:function(){this.reportMessage_(PREFIX_INFO,"Test not run yet.")},_inProgress:function(e){return null!==e},_iconForState:function(e){return"running"===e?"more-horiz":"success"===e?"check":"warning"===e?"warning":"failure"===e?"close":""},toggle:function(){this.$.collapse_test.toggle()},run:function(e){this.settings=document.getElementsByTagName("testrtc-main")[0].settings,this.successCount=0,this.warningCount=0,this.errorCount=0,this.doneCallback_=e,this.output=[],this.clearPlots(),this.setProgress(null),this.traceTestEvent=report.traceEventAsync("test-run"),(currentTest=this).state="running",this.traceTestEvent({name:this.name,status:this.state}),this.isDisabled?(this.reportInfo("Test is disabled."),this.done()):this.testFunction(this)},done:function(){"running"===this.state&&(this.setProgress(null),this.errorCount+this.warningCount===0&&0<this.successCount?this.state="success":0<this.warningCount&&0===this.errorCount?this.state="warning":this.isDisabled?this.state="disabled":this.state="failure",this.traceTestEvent({status:this.state}),report.logTestRunResult(this.name,this.state),this.doneCallback_())},setProgress:function(e){this.progressValue=e},expectEquals:function(e,t,n,i){e!==t?this.reportError("Failed expectation: "+e+" !== "+t+": "+n):i&&this.reportSuccess(i)},reportSuccess:function(e){this.reportMessage_(PREFIX_OK,e),this.successCount++,this.traceTestEvent({success:e})},reportError:function(e){this.reportMessage_(PREFIX_FAILED,e),this.errorCount++,this.traceTestEvent({error:e})},reportWarning:function(e){this.reportMessage_(PREFIX_WARNING,e),this.warningCount++,this.traceTestEvent({warning:e})},reportInfo:function(e){this.reportMessage_(PREFIX_INFO,e),this.traceTestEvent({info:e})},reportFatal:function(e){this.reportError(e),this.done()},reportMessage_:function(e,t){this.output=[].concat(this.output,[{prefix:e,message:t}])},clearPlots:function(){for(;null!==this.$.plot.lastElementChild;)Polymer.dom(this.$.plot).removeChild(this.$.plot.lastElementChild)},createLineChart:function(){var e=document.createElement("line-chart");return Polymer.dom(this.$.plot).appendChild(e),this.$.collapse_test.opened=!0,e}}),Polymer({is:"gum-handler",properties:{pending:{type:Boolean,value:!0,notify:!0},error:{type:Object,value:!1,notify:!0},getUserMedia:{type:Function,value:function(){return navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices)}},enumerateDevices:{type:Function,value:function(){return navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices)}}},ready:function(){"undefined"!==this.getUserMedia?this.triggerGetUserMedia_():this.error="NotSupported"},triggerGetUserMedia_:function(){0!=this.pending&&this.enumerateDevices().then(this.triggerGetUserMediaBasedOnSources_.bind(this)).catch(function(e){console.log("JS Device selection not supported",e),this.triggerGetUserMediaBasedOnSources_([])}.bind(this))},triggerGetUserMediaBasedOnSources_:function(e){var t={};if(0===e.length)t={audio:!0,video:!0};else for(var n=0;n<e.length;n++)"audioinput"===e[n].kind&&(t.audio=!0),"videoinput"===e[n].kind&&(t.video=!0);this.getUserMedia(t).then(function(e){for(var t=0;t<e.getVideoTracks().length;t++)e.getVideoTracks()[t].stop();for(var n=0;n<e.getAudioTracks().length;n++)e.getAudioTracks()[n].stop();this.pending=!1,this.error=!1}.bind(this)).catch(function(e){this.error=e,setTimeout(this.triggerGetUserMedia_.bind(this),1e3)}.bind(this))}}),Polymer({is:"gum-dialog",ready:function(){setTimeout(this.$.dialog.refit.bind(this.$.dialog),0)},_createBugReport:function(){this.fire("bug-report")},_isNotSupported:function(e){return"NotSupported"===e},_isPermissionDenied:function(e){return"PermissionDeniedError"===e},_isDevicesNotFound:function(e){return"DevicesNotFoundError"===e},properties:{pending:{type:Boolean,notify:!0},heading:{type:String}}}),Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){this.fire("iron-form-element-register")},detached:function(){this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}},function(){"use strict";Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this),document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(e){this._text="",this.async(function(){this._text=e},100)},_onIronAnnounce:function(e){e.detail&&e.detail.text&&this.announce(e.detail.text)}}),Polymer.IronA11yAnnouncer.instance=null,Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")),document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}}(),Polymer.IronValidatableBehaviorMeta=null,Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},hasValidator:function(){return null!=this._validator},validate:function(e){return this.invalid=!this._getValidity(e),!this.invalid},_getValidity:function(e){return!this.hasValidator()||this._validator.validate(e)},__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}},Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1}},listeners:{input:"_onInput",keypress:"_onKeypress"},registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=this._dispatchEventFirefoxIE)},created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},_canDispatchEventOnDisabled:function(){var e=document.createElement("input"),t=!1;e.disabled=!0,e.addEventListener("feature-check-dispatch-event",function(){t=!0});try{e.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(e){}return t},_dispatchEventFirefoxIE:function(e){var t=this.disabled;this.disabled=!1;var n=this._origDispatchEvent(e);return this.disabled=t,n},get _patternRegExp(){var e;if(this.allowedPattern)e=new RegExp(this.allowedPattern);else switch(this.type){case"number":e=/[0-9.,e-]/}return e},ready:function(){this.bindValue=this.value},_bindValueChanged:function(){this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:""),this.fire("bind-value-changed",{value:this.bindValue})},_allowedPatternChanged:function(){this.preventInvalidInput=!!this.allowedPattern},_onInput:function(){this.preventInvalidInput&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.value=this._previousValidInput));this.bindValue=this.value,this._previousValidInput=this.value,this._patternAlreadyChecked=!1},_isPrintable:function(e){var t=8==e.keyCode||9==e.keyCode||13==e.keyCode||27==e.keyCode,n=19==e.keyCode||20==e.keyCode||45==e.keyCode||46==e.keyCode||144==e.keyCode||145==e.keyCode||32<e.keyCode&&e.keyCode<41||111<e.keyCode&&e.keyCode<124;return!(t||0==e.charCode&&n)},_onKeypress:function(e){if(this.preventInvalidInput||"number"===this.type){var t=this._patternRegExp;if(t&&!(e.metaKey||e.ctrlKey||e.altKey)){this._patternAlreadyChecked=!0;var n=String.fromCharCode(e.charCode);this._isPrintable(e)&&!t.test(n)&&(e.preventDefault(),this._announceInvalidCharacter("Invalid character "+n+" not entered."))}}},_checkPatternValidity:function(){var e=this._patternRegExp;if(!e)return!0;for(var t=0;t<this.value.length;t++)if(!e.test(this.value[t]))return!1;return!0},validate:function(){var e=this.checkValidity();return e&&(this.required&&""===this.value?e=!1:this.hasValidator()&&(e=Polymer.IronValidatableBehavior.validate.call(this,this.value))),this.invalid=!e,this.fire("iron-input-validate"),e},_announceInvalidCharacter:function(e){this.fire("iron-announce",{text:e})}}),Polymer.PaperInputHelper={},Polymer.PaperInputHelper.NextLabelID=1,Polymer.PaperInputHelper.NextAddonID=1,Polymer.PaperInputHelper.NextInputID=1,Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$||(this.$={}),this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId)),this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function(){this._updateAriaLabelledBy(),this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(e,t){return e=e?e+" "+t:t},_onAddonAttached:function(e){var t=e.path?e.path[0]:e.target;if(t.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,t.id);else{var n="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;t.id=n,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,n)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(e){Polymer.IronControlState._focusBlurHandler.call(this,e),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(e){var t=this.getAttribute("tabindex");this._shiftTabPressed=!0,this.setAttribute("tabindex","-1"),this.async(function(){this.setAttribute("tabindex",t),this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(t){try{var e=this.inputElement.selectionStart;this.value=t,this.inputElement.selectionStart=e,this.inputElement.selectionEnd=e}catch(e){this.value=t}},_computeAlwaysFloatLabel:function(e,t){return t||e},_updateAriaLabelledBy:function(){var e,t=Polymer.dom(this.root).querySelector("label");t?(t.id?e=t.id:(e="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,t.id=e),this._ariaLabelledBy=e):this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++)},_onChange:function(e){this.shadowRoot&&this.fire(e.type,{sourceEvent:e},{node:this,bubbles:e.bubbles,cancelable:e.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var e=document.activeElement;e instanceof HTMLElement&&e!==document.body&&e!==document.documentElement||this._focusableElement.focus()}}},Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl],Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(e){}},Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(e){if(e.inputElement){e.value=e.value||"";var t=e.value.toString().length.toString();e.inputElement.hasAttribute("maxlength")&&(t+="/"+e.inputElement.getAttribute("maxlength")),this._charCounterStr=t}}}),Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]),this.addEventListener("focus",this._boundOnFocus,!0),this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput),""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(e){this._addons||(this._addons=[]);var t=e.target;-1===this._addons.indexOf(t)&&(this._addons.push(t),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(e){this._handleValueAndAutoValidate(e.target)},_onValueChanged:function(e){this._handleValueAndAutoValidate(e.target)},_handleValue:function(e){var t=this._inputElementValue;t||0===t||"number"===e.type&&!e.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1,this.updateAddons({inputElement:e,value:t,invalid:this.invalid})},_handleValueAndAutoValidate:function(e){var t;this.autoValidate&&(t=e.validate?e.validate(this._inputElementValue):e.checkValidity(),this.invalid=!t);this._handleValue(e)},_onIronInputValidate:function(e){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(e){for(var t,n=0;t=this._addons[n];n++)t.update(e)},_computeInputContentClass:function(e,t,n,i,r){var o="input-content";if(e)r&&(o+=" label-is-hidden"),i&&(o+=" is-invalid");else{var s=this.querySelector("label");t||r?(o+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",i?o+=" is-invalid":n&&(o+=" label-is-highlighted")):(s&&(this.$.labelAndInputContainer.style.position="relative"),i&&(o+=" is-invalid"))}return n&&(o+=" focused"),o},_computeUnderlineClass:function(e,t){var n="underline";return t?n+=" is-invalid":e&&(n+=" is-highlighted"),n},_computeAddOnContentClass:function(e,t){var n="add-on-content";return t?n+=" is-invalid":e&&(n+=" is-highlighted"),n}}),Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(e){this._setInvalid(e.invalid)}}),Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]}),Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{bindValue:{observer:"_bindValueChanged",type:String},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},maxlength:{type:Number}},listeners:{input:"_onInput"},observers:["_onValueChanged(value)"],get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(e){this.$.textarea.selectionStart=e},set selectionEnd(e){this.$.textarea.selectionEnd=e},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},validate:function(){return this.required||""!=this.value?(this.hasValidator()?e=Polymer.IronValidatableBehavior.validate.call(this,this.value):(e=this.$.textarea.validity.valid,this.invalid=!e),this.fire("iron-input-validate"),e):!(this.invalid=!1);var e},_bindValueChanged:function(){var e=this.textarea;e&&(e.value!==this.bindValue&&(e.value=this.bindValue||0===this.bindValue?this.bindValue:""),this.value=this.bindValue,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(e){this.bindValue=e.path?e.path[0].value:e.target.value},_constrain:function(e){var t;for(e=e||[""],t=0<this.maxRows&&e.length>this.maxRows?e.slice(0,this.maxRows):e.slice(0);0<this.rows&&t.length<this.rows;)t.push("");return t.join("<br/>")+"&#160;"},_valueForMirror:function(){var e=this.textarea;if(e)return this.tokens=e&&e.value?e.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)},_onValueChanged:function(){this.bindValue=this.value}}),Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(e){this._focusableElement.setAttribute("aria-labelledby",e)},_ariaDescribedByChanged:function(e){this._focusableElement.setAttribute("aria-describedby",e)},get _focusableElement(){return this.inputElement.textarea}}),Report.prototype={traceEventInstant:function(e,t){this.output_.push({ts:Date.now(),name:e,args:t})},traceEventWithId:function(e,t,n){this.output_.push({ts:Date.now(),name:e,id:t,args:n})},traceEventAsync:function(e){return this.traceEventWithId.bind(this,e,this.nextAsyncId_++)},logTestRunResult:function(e,t){ga("send",{hitType:"event",eventCategory:"Test",eventAction:t,eventLabel:e,nonInteraction:1})},generate:function(e){var t={title:"WebRTC Troubleshooter bug report",description:e||null};return this.getContent_(t)},getContent_:function(e){var t=[];return this.appendEventsAsString_([e],t),this.appendEventsAsString_(this.output_,t),"["+t.join(",\n")+"]"},appendEventsAsString_:function(e,t){for(var n=0;n!==e.length;++n)t.push(JSON.stringify(e[n]))},onWindowError_:function(e){this.traceEventInstant("error",{message:e.message,filename:e.filename+":"+e.lineno})},logHook_:function(){this.traceEventInstant("log",arguments),this.nativeLog_.apply(null,arguments)}},Report.getSystemInfo=function(){var e,t,n,i=navigator.userAgent,r=navigator.appName,o=""+parseFloat(navigator.appVersion);return-1!==(t=i.indexOf("Chrome"))?(r="Chrome",o=i.substring(t+7)):-1!==(t=i.indexOf("MSIE"))?(r="Microsoft Internet Explorer",o=i.substring(t+5)):-1!==(t=i.indexOf("Trident"))?(r="Microsoft Internet Explorer",o=i.substring(t+8)):-1!==(t=i.indexOf("Firefox"))?r="Firefox":-1!==(t=i.indexOf("Safari"))?(r="Safari",o=i.substring(t+7),-1!==(t=i.indexOf("Version"))&&(o=i.substring(t+8))):(e=i.lastIndexOf(" ")+1)<(t=i.lastIndexOf("/"))&&(r=i.substring(e,t),o=i.substring(t+1),r.toLowerCase()===r.toUpperCase()&&(r=navigator.appName)),-1!==(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!==(n=o.indexOf(" "))&&(o=o.substring(0,n)),{browserName:r,browserVersion:o,platform:navigator.platform}};var report=new Report;function parseUrlParameters(){var e={};if(""!==window.location.search)for(var t=window.location.search.replace(/\//g,"").substr(1).split("&"),n=0;n!==t.length;++n){var i=t[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}Polymer({is:"report-dialog",open:function(){window.a=this.$.mainDialog,this.$.mainDialog.open()},download:function(){var e=report.generate(this.description),t=encodeURIComponent(e),n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+t),n.setAttribute("download","testrtc-"+(new Date).toJSON()+".log"),n.click()},upload:function(){this.submitting=!0;var e=new XMLHttpRequest;e.open("HEAD","/report/new",!0),e.addEventListener("load",this.onGetUploadUrl_.bind(this),!1),e.send(null)},onGetUploadUrl_:function(e){if(200===e.currentTarget.status){var t="testrtc-"+(new Date).toJSON()+".log",n=report.generate(this.description),i=new Blob([n],{type:"text/plain"}),r=new FormData;r.append(t,i,t);var o=e.currentTarget.getResponseHeader("response-text"),s=new XMLHttpRequest;s.open("POST",o,!0),s.setRequestHeader("X-File-Name",t),s.addEventListener("load",this.onUploadFile_.bind(this),!1),s.send(r)}else this.reportError=e.currentTarget.status,report.traceEventInstant("log-error",{error:this.reportError}),this.$.failure.open()},onUploadFile_:function(e){200===e.currentTarget.status?(this.reportUrl=e.currentTarget.getResponseHeader("response-text"),report.traceEventInstant("log-uploaded",{url:this.reportUrl}),this.$.success.open()):(this.reportError=e.currentTarget.status,report.traceEventInstant("log-error",{error:this.reportError}),this.$.failure.open())},closeFail:function(){this.submitting=!1},closeSuccess:function(){this.submitting=!1,this.description="",this.$.mainDialog.close()}}),Polymer({is:"testrtc-main",properties:{settings:{type:Object,value:function(){return parseUrlParameters()}}},_updateLink:function(){var e=window.location,t=[];for(var n in this.settings)""!==this.settings[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(this.settings[n]));var i=0!=t.length?"?"+t.join("&"):"";this._link=e.protocol+"//"+e.host+e.pathname+i},observers:["_pendingChanged(pending)","_updateLink(settings.*)"],listeners:{"bug-report":"openBugReport"},_pendingChanged:function(e){this.traceEnumDevice=report.traceEventAsync("enumerateDevices"),adapter.disableLog(!0),!1===e&&(navigator.mediaDevices.enumerateDevices().then(this.gotSources.bind(this)).catch(function(e){console.log("JS Device selection not supported",e)}),window.doGetUserMedia=this.doGetUserMedia.bind(this),this.$.startButton.removeAttribute("disabled"))},gotSources:function(e){for(var t=0;t!==e.length;++t){var n=e[t],i=document.createElement("option");i.value=n.deviceId,this.appendOption(n,i)}},appendOption:function(e,t){"audioinput"===e.kind?(t.text=e.label||"microphone "+(this.$.audioSource.length+1),this.$.audioSource.appendChild(t)):"videoinput"===e.kind?(t.text=e.label||"camera "+(this.$.videoSource.length+1),this.$.videoSource.appendChild(t)):this.traceEnumDevice("Some other kind of source: "+e.kind)},doGetUserMedia:function(e,i,t){var r=this,o=report.traceEventAsync("getusermedia");try{this.appendSourceId(this.$.audioSource.value,"audio",e),this.appendSourceId(this.$.videoSource.value,"video",e),o({status:"pending",constraints:e}),navigator.mediaDevices.getUserMedia(e).then(function(e){var t=r.getDeviceName_(e.getVideoTracks()),n=r.getDeviceName_(e.getAudioTracks());o({status:"success",camera:t,microphone:n}),i.apply(this,arguments)}).catch(function(e){o({status:"fail",error:e}),t?t.apply(this,arguments):reportFatal("Failed to get access to local media due to error: "+e.name)})}catch(e){return console.log(e),o({status:"exception",error:e.message}),reportFatal("getUserMedia failed with exception: "+e.message)}},appendSourceId:function(e,t,n){!0===n[t]?n[t]={optional:[{sourceId:e}]}:"object"==typeof n[t]&&(void 0===n[t].optional&&(n[t].optional=[]),n[t].optional.push({sourceId:e}))},getDeviceName_:function(e){return 0===e.length?null:e[0].label},run:function(){var e=this;this.$.startButton.setAttribute("disabled",null),runAllSequentially(enumeratedTestSuites,function(){e.$.startButton.removeAttribute("disabled")})},openBugReport:function(){this.pending=!1,this.$.bugreport.open()},openSettingsDialog:function(){this.$.settings.open()}});try{window.AudioContext=window.AudioContext||window.webkitAudioContext;var audioContext=new AudioContext}catch(e){console.log("Failed to instantiate an audio context, error: "+e)}var enumeratedTestSuites=[],enumeratedTestFilters=[];function addTest(e,t,n){if(!isTestDisabled(t)){for(var i=0;i!==enumeratedTestSuites.length;++i)if(enumeratedTestSuites[i].name===e)return void enumeratedTestSuites[i].addTest(t,n);var r=document.createElement("testrtc-suite");r.name=e,r.addTest(t,n),enumeratedTestSuites.push(r),document.getElementById("content").appendChild(r)}}function addExplicitTest(e,t,n){isTestExplicitlyEnabled(t)&&addTest(e,t,n)}function isTestDisabled(e){return 0!==enumeratedTestFilters.length&&!isTestExplicitlyEnabled(e)}function isTestExplicitlyEnabled(e){for(var t=0;t!==enumeratedTestFilters.length;++t)if(enumeratedTestFilters[t]===e)return!0;return!1}var parameters=parseUrlParameters(),filterParameterName="test_filter";function Call(e,t){this.test=t,this.traceEvent=report.traceEventAsync("call"),this.traceEvent({config:e}),this.statsGatheringRunning=!1,this.pc1=new RTCPeerConnection(e),this.pc2=new RTCPeerConnection(e),this.pc1.addEventListener("icecandidate",this.onIceCandidate_.bind(this,this.pc2)),this.pc2.addEventListener("icecandidate",this.onIceCandidate_.bind(this,this.pc1)),this.iceCandidateFilter_=Call.noFilter}function StatisticsAggregate(e){this.startTime_=0,this.sum_=0,this.count_=0,this.max_=0,this.rampUpThreshold_=e,this.rampUpTime_=1/0}function Ssim(){}function VideoFrameChecker(e){this.frameStats={numFrozenFrames:0,numBlackFrames:0,numFrames:0},this.running_=!0,this.nonBlackPixelLumaThreshold=20,this.previousFrame_=[],this.identicalFrameSsimThreshold=.985,this.frameComparator=new Ssim,this.canvas_=document.createElement("canvas"),this.videoElement_=e,this.listener_=this.checkVideoFrame_.bind(this),this.videoElement_.addEventListener("play",this.listener_,!1)}function arrayAverage(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];return Math.floor(n/t)}function arrayMax(e){return 0===e.length?NaN:Math.max.apply(Math,e)}function arrayMin(e){return 0===e.length?NaN:Math.min.apply(Math,e)}function enumerateStats(e,n,i){var r={audio:{local:{audioLevel:0,bytesSent:0,clockRate:0,codecId:"",mimeType:"",packetsSent:0,payloadType:0,timestamp:0,trackId:"",transportId:""},remote:{audioLevel:0,bytesReceived:0,clockRate:0,codecId:"",fractionLost:0,jitter:0,mimeType:"",packetsLost:-1,packetsReceived:0,payloadType:0,timestamp:0,trackId:"",transportId:""}},video:{local:{bytesSent:0,clockRate:0,codecId:"",firCount:0,framesEncoded:0,frameHeight:0,framesSent:-1,frameWidth:0,nackCount:0,packetsSent:-1,payloadType:0,pliCount:0,qpSum:0,timestamp:0,trackId:"",transportId:""},remote:{bytesReceived:-1,clockRate:0,codecId:"",firCount:-1,fractionLost:0,frameHeight:0,framesDecoded:0,framesDropped:0,framesReceived:0,frameWidth:0,nackCount:-1,packetsLost:-1,packetsReceived:0,payloadType:0,pliCount:-1,qpSum:0,timestamp:0,trackId:"",transportId:""}},connection:{availableOutgoingBitrate:0,bytesReceived:0,bytesSent:0,consentRequestsSent:0,currentRoundTripTime:0,localCandidateId:"",localCandidateType:"",localIp:"",localPort:0,localPriority:0,localProtocol:"",remoteCandidateId:"",remoteCandidateType:"",remoteIp:"",remotePort:0,remotePriority:0,remoteProtocol:"",requestsReceived:0,requestsSent:0,responsesReceived:0,responsesSent:0,timestamp:0,totalRoundTripTime:0}};return e&&(e.forEach(function(e,t){switch(e.type){case"outbound-rtp":e.hasOwnProperty("trackId")&&(1!==e.trackId.indexOf(n.audio)&""!==n.audio?(r.audio.local.bytesSent=e.bytesSent,r.audio.local.codecId=e.codecId,r.audio.local.packetsSent=e.packetsSent,r.audio.local.timestamp=e.timestamp,r.audio.local.trackId=e.trackId,r.audio.local.transportId=e.transportId):1!==e.trackId.indexOf(n.video)&""!==n.video&&(r.video.local.bytesSent=e.bytesSent,r.video.local.codecId=e.codecId,r.video.local.firCount=e.firCount,r.video.local.framesEncoded=e.framesEncoded,r.video.local.framesSent=e.framesSent,r.video.local.packetsSent=e.packetsSent,r.video.local.pliCount=e.pliCount,r.video.local.qpSum=e.qpSum,r.video.local.timestamp=e.timestamp,r.video.local.trackId=e.trackId,r.video.local.transportId=e.transportId));break;case"inbound-rtp":e.hasOwnProperty("trackId")&&(1!==e.trackId.indexOf(i.audio)&""!==i.audio&&(r.audio.remote.bytesReceived=e.bytesReceived,r.audio.remote.codecId=e.codecId,r.audio.remote.fractionLost=e.fractionLost,r.audio.remote.jitter=e.jitter,r.audio.remote.packetsLost=e.packetsLost,r.audio.remote.packetsReceived=e.packetsReceived,r.audio.remote.timestamp=e.timestamp,r.audio.remote.trackId=e.trackId,r.audio.remote.transportId=e.transportId),1!==e.trackId.indexOf(i.video)&""!==i.video&&(r.video.remote.bytesReceived=e.bytesReceived,r.video.remote.codecId=e.codecId,r.video.remote.firCount=e.firCount,r.video.remote.fractionLost=e.fractionLost,r.video.remote.nackCount=e.nackCount,r.video.remote.packetsLost=e.packetsLost,r.video.remote.packetsReceived=e.packetsReceived,r.video.remote.pliCount=e.pliCount,r.video.remote.qpSum=e.qpSum,r.video.remote.timestamp=e.timestamp,r.video.remote.trackId=e.trackId,r.video.remote.transportId=e.transportId));break;case"candidate-pair":e.hasOwnProperty("availableOutgoingBitrate")&&(r.connection.availableOutgoingBitrate=e.availableOutgoingBitrate,r.connection.bytesReceived=e.bytesReceived,r.connection.bytesSent=e.bytesSent,r.connection.consentRequestsSent=e.consentRequestsSent,r.connection.currentRoundTripTime=e.currentRoundTripTime,r.connection.localCandidateId=e.localCandidateId,r.connection.remoteCandidateId=e.remoteCandidateId,r.connection.requestsReceived=e.requestsReceived,r.connection.requestsSent=e.requestsSent,r.connection.responsesReceived=e.responsesReceived,r.connection.responsesSent=e.responsesSent,r.connection.timestamp=e.timestamp,r.connection.totalRoundTripTime=e.totalRoundTripTime);break;default:return}}.bind()),e.forEach(function(e){switch(e.type){case"track":e.hasOwnProperty("trackIdentifier")&&(1!==e.trackIdentifier.indexOf(n.video)&""!==n.video&&(r.video.local.frameHeight=e.frameHeight,r.video.local.framesSent=e.framesSent,r.video.local.frameWidth=e.frameWidth),1!==e.trackIdentifier.indexOf(i.video)&""!==i.video&&(r.video.remote.frameHeight=e.frameHeight,r.video.remote.framesDecoded=e.framesDecoded,r.video.remote.framesDropped=e.framesDropped,r.video.remote.framesReceived=e.framesReceived,r.video.remote.frameWidth=e.frameWidth),1!==e.trackIdentifier.indexOf(n.audio)&""!==n.audio&&(r.audio.local.audioLevel=e.audioLevel),1!==e.trackIdentifier.indexOf(i.audio)&""!==i.audio&&(r.audio.remote.audioLevel=e.audioLevel));break;case"codec":e.hasOwnProperty("id")&&(1!==e.id.indexOf(r.audio.local.codecId)&""!==n.audio&&(r.audio.local.clockRate=e.clockRate,r.audio.local.mimeType=e.mimeType,r.audio.local.payloadType=e.payloadType),1!==e.id.indexOf(r.audio.remote.codecId)&""!==i.audio&&(r.audio.remote.clockRate=e.clockRate,r.audio.remote.mimeType=e.mimeType,r.audio.remote.payloadType=e.payloadType),1!==e.id.indexOf(r.video.local.codecId)&""!==n.video&&(r.video.local.clockRate=e.clockRate,r.video.local.mimeType=e.mimeType,r.video.local.payloadType=e.payloadType),1!==e.id.indexOf(r.video.remote.codecId)&""!==i.video&&(r.video.remote.clockRate=e.clockRate,r.video.remote.mimeType=e.mimeType,r.video.remote.payloadType=e.payloadType));break;case"local-candidate":e.hasOwnProperty("id")&&-1!==e.id.indexOf(r.connection.localCandidateId)&&(r.connection.localIp=e.ip,r.connection.localPort=e.port,r.connection.localPriority=e.priority,r.connection.localProtocol=e.protocol,r.connection.localType=e.candidateType);break;case"remote-candidate":e.hasOwnProperty("id")&&-1!==e.id.indexOf(r.connection.remoteCandidateId)&&(r.connection.remoteIp=e.ip,r.connection.remotePort=e.port,r.connection.remotePriority=e.priority,r.connection.remoteProtocol=e.protocol,r.connection.remoteType=e.candidateType);break;default:return}}.bind())),r}function BandwidthCall(e,t){this.test=t,this.traceEvent=report.traceEventAsync("bandwidthcall"),this.traceEvent({config:e}),this.statsGatheringRunning=!1,this.pc1=new RTCPeerConnection(e),this.pc2=new RTCPeerConnection(e),this.pc1.addEventListener("icecandidate",this.onIceCandidate_.bind(this,this.pc2)),this.pc2.addEventListener("icecandidate",this.onIceCandidate_.bind(this,this.pc1)),this.iceCandidateFilter_=BandwidthCall.noFilter}function TestCaseNames(){return this.testCases={PORTTEST:"Port Test",AUDIOCAPTURE:"Audio capture",CHECKRESOLUTION240:"Check resolution 320x240",CHECKRESOLUTION480:"Check resolution 640x480",CHECKRESOLUTION720:"Check resolution 1280x720",CHECKSUPPORTEDRESOLUTIONS:"Check supported resolutions",DATATHROUGHPUT:"Data throughput",IPV6ENABLED:"Ipv6 enabled",NETWORKLATENCY:"Network latency",NETWORKLATENCYRELAY:"Network latency - Relay",UDPENABLED:"Udp enabled",TCPENABLED:"Tcp enabled",VIDEOBANDWIDTH:"Video bandwidth",RELAYCONNECTIVITY:"Relay connectivity",REFLEXIVECONNECTIVITY:"Reflexive connectivity",HOSTCONNECTIVITY:"Host connectivity",APITEST:"API",JABBERTEST:"XMPP",TURNSERVERTEST:"Turn",DOWNLOADSPEEDTEST:"Download Speed Test",WEBSOCKETTEST:"WS",VIDEOTEST:"Video",STORAGETEST:"Storage",ANALYTICSTEST:"Analytics",UPLINKTEST:"Uplink",DOWNLINKTEST:"Downlink"},this.testCases}filterParameterName in parameters&&(enumeratedTestFilters=parameters[filterParameterName].split(",")),Call.prototype={establishConnection:function(){this.traceEvent({state:"start"}),this.pc1.createOffer().then(this.gotOffer_.bind(this),this.test.reportFatal.bind(this.test))},close:function(){this.traceEvent({state:"end"}),this.pc1.close(),this.pc2.close()},setIceCandidateFilter:function(e){this.iceCandidateFilter_=e},constrainVideoBitrate:function(e){this.constrainVideoBitrateKbps_=e},disableVideoFec:function(){this.constrainOfferToRemoveVideoFec_=!0},gatherStats:function(e,t,n,i){var r=[],o=[],s=[],a=[],c=this,l=100;function d(){if("closed"===e.signalingState)return c.statsGatheringRunning=!1,void i(r,s,o,a);e.getStats().then(u).catch(function(e){c.test.reportError("Could not gather stats: "+e),c.statsGatheringRunning=!1,i(r,s)}.bind(c)),t&&t.getStats().then(h)}function h(e){if("chrome"===adapter.browserDetails.browser){var t=enumerateStats(e,c.localTrackIds,c.remoteTrackIds);o.push(t),a.push(Date.now())}else if("firefox"===adapter.browserDetails.browser)for(var n in e){var i=e[n];o.push(i),a.push(Date.now())}else c.test.reportError("Only Firefox and Chrome getStats implementations are supported.")}function u(e){if("chrome"===adapter.browserDetails.browser){var t=enumerateStats(e,c.localTrackIds,c.remoteTrackIds);r.push(t),s.push(Date.now())}else if("firefox"===adapter.browserDetails.browser)for(var n in e){var i=e[n];r.push(i),s.push(Date.now())}else c.test.reportError("Only Firefox and Chrome getStats implementations are supported.");setTimeout(d,l)}c.localTrackIds={audio:"",video:""},c.remoteTrackIds={audio:"",video:""},e.getSenders().forEach(function(e){"audio"===e.track.kind?c.localTrackIds.audio=e.track.id:"video"===e.track.kind&&(c.localTrackIds.video=e.track.id)}.bind(c)),t&&t.getReceivers().forEach(function(e){"audio"===e.track.kind?c.remoteTrackIds.audio=e.track.id:"video"===e.track.kind&&(c.remoteTrackIds.video=e.track.id)}.bind(c)),this.statsGatheringRunning=!0,d()},gotOffer_:function(e){this.constrainOfferToRemoveVideoFec_&&(e.sdp=e.sdp.replace(/(m=video 1 [^\r]+)(116 117)(\r\n)/g,"$1\r\n"),e.sdp=e.sdp.replace(/a=rtpmap:116 red\/90000\r\n/g,""),e.sdp=e.sdp.replace(/a=rtpmap:117 ulpfec\/90000\r\n/g,""),e.sdp=e.sdp.replace(/a=rtpmap:98 rtx\/90000\r\n/g,""),e.sdp=e.sdp.replace(/a=fmtp:98 apt=116\r\n/g,"")),this.pc1.setLocalDescription(e),this.pc2.setRemoteDescription(e),this.pc2.createAnswer().then(this.gotAnswer_.bind(this),this.test.reportFatal.bind(this.test))},gotAnswer_:function(e){this.constrainVideoBitrateKbps_&&(e.sdp=e.sdp.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+this.constrainVideoBitrateKbps_+"\r\n")),this.pc2.setLocalDescription(e),this.pc1.setRemoteDescription(e)},onIceCandidate_:function(e,t){if(t.candidate){var n=Call.parseCandidate(t.candidate.candidate);this.iceCandidateFilter_(n)&&e.addIceCandidate(t.candidate)}}},Call.noFilter=function(){return!0},Call.isRelay=function(e){return"relay"===e.type},Call.isNotHostCandidate=function(e){return"host"!==e.type},Call.isReflexive=function(e){return"srflx"===e.type},Call.isHost=function(e){return"host"===e.type},Call.isIpv6=function(e){return-1!==e.address.indexOf(":")},Call.parseCandidate=function(e){var t="candidate:",n=e.indexOf(t)+t.length,i=e.substr(n).split(" ");return{type:i[7],protocol:i[2],address:i[4]}},Call.cachedIceServers_=null,Call.cachedIceConfigFetchTime_=null,Call.asyncCreateTurnConfig=function(n,e){var t=currentTest.settings;if("string"==typeof t.turnURI&&""!==t.turnURI){var i={iceServers:[{username:t.turnUsername||"",credential:t.turnCredential||"",urls:t.turnURI.split(",")}]};report.traceEventInstant("turn-config",i),setTimeout(n.bind(null,i),0)}else Call.fetchTurnConfig_(function(e){var t={iceServers:e.iceServers};report.traceEventInstant("turn-config",t),n(t)},e)},Call.asyncCreateStunConfig=function(n,e){var t=currentTest.settings;if("string"==typeof t.stunURI&&""!==t.stunURI){var i={iceServers:[{urls:t.stunURI.split(",")}]};report.traceEventInstant("stun-config",i),setTimeout(n.bind(null,i),0)}else Call.fetchTurnConfig_(function(e){var t={iceServers:e.iceServers.urls};report.traceEventInstant("stun-config",t),n(t)},e)},Call.fetchTurnConfig_=function(e,t){if(Call.cachedIceServers_&&!((Date.now()-Call.cachedIceConfigFetchTime_)/1e3>parseInt(Call.cachedIceServers_.lifetimeDuration)-240))return report.traceEventInstant("fetch-ice-config","Using cached credentials."),void e(Call.getCachedIceCredentials_());Call.cachedIceServers_={lifetimeDuration:"86400s",iceServers:[{urls:["stun:turn.atheerair.com:80","stun:aturn.atheerair.com:443"]},{urls:["turn:aturn.atheerair.com:443","turn:aturn2.atheerair.com:443?transport=tcp","turn:turn.atheerair.com:80","turn:turn2.atheerair.com:80?transport=tcp"],username:"gorst",credential:"hero"}],blockStatus:"NOT_BLOCKED",iceTransportPolicy:"all"},Call.getCachedIceCredentials_=function(){return JSON.parse(JSON.stringify(Call.cachedIceServers_))},Call.cachedIceConfigFetchTime_=Date.now(),report.traceEventInstant("fetch-ice-config","Fetching new credentials."),e(Call.getCachedIceCredentials_())},StatisticsAggregate.prototype={add:function(e,t){0===this.startTime_&&(this.startTime_=e),this.sum_+=t,this.max_=Math.max(this.max_,t),this.rampUpTime_===1/0&&t>this.rampUpThreshold_&&(this.rampUpTime_=e),this.count_++},getAverage:function(){return 0===this.count_?0:Math.round(this.sum_/this.count_)},getMax:function(){return this.max_},getRampUpTime:function(){return Math.round(this.rampUpTime_-this.startTime_)}},Ssim.prototype={statistics:function(e){var t,n=0;for(t=0;t<e.length;++t)n+=e[t];var i=n/(e.length-1),r=0;for(t=1;t<e.length;++t)r=e[t-1]-i,n+=e[t]+r*r;return{mean:i,variance:n/e.length}},covariance:function(e,t,n,i){for(var r=0,o=0;o<e.length;o+=1)r+=(e[o]-n)*(t[o]-i);return r/e.length},calculate:function(e,t){if(e.length!==t.length)return 0;var n=6.502500000000001,i=.03*255*(.03*255),r=i/2,o=this.statistics(e),s=o.mean,a=o.variance,c=Math.sqrt(a),l=this.statistics(t),d=l.mean,h=l.variance,u=Math.sqrt(h);return(2*s*d+n)/(s*s+d*d+n)*((2*c*u+i)/(a+h+i))*((this.covariance(e,t,s,d)+r)/(c*u+r))}},"object"==typeof exports&&(module.exports=Ssim),VideoFrameChecker.prototype={stop:function(){this.videoElement_.removeEventListener("play",this.listener_),this.running_=!1},getCurrentImageData_:function(){this.canvas_.width=this.videoElement_.width,this.canvas_.height=this.videoElement_.height;var e=this.canvas_.getContext("2d");return e.drawImage(this.videoElement_,0,0,this.canvas_.width,this.canvas_.height),e.getImageData(0,0,this.canvas_.width,this.canvas_.height)},checkVideoFrame_:function(){if(this.running_&&!this.videoElement_.ended){var e=this.getCurrentImageData_();this.isBlackFrame_(e.data,e.data.length)&&this.frameStats.numBlackFrames++,this.frameComparator.calculate(this.previousFrame_,e.data)>this.identicalFrameSsimThreshold&&this.frameStats.numFrozenFrames++,this.previousFrame_=e.data,this.frameStats.numFrames++,setTimeout(this.checkVideoFrame_.bind(this),20)}},isBlackFrame_:function(e,t){for(var n=this.nonBlackPixelLumaThreshold,i=0,r=4;r<t;r+=4)if(n*r/4<(i+=.21*e[r]+.72*e[r+1]+.07*e[r+2]))return!1;return!0}},"object"==typeof exports&&(module.exports=VideoFrameChecker),BandwidthCall.prototype={establishConnection:function(){this.traceEvent({state:"start"}),this.pc1.createOffer().then(this.gotOffer_.bind(this),this.test.reportFatal.bind(this.test))},close:function(){this.traceEvent({state:"end"}),this.pc1.close(),this.pc2.close()},setIceCandidateFilter:function(e){this.iceCandidateFilter_=e},constrainVideoBitrate:function(e){this.constrainVideoBitrateKbps_=e},disableVideoFec:function(){this.constrainOfferToRemoveVideoFec_=!0},gatherStats:function(e,t,n,i){var r=[],o=[],s=[],a=[],c=this,l=100;function d(){if("closed"===e.signalingState)return c.statsGatheringRunning=!1,void i(r,s,o,a);e.getStats().then(u).catch(function(e){c.test.reportError("Could not gather stats: "+e),c.statsGatheringRunning=!1,i(r,s)}.bind(c)),t&&t.getStats().then(h)}function h(e){if("chrome"===adapter.browserDetails.browser){var t=enumerateStats(e,c.localTrackIds,c.remoteTrackIds);o.push(t),a.push(Date.now())}else if("firefox"===adapter.browserDetails.browser)for(var n in e){var i=e[n];o.push(i),a.push(Date.now())}else c.test.reportError("Only Firefox and Chrome getStats implementations are supported.")}function u(e){if("chrome"===adapter.browserDetails.browser){var t=enumerateStats(e,c.localTrackIds,c.remoteTrackIds);r.push(t),s.push(Date.now())}else if("firefox"===adapter.browserDetails.browser)for(var n in e){var i=e[n];r.push(i),s.push(Date.now())}else c.test.reportError("Only Firefox and Chrome getStats implementations are supported.");setTimeout(d,l)}c.localTrackIds={audio:"",video:""},c.remoteTrackIds={audio:"",video:""},e.getSenders().forEach(function(e){"audio"===e.track.kind?c.localTrackIds.audio=e.track.id:"video"===e.track.kind&&(c.localTrackIds.video=e.track.id)}.bind(c)),t&&t.getReceivers().forEach(function(e){"audio"===e.track.kind?c.remoteTrackIds.audio=e.track.id:"video"===e.track.kind&&(c.remoteTrackIds.video=e.track.id)}.bind(c)),this.statsGatheringRunning=!0,d()},gotOffer_:function(e){this.constrainOfferToRemoveVideoFec_&&(e.sdp=e.sdp.replace(/(m=video 1 [^\r]+)(116 117)(\r\n)/g,"$1\r\n"),e.sdp=e.sdp.replace(/a=rtpmap:116 red\/90000\r\n/g,""),e.sdp=e.sdp.replace(/a=rtpmap:117 ulpfec\/90000\r\n/g,""),e.sdp=e.sdp.replace(/a=rtpmap:98 rtx\/90000\r\n/g,""),e.sdp=e.sdp.replace(/a=fmtp:98 apt=116\r\n/g,"")),this.pc1.setLocalDescription(e),this.pc2.setRemoteDescription(e),this.pc2.createAnswer().then(this.gotAnswer_.bind(this),this.test.reportFatal.bind(this.test))},gotAnswer_:function(e){this.constrainVideoBitrateKbps_&&(e.sdp=e.sdp.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+this.constrainVideoBitrateKbps_+"\r\n")),this.pc2.setLocalDescription(e),this.pc1.setRemoteDescription(e)},onIceCandidate_:function(e,t){if(t.candidate){var n=BandwidthCall.parseCandidate(t.candidate.candidate);this.iceCandidateFilter_(n)&&e.addIceCandidate(t.candidate)}}},BandwidthCall.noFilter=function(){return!0},BandwidthCall.isRelay=function(e){return"relay"===e.type},BandwidthCall.isNotHostCandidate=function(e){return"host"!==e.type},BandwidthCall.isReflexive=function(e){return"srflx"===e.type},BandwidthCall.isHost=function(e){return"host"===e.type},BandwidthCall.isIpv6=function(e){return-1!==e.address.indexOf(":")},BandwidthCall.parseCandidate=function(e){var t="candidate:",n=e.indexOf(t)+t.length,i=e.substr(n).split(" ");return{type:i[7],protocol:i[2],address:i[4]}},BandwidthCall.cachedIceServers_=null,BandwidthCall.cachedIceConfigFetchTime_=null,BandwidthCall.asyncCreateTurnConfig=function(e,n,t){var i=currentTest.settings;if("string"==typeof i.turnURI&&""!==i.turnURI){var r={iceServers:[{username:i.turnUsername||"",credential:i.turnCredential||"",urls:i.turnURI.split(",")}]};report.traceEventInstant("turn-config",r),setTimeout(n.bind(null,r),0)}else BandwidthCall.fetchTurnConfig_(e,function(e){var t={iceServers:e.iceServers};report.traceEventInstant("turn-config",t),n(t)},t)},BandwidthCall.asyncCreateStunConfig=function(n,e){var t=currentTest.settings;if("string"==typeof t.stunURI&&""!==t.stunURI){var i={iceServers:[{urls:t.stunURI.split(",")}]};report.traceEventInstant("stun-config",i),setTimeout(n.bind(null,i),0)}else BandwidthCall.fetchTurnConfig_(function(e){var t={iceServers:e.iceServers.urls};report.traceEventInstant("stun-config",t),n(t)},e)},BandwidthCall.fetchTurnConfig_=function(e,t,n){if(BandwidthCall.cachedIceServers_){var i=(Date.now()-BandwidthCall.cachedIceConfigFetchTime_)/1e3>parseInt(BandwidthCall.cachedIceServers_.lifetimeDuration)-240;if(e!==BandwidthCall.cachedIceServers_.iceServers[0].urls[0]&&(i=!0),!i)return report.traceEventInstant("fetch-ice-config","Using cached credentials."),void t(BandwidthCall.getCachedIceCredentials_(e))}BandwidthCall.cachedIceServers_={lifetimeDuration:"86400s",iceServers:[{urls:[e],username:"gorst",credential:"hero"}],blockStatus:"NOT_BLOCKED",iceTransportPolicy:"all"},BandwidthCall.getCachedIceCredentials_=function(e){return JSON.parse(JSON.stringify(BandwidthCall.cachedIceServers_))},BandwidthCall.cachedIceConfigFetchTime_=Date.now(),report.traceEventInstant("fetch-ice-config","Fetching new credentials."),t(BandwidthCall.getCachedIceCredentials_(e))};var testCaseName=new TestCaseNames;function TestSuiteNames(){return this.testSuites={CONNECTION:"Connections",CAMERA:"Camera",MICROPHONE:"Microphone",NETWORK:"Network",CONNECTIVITY:"Connectivity",BANDWIDTH:"Bandwidth"},this.testSuites}var testSuiteName=new TestSuiteNames;function ConnectionURLName(){var e=null;return"eu"!==env&&(e="live"),"eu"===env&&(e="next"),this.URLs={ANALYTICS:"https://analytics.airsuite-live.atheerair.com",API:"https://api.airsuite-"+e+".atheerair.com/api/help/version",JABBER:"https://jabber.airsuite-"+e+".atheerair.com/http-bind",VIDEODOMAIN:"https://meet.airsuite-"+e+".atheerair.com",VIDEOIP:"https://52.37.226.111",STORAGE:"https://fileserver.airsuite-"+e+".atheerair.com/index.php/s/0XBWwEJcc6ENbae/download",WEBSOCKETCONNECTION:"wss://ws.airsuite-"+e+".atheerair.com/ws",WEBSOCKET:"https://ws.airsuite-"+e+".atheerair.com/webrtc",ANALYTICSERRORURL:"analytics.airsuite-live.atheerair.com:443 tcp",APIERRORURL:"api.airsuite-"+e+".atheerair.com:443 tcp",STORAGEERRORURL:"fileserver.airsuite-"+e+".atheerair.com:443 tcp",WEBSOCKETERRORURL:"ws.airsuite-"+e+".atheerair.com:443 tcp",JABBERERRORURL:"jabber.airsuite-"+e+".atheerair.com:443 tcp",VIDEODOMAINERRORURL:"meet.airsuite-"+e+".atheerair.com:443 tcp",TURN_CONFIG_URL_LIVE:"https://airsuite.atheerair.com/webrtc/json/turn.json",TURN_CONFIG_URL_EU:"https://airsuite-next.atheerair.com/webrtc/json/turn.json"},this.URLs}var connectionURLName=new ConnectionURLName;function AnalyticsTest(e){this.test=e}function ApiTest(e){this.test=e}function FileServerTest(e){this.test=e}function VideoDomainTest(e,t){this.test=e,this.url=t}function JabberTest(e){this.test=e}function MicTest(e){this.test=e,this.inputChannelCount=6,this.outputChannelCount=2,this.bufferSize=0,this.constraints={audio:{optional:[{echoCancellation:!1}]}},this.collectSeconds=2,this.silentThreshold=1/32767,this.lowVolumeThreshold=-60,this.monoDetectThreshold=1/65536,this.clipCountThreshold=6,this.clipThreshold=1,this.collectedAudio=[];for(var t=this.collectedSampleCount=0;t<this.inputChannelCount;++t)this.collectedAudio[t]=[]}function CamResolutionsTest(e,t){this.test=e,this.resolutions=t,this.currentResolution=0,this.isMuted=!1,this.isShuttingDown=!1}function DownlinkTest(e,t,n){this.test=e,this.sum=0,this.success=0,this.imageAddr=[],this.imagesSmall=[],this.downloadSize=[],this.downloadSizeSmall=[];for(var i=0;i<t.length;i++)this.imageAddr.push(t[i].url),this.downloadSize.push(t[i].fileSize);for(var r=0;r<t.length;r++)this.imagesSmall.push(n[r].url),this.downloadSizeSmall.push(n[r].fileSize);this.max=this.imageAddr.length,this.lowbandwidth=0}function UplinkTest(e,t,n){this.test=e,this.sizeMb=n,this.startProcess=(new Date).getTime(),this.test.setProgress(((new Date).getTime()-this.startProcess)/100);var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~!@#$%^&*()_+`-=[]{/}/|;:,./<>?";this.iterations=1024*this.sizeMb*1024,this.data="",this.uploadSpeed=0,this.url=t+"?cache="+Math.floor(1e4*Math.random());for(var r=0;r<this.iterations;r++)this.data+=i.charAt(Math.floor(Math.random()*i.length))}function send_report(e,t,n){fetch(apiUrl+"/connectionreport",{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_full_name:e,email:t,result:{contents:n,server:env,version:"1.0"}})}),document.getElementById("send_report").disabled=!0,document.getElementById("send_report").innerHTML="SUBMITTED"}addTest(testSuiteName.CONNECTION,testCaseName.ANALYTICSTEST,function(e){new AnalyticsTest(e).run()}),AnalyticsTest.prototype={run:function(){fetch(connectionURLName.ANALYTICS,{mode:"no-cors"}).then(function(e){return e.text()}.bind(this)).then(function(e){this.test.reportSuccess("Analytics connection succeeded"),this.test.done()}.bind(this)).catch(function(e){this.test.reportError("Could not connect to "+connectionURLName.ANALYTICSERRORURL),this.test.done()}.bind(this))}},addTest(testSuiteName.CONNECTION,testCaseName.APITEST,function(e){new ApiTest(e).run()}),ApiTest.prototype={run:function(){fetch(connectionURLName.API,{mode:"no-cors"}).then(function(e){return e.text()}.bind(this)).then(function(e){this.test.reportSuccess("API connection succeeded"),this.test.done()}.bind(this)).catch(function(e){this.test.reportError("Could not connect to "+connectionURLName.APIERRORURL),this.test.done()}.bind(this))}},addTest(testSuiteName.CONNECTION,testCaseName.STORAGETEST,function(e){new FileServerTest(e).run()}),FileServerTest.prototype={run:function(){fetch(connectionURLName.STORAGE,{mode:"no-cors"}).then(function(e){return e.text()}.bind(this)).then(function(e){this.test.reportSuccess("Storage Connection Succeeded"),this.test.done()}.bind(this)).catch(function(e){this.test.reportError("could not connect to "+connectionURLName.STORAGEERRORURL),this.test.done()}.bind(this))}},addTest(testSuiteName.CONNECTION,testCaseName.VIDEOTEST,function(e){new VideoDomainTest(e,connectionURLName.VIDEODOMAIN).run()}),VideoDomainTest.prototype={run:function(){fetch(this.url,{mode:"no-cors"}).then(function(e){return e.text()}.bind(this)).then(function(e){this.test.reportSuccess("Video connection succeeded (Domain)"),this.test.done()}.bind(this)).catch(function(e){this.test.reportError("Could not connect to "+connectionURLName.VIDEODOMAINERRORURL),this.test.done()}.bind(this))}},addTest(testSuiteName.CONNECTION,testCaseName.JABBERTEST,function(e){new JabberTest(e).run()}),JabberTest.prototype={run:function(){fetch(connectionURLName.JABBER,{mode:"no-cors"}).then(function(e){return e.text()}.bind(this)).then(function(e){this.test.reportSuccess("XMPP connection succeeded"),this.test.done()}.bind(this)).catch(function(e){this.test.reportError("Could not connect to "+connectionURLName.JABBERERRORURL),this.test.done()}.bind(this))}},addTest(testSuiteName.MICROPHONE,testCaseName.AUDIOCAPTURE,function(e){new MicTest(e).run()}),MicTest.prototype={run:function(){void 0===audioContext?(this.test.reportError("WebAudio is not supported, test cannot run."),this.test.done()):doGetUserMedia(this.constraints,this.gotStream.bind(this))},gotStream:function(e){this.checkAudioTracks(e)?this.createAudioBuffer(e):this.test.done()},checkAudioTracks:function(e){var t=(this.stream=e).getAudioTracks();return t.length<1?(this.test.reportError("No audio track in returned stream."),!1):(this.test.reportSuccess("Audio track created using device="+t[0].label),!0)},createAudioBuffer:function(){this.audioSource=audioContext.createMediaStreamSource(this.stream),this.scriptNode=audioContext.createScriptProcessor(this.bufferSize,this.inputChannelCount,this.outputChannelCount),this.audioSource.connect(this.scriptNode),this.scriptNode.connect(audioContext.destination),this.scriptNode.onaudioprocess=this.collectAudio.bind(this),this.stopCollectingAudio=setTimeoutWithProgressBar(this.onStopCollectingAudio.bind(this),5e3)},collectAudio:function(e){for(var t=e.inputBuffer.length,n=!0,i=0;i<e.inputBuffer.numberOfChannels;i++){var r,o=e.inputBuffer.getChannelData(i),s=Math.abs(o[0]),a=Math.abs(o[t-1]);s>this.silentThreshold||a>this.silentThreshold?((r=new Float32Array(t)).set(o),n=!1):r=new Float32Array,this.collectedAudio[i].push(r)}n||(this.collectedSampleCount+=t,this.collectedSampleCount/e.inputBuffer.sampleRate>=this.collectSeconds&&this.stopCollectingAudio())},onStopCollectingAudio:function(){this.stream.getAudioTracks()[0].stop(),this.audioSource.disconnect(this.scriptNode),this.scriptNode.disconnect(audioContext.destination),this.analyzeAudio(this.collectedAudio),this.test.done()},analyzeAudio:function(e){for(var t=[],n=0;n<e.length;n++)this.channelStats(n,e[n])&&t.push(n);0===t.length?this.test.reportError("No active input channels detected. Microphone is most likely muted or broken, please check if muted in the sound settings or physically on the device. Then rerun the test."):this.test.reportSuccess("Active audio input channels: "+t.length),2===t.length&&this.detectMono(e[t[0]],e[t[1]])},channelStats:function(e,t){for(var n=0,i=0,r=0,o=0,s=0;s<t.length;s++){var a=t[s];if(0<a.length){for(var c=0,l=0,d=0;d<a.length;d++)l+=(c=Math.abs(a[d]))*c,(n=Math.max(n,c))>=this.clipThreshold?(r++,o=Math.max(o,r)):r=0;l=Math.sqrt(l/a.length),i=Math.max(i,l)}}if(n>this.silentThreshold){var h=this.dBFS(n),u=this.dBFS(i);return this.test.reportInfo("Channel "+e+" levels: "+h.toFixed(1)+" dB (peak), "+u.toFixed(1)+" dB (RMS)"),u<this.lowVolumeThreshold&&this.test.reportError("Microphone input level is low, increase input volume or move closer to the microphone."),o>this.clipCountThreshold&&this.test.reportWarning("Clipping detected! Microphone input level is high. Decrease input volume or move away from the microphone."),!0}return!1},detectMono:function(e,t){for(var n=0,i=0;i<e.length;i++){var r=e[i],o=t[i];if(r.length===o.length)for(var s=0;s<r.length;s++)Math.abs(r[s]-o[s])>this.monoDetectThreshold&&n++;else n++}0<n?this.test.reportInfo("Stereo microphone detected."):this.test.reportInfo("Mono microphone detected.")},dBFS:function(e){var t=20*Math.log(e)/Math.log(10);return Math.round(10*t)/10}},addTest(testSuiteName.CAMERA,testCaseName.CHECKRESOLUTION240,function(e){new CamResolutionsTest(e,[[320,240]]).run()}),addTest(testSuiteName.CAMERA,testCaseName.CHECKRESOLUTION480,function(e){new CamResolutionsTest(e,[[640,480]]).run()}),addTest(testSuiteName.CAMERA,testCaseName.CHECKRESOLUTION720,function(e){new CamResolutionsTest(e,[[1280,720]]).run()}),addTest(testSuiteName.CAMERA,testCaseName.CHECKSUPPORTEDRESOLUTIONS,function(e){new CamResolutionsTest(e,[[160,120],[320,180],[320,240],[640,360],[640,480],[768,576],[1024,576],[1280,720],[1280,768],[1280,800],[1920,1080],[1920,1200],[3840,2160],[4096,2160]]).run()}),CamResolutionsTest.prototype={run:function(){this.startGetUserMedia(this.resolutions[this.currentResolution])},startGetUserMedia:function(t){var e={audio:!1,video:{width:{exact:t[0]},height:{exact:t[1]}}};navigator.mediaDevices.getUserMedia(e).then(function(e){1<this.resolutions.length?(this.test.reportSuccess("Supported: "+t[0]+"x"+t[1]),e.getTracks().forEach(function(e){e.stop()}),this.maybeContinueGetUserMedia()):this.collectAndAnalyzeStats_(e,t)}.bind(this)).catch(function(e){1<this.resolutions.length?this.test.reportInfo(t[0]+"x"+t[1]+" not supported"):this.test.reportError("getUserMedia failed with error: "+e.name),this.maybeContinueGetUserMedia()}.bind(this))},maybeContinueGetUserMedia:function(){this.currentResolution!==this.resolutions.length?this.startGetUserMedia(this.resolutions[this.currentResolution++]):this.test.done()},collectAndAnalyzeStats_:function(e,t){var n=e.getVideoTracks();if(n.length<1)return this.test.reportError("No video track in returned stream."),void this.maybeContinueGetUserMedia();var i=n[0];"function"==typeof i.addEventListener&&(i.addEventListener("ended",function(){this.isShuttingDown||this.test.reportError("Video track ended, camera stopped working")}.bind(this)),i.addEventListener("mute",function(){this.isShuttingDown||(this.test.reportWarning("Your camera reported itself as muted."),this.isMuted=!0)}.bind(this)),i.addEventListener("unmute",function(){this.isShuttingDown||(this.test.reportInfo("Your camera reported itself as unmuted."),this.isMuted=!1)}.bind(this)));var r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.width=t[0],r.height=t[1],r.srcObject=e;var o=new VideoFrameChecker(r),s=new Call(null,this.test);s.pc1.addStream(e),s.establishConnection(),s.gatherStats(s.pc1,null,e,this.onCallEnded_.bind(this,t,r,e,o),100),setTimeoutWithProgressBar(this.endCall_.bind(this,s,e),8e3)},onCallEnded_:function(e,t,n,i,r,o){this.analyzeStats_(e,t,n,i,r,o),i.stop(),this.test.done()},analyzeStats_:function(e,t,n,i,r,o){var s=[],a=[],c=[],l={},d=i.frameStats;for(var h in r)"ssrc"===r[h].type&&0<parseInt(r[h].googFrameRateInput)&&(s.push(parseInt(r[h].googAvgEncodeMs)),a.push(parseInt(r[h].googFrameRateInput)),c.push(parseInt(r[h].googFrameRateSent)));l.cameraName=n.getVideoTracks()[0].label||NaN,l.actualVideoWidth=t.videoWidth,l.actualVideoHeight=t.videoHeight,l.mandatoryWidth=e[0],l.mandatoryHeight=e[1],l.encodeSetupTimeMs=this.extractEncoderSetupTime_(r,o),l.avgEncodeTimeMs=arrayAverage(s),l.minEncodeTimeMs=arrayMin(s),l.maxEncodeTimeMs=arrayMax(s),l.avgInputFps=arrayAverage(a),l.minInputFps=arrayMin(a),l.maxInputFps=arrayMax(a),l.avgSentFps=arrayAverage(c),l.minSentFps=arrayMin(c),l.maxSentFps=arrayMax(c),l.isMuted=this.isMuted,l.testedFrames=d.numFrames,l.blackFrames=d.numBlackFrames,l.frozenFrames=d.numFrozenFrames,report.traceEventInstant("video-stats",l),this.testExpectations_(l)},endCall_:function(e,t){this.isShuttingDown=!0,t.getTracks().forEach(function(e){e.stop()}),e.close()},extractEncoderSetupTime_:function(e,t){for(var n=0;n!==e.length;n++)if("ssrc"===e[n].type&&0<parseInt(e[n].googFrameRateInput))return JSON.stringify(t[n]-t[0]);return NaN},resolutionMatchesIndependentOfRotationOrCrop_:function(e,t,n,i){var r=Math.min(n,i);return e===n&&t===i||e===i&&t===n||e===r&&i===r},testExpectations_:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&("number"==typeof e[n]&&isNaN(e[n])?t.push(n):this.test.reportInfo(n+": "+e[n]));0!==t.length&&this.test.reportInfo("Not available: "+t.join(", ")),isNaN(e.avgSentFps)?this.test.reportInfo("Cannot verify sent FPS."):e.avgSentFps<5?this.test.reportError("Low average sent FPS: "+e.avgSentFps):this.test.reportSuccess("Average FPS above threshold"),this.resolutionMatchesIndependentOfRotationOrCrop_(e.actualVideoWidth,e.actualVideoHeight,e.mandatoryWidth,e.mandatoryHeight)?this.test.reportSuccess("Captured video using expected resolution."):this.test.reportError("Incorrect captured resolution."),0===e.testedFrames?this.test.reportError("Could not analyze any video frame."):(e.blackFrames>e.testedFrames/3&&this.test.reportError("Camera delivering lots of black frames."),e.frozenFrames>e.testedFrames/3&&this.test.reportError("Camera delivering lots of frozen frames."))}},addTest(testSuiteName.BANDWIDTH,testCaseName.DOWNLINKTEST,function(e){"eu"===env?new DownlinkTest(e,[{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/10mb.jpg",fileSize:10485760},{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/15mb.jpg",fileSize:15728640},{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/25mb.jpg",fileSize:17825792},{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/50mb.jpg",fileSize:40894464}],[{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/500kb.jpg",fileSize:524288},{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/1mb.jpg",fileSize:1048576},{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/2mb.jpg",fileSize:2097152},{url:"https://s3.eu-central-1.amazonaws.com/atheer-owncloud-eu-aws/speedtest/2mb.jpg",fileSize:2097152}]).run():new DownlinkTest(e,[{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/10mb.jpg",fileSize:10485760},{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/15mb.jpg",fileSize:15728640},{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/25mb.jpg",fileSize:17825792},{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/50mb.jpg",fileSize:40894464}],[{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/500kb.jpg",fileSize:524288},{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/1mb.jpg",fileSize:1048576},{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/2mb.jpg",fileSize:2097152},{url:"https://s3.us-east-2.amazonaws.com/atheer-storage-live/speedtest/2mb.jpg",fileSize:2097152}]).run()}),addTest(testSuiteName.BANDWIDTH,testCaseName.UPLINKTEST,function(e){("eu"===env?new UplinkTest(e,"https://meet.airsuite-next.atheerair.com",20):new UplinkTest(e,"https://meet.airsuite-live.atheerair.com",20)).run()}),DownlinkTest.prototype={run:function(){this.sum=0,this.measureConnectionSpeed(this.imageAddr,this.downloadSize)},measureConnectionSpeed:function(i,r){var o,e,t=new Image,s=this;function a(){e&&(clearTimeout(e),e=null)}function n(){if(r.shift(),i.length)s.measureConnectionSpeed(i,r);else if(0===s.success&&0===s.lowbandwidth)s.lowbandwidth=1,s.measureConnectionSpeed(s.imagesSmall,s.downloadSizeSmall);else if(0===s.success&&1===s.lowbandwidth)s.test.reportError("Bandwidth Very Low"),s.test.done();else{var e=(s.sum/s.success).toFixed(2);s.test.reportSuccess("Downlink: "+e+" mbps"),s.test.done()}}t.onload=function(){a(),s.success++;var e=((new Date).getTime()-o)/1e3,t=(((8*r.shift()/e).toFixed(2)/1024).toFixed(2)/1024).toFixed(2);if(s.sum=s.sum+parseFloat(t),i.length)s.measureConnectionSpeed(i,r);else{var n=(s.sum/s.success).toFixed(2);s.test.reportSuccess("Downlink: "+n+" mbps"),s.test.done()}},t.onerror=function(e,t){a(),n()};var c,l="?aaa="+(o=(new Date).getTime()),d=i.shift();t.src=d+l,e=setTimeout((c=t,s.test.setProgress(((new Date).getTime()-o)/100),function(){(function(){this.onload=this.onerror=function(){},a(),n()}).call(c)}),2e4)}},UplinkTest.prototype={run:function(){this.checkUploadSpeed()},checkUploadSpeed:function(){var i=this,r=new XMLHttpRequest;r.onreadystatechange=function(e){if(4===r.readyState){var t=((new Date).getTime()-i.startUploadTime)/1e3,n=(8*i.iterations/1024/1024/t).toFixed(2);i.test.reportSuccess("Uplink: "+n+" mbps"),i.test.done()}},r.open("POST",i.url,!0),i.startUploadTime=(new Date).getTime(),r.send(i.data)}};